(self["webpackChunk_N_E"]=self["webpackChunk_N_E"]||[]).push([[105],{210:(e,s,t)=>{"use strict";t.d(s,{AuthProvider:()=>p,A:()=>h});var r=t(5155);var a=t(2115);var n=t(5695);var i=t(5404);var o=t(5317);var c=t(3915);const d={apiKey:"AIzaSyDeO4RNogxdrDxOJEWfAbsyr67jh19fIFc",authDomain:"gesticom-4e956.firebaseapp.com",projectId:"gesticom-4e956",storageBucket:"gesticom-4e956.firebasestorage.app",messagingSenderId:"158166010651",appId:"1:158166010651:web:58b14e98489ea9046a61be"};const l=!(0,c.Dk)().length?(0,c.Wp)(d):(0,c.Sx)();const u=(0,i.xI)(l);const x=(0,o.aU)(l,"gesticom");const m=(0,a.createContext)(undefined);const h=()=>{const e=(0,a.useContext)(m);if(e===undefined){throw new Error("useAuth must be used within an AuthProvider")}return e};const p=e=>{let{children:s}=e;const[t,c]=(0,a.useState)(null);const[d,l]=(0,a.useState)(null);const[h,p]=(0,a.useState)(true);const f=(0,n.useRouter)();(0,a.useEffect)(()=>{const e=(0,i.hg)(u,async e=>{if(e){const s=await e.getIdToken();l(s);const t=await (0,o.x7)((0,o.H9)(x,"usuarios",e.uid));if(t.exists()){const s=t.data();c({id:e.uid,nombre:s.nombre||"Usuario",rut:s.rut||"",email:e.email||"",rol:s.rol||"vendedor"})}}else{c(null);l(null)}p(false)});return()=>e()},[]);const v=async(e,s)=>{await (0,i.x9)(u,e,s);f.push("/inventario")};const g=async()=>{await (0,i.CI)(u);f.push("/login")};const y=e=>{if(!t)return false;const s=Array.isArray(e)?e:[e];return s.includes(t.rol)};return(0,r.jsx)(m.Provider,{value:{usuario:t,token:d,login:v,logout:g,isLoading:h,isAuthenticated:!!t,hasRole:y},children:s})}},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(2596);var a=t(9688);function n(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++){s[t]=arguments[t]}return(0,a.QP)((0,r.$)(s))}},7108:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(9946);const a=(0,r.A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var r=t(5155);var a=t(2115);var n=t(9708);var i=t(2085);var o=t(3999);const c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});const d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:i,asChild:d=false,...l}=e;const u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(c({variant:a,size:i,className:t})),ref:s,...l})});d.displayName="Button"},7580:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(9946);const a=(0,r.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7789:(e,s,t)=>{"use strict";t.r(s);t.d(s,{"default":()=>N});var r=t(5155);var a=t(8482);var n=t(2115);var i=t(5695);var o=t(210);var c=t(7168);var d=t(8145);var l=t(7108);var u=t(7809);var x=t(9946);const m=(0,x.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var h=t(7580);const p=(0,x.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const f=(0,x.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const v=(0,x.A)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);const g=(0,x.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const y=(0,x.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const b=(0,x.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const j=(0,x.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);function N(){const{usuario:e,isAuthenticated:s,isLoading:t,logout:x,hasRole:N}=(0,o.A)();const w=(0,i.useRouter)();(0,n.useEffect)(()=>{if(!t&&!s){w.push("/login")}},[s,t,w]);if(t){return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})}if(!s||!e){return null}const k=[{id:"inventario",titulo:"Inventario",descripcion:"Gesti\xf3n de productos",icono:l.A,disponible:true},{id:"ventas",titulo:"Ventas",descripcion:"Registro de ventas",icono:u.A,disponible:true},{id:"horarios",titulo:"Horarios",descripcion:"Control de asistencia",icono:m,disponible:false,soloOwner:true},{id:"usuarios",titulo:"Usuarios",descripcion:"Gesti\xf3n de personal",icono:h.A,disponible:true,soloOwner:true},{id:"reportes",titulo:"Reportes",descripcion:"An\xe1lisis y estad\xedsticas",icono:p,disponible:false},{id:"notificaciones",titulo:"Notificaciones",descripcion:"Alertas del sistema",icono:f,disponible:false}];const A=k.filter(e=>{if(e.soloOwner&&!N("due\xf1o")){return false}return true});const C=e=>{if(!e.disponible){return}if(e.id==="usuarios"){w.push("/dashboard/usuarios")}else{if(e.id==="inventario"){w.push("/dashboard/inventario")}}if(e.id==="ventas"){w.push("/dashboard/ventas")}if(e.id==="horarios"){w.push("/dashboard/horarios")}if(e.id==="reportes"){w.push("/dashboard/reportes")}if(e.id==="notificaciones"){w.push("/dashboard/notificaciones")}if(e.id==="notificaciones"){w.push("/dashboard/notificaciones")}};const M=A.slice(0,3);const R=A.slice(3,6);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"bg-gray-900 rounded-lg p-2",children:(0,r.jsx)(v,{className:"h-6 w-6 text-white"})}),(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"GestiCom Dashboard"})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.nombre}),(0,r.jsx)("div",{className:"flex items-center justify-end space-x-1",children:e.rol==="due\xf1o"?(0,r.jsxs)(d.E,{variant:"secondary",className:"text-xs",children:[(0,r.jsx)(g,{className:"h-3 w-3 mr-1"}),"Due\xf1o"]}):(0,r.jsxs)(d.E,{variant:"secondary",className:"text-xs",children:[(0,r.jsx)(y,{className:"h-3 w-3 mr-1"}),"Trabajador"]})})]})}),(0,r.jsxs)(c.$,{variant:"outline",size:"sm",onClick:x,children:[(0,r.jsx)(b,{className:"h-4 w-4 mr-2"}),"Cerrar Sesi\xf3n"]})]})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:[(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:"Total Productos"}),(0,r.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"1,234"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"+20.1% desde el mes pasado"})]})]}),(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:"Ventas del Mes"}),(0,r.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"$45,231"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"+15.3% desde el mes pasado"})]})]}),N("due\xf1o")&&(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:"Usuarios Activos"}),(0,r.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"12"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"+2 nuevos este mes"})]})]}),(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:"Crecimiento"}),(0,r.jsx)(j,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"+12.5%"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comparado con el a\xf1o pasado"})]})]})]}),(0,r.jsxs)("div",{className:"w-full max-w-5xl mx-auto space-y-16",children:[(0,r.jsx)("div",{className:"grid grid-cols-3 gap-12 justify-items-center",children:A.slice(0,3).map(e=>{const s=e.icono;return(0,r.jsx)("div",{className:"\n                    group cursor-pointer transition-all duration-300 transform hover:scale-105\n                    ".concat(e.disponible?"opacity-100":"opacity-60","\n                  "),onClick:()=>C(e),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"\n                        w-32 h-32 rounded-2xl mx-auto mb-6 flex items-center justify-center transition-all duration-300 shadow-lg border-2\n                        ".concat(e.disponible?"bg-white border-gray-200 hover:border-gray-300 group-hover:shadow-xl":"bg-gray-50 border-gray-200","\n                      "),children:(0,r.jsx)(s,{className:"h-16 w-16 ".concat(e.disponible?"text-gray-900":"text-gray-400")})}),(0,r.jsx)("h3",{className:"\n                        font-semibold text-lg mb-2\n                        ".concat(e.disponible?"text-gray-900":"text-gray-500","\n                      "),children:e.titulo}),(0,r.jsx)("p",{className:"\n                        text-sm\n                        ".concat(e.disponible?"text-gray-600":"text-gray-400","\n                      "),children:e.descripcion}),!e.disponible&&(0,r.jsx)(d.E,{variant:"secondary",className:"mt-3 text-xs",children:"Pr\xf3ximamente"})]})},e.id)})}),A.length>3&&(0,r.jsx)("div",{className:"grid grid-cols-3 gap-12 justify-items-center",children:A.slice(3,6).map(e=>{const s=e.icono;return(0,r.jsx)("div",{className:"\n                      group cursor-pointer transition-all duration-300 transform hover:scale-105\n                      ".concat(e.disponible?"opacity-100":"opacity-60","\n                    "),onClick:()=>C(e),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"\n                          w-32 h-32 rounded-2xl mx-auto mb-6 flex items-center justify-center transition-all duration-300 shadow-lg border-2\n                          ".concat(e.disponible?"bg-white border-gray-200 hover:border-gray-300 group-hover:shadow-xl":"bg-gray-50 border-gray-200","\n                        "),children:(0,r.jsx)(s,{className:"h-16 w-16 ".concat(e.disponible?"text-gray-900":"text-gray-400")})}),(0,r.jsx)("h3",{className:"\n                          font-semibold text-lg mb-2\n                          ".concat(e.disponible?"text-gray-900":"text-gray-500","\n                        "),children:e.titulo}),(0,r.jsx)("p",{className:"\n                          text-sm\n                          ".concat(e.disponible?"text-gray-600":"text-gray-400","\n                        "),children:e.descripcion}),!e.disponible&&(0,r.jsx)(d.E,{variant:"secondary",className:"mt-3 text-xs",children:"Pr\xf3ximamente"})]})},e.id)})})]}),(0,r.jsx)("div",{className:"text-center mt-16 text-gray-500",children:(0,r.jsx)("p",{className:"text-sm",children:"Haz clic en cualquier m\xf3dulo para acceder a sus funciones"})})]})]})}},7809:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(9946);const a=(0,r.A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},8145:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var r=t(5155);var a=t(2115);var n=t(2085);var i=t(3999);const o=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)(o({variant:t}),s),...a})}},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>l,ZB:()=>c,Zp:()=>i,aR:()=>o});var r=t(5155);var a=t(2115);var n=t(3999);const i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";const o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});o.displayName="CardHeader";const c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";const d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";const l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});l.displayName="CardContent";const u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},8599:(e,s,t)=>{Promise.resolve().then(t.bind(t,7789))}},e=>{var s=s=>e(e.s=s);e.O(0,[135,204,896,455,441,684,358],()=>s(8599));var t=e.O();_N_E=t}]);