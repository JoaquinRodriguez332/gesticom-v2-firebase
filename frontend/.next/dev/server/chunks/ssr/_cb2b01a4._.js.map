{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/lib/auth-context.tsx"],"sourcesContent":["// This file is deprecated - use @/contexts/auth-context instead\nexport { useAuth, AuthProvider } from \"@/contexts/auth-context\"\nexport type { Usuario } from \"@/contexts/auth-context\"\n"],"names":[],"mappings":"AAAA,gEAAgE;;AAChE"}},
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/notificaciones-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { Bell, BellRing, Package, DollarSign, Check, Trash2 } from \"lucide-react\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\n\ninterface Notificacion {\n  id: number\n  tipo: \"stock_bajo\" | \"sin_stock\" | \"venta_alta\" | \"sistema\"\n  titulo: string\n  mensaje: string\n  producto_id?: number\n  prioridad: \"alta\" | \"media\" | \"baja\"\n  estado: \"activa\" | \"leida\" | \"archivada\"\n  fecha: string\n  producto_nombre?: string\n  stock_actual?: number\n}\n\nconst NotificacionesPanel: React.FC = () => {\n  const [notificaciones, setNotificaciones] = useState<Notificacion[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [showAll, setShowAll] = useState(false)\n  const { token } = useAuth()\n  const { toast } = useToast()\n\n  const fetchNotificaciones = async () => {\n    if (!token) return\n\n    setIsLoading(true)\n    try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001/api\"}/notificaciones`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (!response.ok) {\n        throw new Error(\"Error al cargar notificaciones\")\n      }\n\n      const data = await response.json()\n      setNotificaciones(data)\n    } catch (error) {\n      console.error(\"Error al cargar notificaciones:\", error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchNotificaciones()\n    // Actualizar cada 30 segundos\n    const interval = setInterval(fetchNotificaciones, 30000)\n    return () => clearInterval(interval)\n  }, [token])\n\n  const marcarComoLeida = async (id: number) => {\n    try {\n      const response = await fetch(\n        `${process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001/api\"}/notificaciones/${id}/marcar-leida`,\n        {\n          method: \"PUT\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        },\n      )\n\n      if (response.ok) {\n        setNotificaciones((prev) => prev.map((notif) => (notif.id === id ? { ...notif, estado: \"leida\" } : notif)))\n      }\n    } catch (error) {\n      console.error(\"Error al marcar como le铆da:\", error)\n    }\n  }\n\n  const eliminarNotificacion = async (id: number) => {\n    try {\n      const response = await fetch(\n        `${process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001/api\"}/notificaciones/${id}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        },\n      )\n\n      if (response.ok) {\n        setNotificaciones((prev) => prev.filter((notif) => notif.id !== id))\n        toast({\n          title: \"Notificaci贸n eliminada\",\n          description: \"La notificaci贸n se ha eliminado correctamente\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Error al eliminar notificaci贸n:\", error)\n    }\n  }\n\n  const getIcono = (tipo: string) => {\n    switch (tipo) {\n      case \"stock_bajo\":\n      case \"sin_stock\":\n        return <Package className=\"h-4 w-4\" />\n      case \"venta_alta\":\n        return <DollarSign className=\"h-4 w-4\" />\n      default:\n        return <Bell className=\"h-4 w-4\" />\n    }\n  }\n\n  const getPrioridadColor = (prioridad: string) => {\n    switch (prioridad) {\n      case \"alta\":\n        return \"destructive\"\n      case \"media\":\n        return \"default\"\n      case \"baja\":\n        return \"secondary\"\n      default:\n        return \"outline\"\n    }\n  }\n\n  const notificacionesActivas = notificaciones.filter((n) => n.estado === \"activa\")\n  const notificacionesParaMostrar = showAll ? notificaciones : notificacionesActivas.slice(0, 5)\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" size=\"icon\" className=\"relative bg-transparent\">\n          {notificacionesActivas.length > 0 ? <BellRing className=\"h-4 w-4\" /> : <Bell className=\"h-4 w-4\" />}\n          {notificacionesActivas.length > 0 && (\n            <Badge\n              variant=\"destructive\"\n              className=\"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs\"\n            >\n              {notificacionesActivas.length > 9 ? \"9+\" : notificacionesActivas.length}\n            </Badge>\n          )}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"w-80\">\n        <DropdownMenuLabel className=\"flex items-center justify-between\">\n          <span>Notificaciones</span>\n          <Badge variant=\"outline\">{notificacionesActivas.length} nuevas</Badge>\n        </DropdownMenuLabel>\n        <DropdownMenuSeparator />\n\n        {isLoading ? (\n          <div className=\"p-4 text-center\">\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto\" />\n          </div>\n        ) : notificacionesParaMostrar.length === 0 ? (\n          <div className=\"p-4 text-center text-muted-foreground\">\n            <Bell className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n            <p>No hay notificaciones</p>\n          </div>\n        ) : (\n          <div className=\"max-h-96 overflow-y-auto\">\n            {notificacionesParaMostrar.map((notificacion) => (\n              <DropdownMenuItem key={notificacion.id} className=\"p-0\">\n                <Card className=\"w-full border-0 shadow-none\">\n                  <CardContent className=\"p-3\">\n                    <div className=\"flex items-start space-x-3\">\n                      <div\n                        className={`p-2 rounded-full ${\n                          notificacion.prioridad === \"alta\"\n                            ? \"bg-red-100 text-red-600\"\n                            : notificacion.prioridad === \"media\"\n                              ? \"bg-yellow-100 text-yellow-600\"\n                              : \"bg-blue-100 text-blue-600\"\n                        }`}\n                      >\n                        {getIcono(notificacion.tipo)}\n                      </div>\n\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center justify-between mb-1\">\n                          <h4 className=\"text-sm font-medium truncate\">{notificacion.titulo}</h4>\n                          <Badge variant={getPrioridadColor(notificacion.prioridad) as any} className=\"text-xs\">\n                            {notificacion.prioridad}\n                          </Badge>\n                        </div>\n\n                        <p className=\"text-xs text-muted-foreground mb-2 line-clamp-2\">{notificacion.mensaje}</p>\n\n                        {notificacion.producto_nombre && (\n                          <p className=\"text-xs text-blue-600 mb-2\">\n                             {notificacion.producto_nombre}\n                            {notificacion.stock_actual !== undefined && ` (Stock: ${notificacion.stock_actual})`}\n                          </p>\n                        )}\n\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-xs text-muted-foreground\">\n                            {new Date(notificacion.fecha).toLocaleDateString(\"es-CL\", {\n                              month: \"short\",\n                              day: \"numeric\",\n                              hour: \"2-digit\",\n                              minute: \"2-digit\",\n                            })}\n                          </span>\n\n                          <div className=\"flex space-x-1\">\n                            {notificacion.estado === \"activa\" && (\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                onClick={(e) => {\n                                  e.stopPropagation()\n                                  marcarComoLeida(notificacion.id)\n                                }}\n                                className=\"h-6 w-6 p-0\"\n                              >\n                                <Check className=\"h-3 w-3\" />\n                              </Button>\n                            )}\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={(e) => {\n                                e.stopPropagation()\n                                eliminarNotificacion(notificacion.id)\n                              }}\n                              className=\"h-6 w-6 p-0 text-destructive hover:text-destructive\"\n                            >\n                              <Trash2 className=\"h-3 w-3\" />\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </DropdownMenuItem>\n            ))}\n          </div>\n        )}\n\n        {notificaciones.length > 5 && (\n          <>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={() => setShowAll(!showAll)}>\n              <span className=\"text-center w-full\">\n                {showAll ? \"Ver menos\" : `Ver todas (${notificaciones.length})`}\n              </span>\n            </DropdownMenuItem>\n          </>\n        )}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n\nexport default NotificacionesPanel\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 879, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/dashboard-header.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Store, Shield, User, LogOut } from \"lucide-react\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport NotificacionesPanel from \"./notificaciones-panel\"\n\nconst DashboardHeader: React.FC = () => {\n  const { usuario, logout } = useAuth()\n\nconsole.log(\" Usuario actual:\", {\n  id: usuario?.id,\n  email: usuario?.email,\n  nombre: usuario?.nombre,\n  rol: usuario?.rol,\n  tipo: typeof usuario?.rol\n})\n\n  if (!usuario) return null\n\n  return (\n    <header className=\"bg-white shadow-sm border-b sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo y t铆tulo */}\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"bg-gray-900 rounded-lg p-2\">\n              <Store className=\"h-6 w-6 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-gray-900\">GestiCom Dashboard</h1>\n            </div>\n          </div>\n\n          {/* Usuario y acciones */}\n          <div className=\"flex items-center space-x-4\">\n            {/* Notificaciones */}\n            <NotificacionesPanel />\n\n            {/* Info del usuario */}\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-gray-900\">{usuario.nombre}</p>\n                <div className=\"flex items-center justify-end space-x-1\">\n                  {usuario.rol === \"admin\" ? (\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      <Shield className=\"h-3 w-3 mr-1\" />\n                      Administrador\n                    </Badge>\n                  ) : (\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      <User className=\"h-3 w-3 mr-1\" />\n                      Trabajador\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Bot贸n de logout */}\n            <Button variant=\"outline\" size=\"sm\" onClick={logout}>\n              <LogOut className=\"h-4 w-4 mr-2\" />\n              Cerrar Sesi贸n\n            </Button>\n          </div>\n        </div>\n      </div>\n    </header>\n  )\n}\n\nexport default DashboardHeader\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAPA;;;;;;;AASA,MAAM,kBAA4B;IAChC,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,uIAAO;IAErC,QAAQ,GAAG,CAAC,sBAAsB;QAChC,IAAI,SAAS;QACb,OAAO,SAAS;QAChB,QAAQ,SAAS;QACjB,KAAK,SAAS;QACd,MAAM,OAAO,SAAS;IACxB;IAEE,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,6MAAK;oCAAC,WAAU;;;;;;;;;;;0CAEnB,8OAAC;0CACC,cAAA,8OAAC;oCAAG,WAAU;8CAAkC;;;;;;;;;;;;;;;;;kCAKpD,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC,iJAAmB;;;;;0CAGpB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAqC,QAAQ,MAAM;;;;;;sDAChE,8OAAC;4CAAI,WAAU;sDACZ,QAAQ,GAAG,KAAK,wBACf,8OAAC,mIAAK;gDAAC,SAAQ;gDAAY,WAAU;;kEACnC,8OAAC,gNAAM;wDAAC,WAAU;;;;;;oDAAiB;;;;;;yGAIrC,8OAAC,mIAAK;gDAAC,SAAQ;gDAAY,WAAU;;kEACnC,8OAAC,0MAAI;wDAAC,WAAU;;;;;;oDAAiB;;;;;;;;;;;;;;;;;;;;;;;0CAS3C,8OAAC,qIAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;;kDAC3C,8OAAC,oNAAM;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjD;uCAEe"}},
    {"offset": {"line": 1075, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 1103, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAQA,MAAM,cAAc,mLAAyB;AAE7C,MAAM,qBAAqB,sLAA4B;AAEvD,MAAM,oBAAoB,qLAA2B;AAErD,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAA4B;QAC3B,WAAW,IAAA,kHAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,uBAAuB,WAAW,GAChC,0LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,IAAA,6IAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,IAAA,6IAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1239, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,2JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1379, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6NAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,kHAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW"}},
    {"offset": {"line": 1579, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\nimport { addDoc, collection, deleteDoc, doc, getDoc, getDocs, serverTimestamp, updateDoc, writeBatch } from \"firebase/firestore\"\nimport { db } from \"@/lib/firebase\"\n\n// ---------------------- Tipos comunes y Errores ----------------------\n\nexport class ApiError extends Error {\n  status?: number\n  constructor(message: string, status?: number) {\n    super(message)\n    this.name = \"ApiError\"\n    this.status = status\n  }\n}\n\n// ---------------------- Interfaces de Productos ----------------------\n\nexport interface Producto {\n  id: string\n  codigo: string\n  nombre: string\n  descripcion?: string\n  precio: number\n  stock: number\n  categoria?: string\n  proveedor?: string\n  createdAt?: any\n  updatedAt?: any\n}\n\nexport type CreateProductoData = Omit<Producto, \"id\" | \"createdAt\" | \"updatedAt\">\nexport type UpdateProductoData = Partial<CreateProductoData>\n\n// ---------------------- Interfaces de Usuarios ----------------------\n\nexport interface UsuarioApi {\n  id: string\n  nombre: string\n  email: string\n  rut?: string\n  rol?: string\n  activo?: boolean\n  fecha_creacion?: string\n  ultimo_acceso?: string | null\n  creado_por_nombre?: string | null\n}\n\n// ---------------------- Interfaces de Ventas ----------------------\n\nexport interface VentaItem {\n  producto_id: string\n  producto_nombre: string\n  cantidad: number\n  precio_unitario: number\n  subtotal: number\n}\n\nexport interface Venta {\n  id: string\n  total: number\n  fecha: string\n  vendedor_email: string\n  estado: \"completada\" | \"anulada\"\n  items: VentaItem[]\n  createdAt?: any\n  updatedAt?: any\n}\n\nexport type CreateVentaData = Omit<Venta, \"id\" | \"createdAt\" | \"updatedAt\">\n\n// ---------------------- Colecciones ----------------------\n\nconst productosCollection = collection(db, \"productos\")\nconst usuariosCollection = collection(db, \"usuarios\")\nconst ventasCollection = collection(db, \"ventas\")\n\n// ---------------------- API: Productos ----------------------\n\nexport const productosApi = {\n  async getAll(search?: string): Promise<Producto[]> {\n    const snapshot = await getDocs(productosCollection)\n    let productos: Producto[] = []\n\n    snapshot.forEach((docSnap) => {\n      const data = docSnap.data() as any\n      productos.push({\n        id: docSnap.id,\n        codigo: data.codigo || \"\",\n        nombre: data.nombre || \"\",\n        descripcion: data.descripcion || \"\",\n        precio: Number(data.precio || 0),\n        stock: Number(data.stock || 0),\n        categoria: data.categoria || \"\",\n        proveedor: data.proveedor || \"\",\n        createdAt: data.createdAt,\n        updatedAt: data.updatedAt,\n      })\n    })\n\n    if (search && search.trim()) {\n      const s = search.toLowerCase()\n      productos = productos.filter((p) => p.nombre.toLowerCase().includes(s) || p.codigo.toLowerCase().includes(s))\n    }\n\n    productos.sort((a, b) => a.nombre.localeCompare(b.nombre))\n\n    return productos\n  },\n\n  async getById(id: string): Promise<Producto | null> {\n    const ref = doc(db, \"productos\", id)\n    const snap = await getDoc(ref)\n    if (!snap.exists()) return null\n    const data = snap.data() as any\n    return {\n      id: snap.id,\n      codigo: data.codigo || \"\",\n      nombre: data.nombre || \"\",\n      descripcion: data.descripcion || \"\",\n      precio: Number(data.precio || 0),\n      stock: Number(data.stock || 0),\n      categoria: data.categoria || \"\",\n      proveedor: data.proveedor || \"\",\n      createdAt: data.createdAt,\n      updatedAt: data.updatedAt,\n    }\n  },\n\n  async create(payload: CreateProductoData): Promise<Producto> {\n    if (!payload.nombre || !payload.codigo) {\n      throw new ApiError(\"Nombre y c贸digo son obligatorios\", 400)\n    }\n\n    const docRef = await addDoc(productosCollection, {\n      ...payload,\n      precio: Number(payload.precio || 0),\n      stock: Number(payload.stock || 0),\n      createdAt: serverTimestamp(),\n      updatedAt: serverTimestamp(),\n    })\n\n    const snap = await getDoc(docRef)\n    const data = snap.data() as any\n\n    return {\n      id: snap.id,\n      codigo: data.codigo || \"\",\n      nombre: data.nombre || \"\",\n      descripcion: data.descripcion || \"\",\n      precio: Number(data.precio || 0),\n      stock: Number(data.stock || 0),\n      categoria: data.categoria || \"\",\n      proveedor: data.proveedor || \"\",\n      createdAt: data.createdAt,\n      updatedAt: data.updatedAt,\n    }\n  },\n\n  async update(id: string, data: UpdateProductoData): Promise<void> {\n    const ref = doc(db, \"productos\", id)\n    const { id: _ignored, ...rest } = data as any\n\n    await updateDoc(ref, {\n      ...rest,\n      ...(rest.precio !== undefined ? { precio: Number(rest.precio) } : {}),\n      ...(rest.stock !== undefined ? { stock: Number(rest.stock) } : {}),\n      updatedAt: serverTimestamp(),\n    })\n  },\n\n  async delete(id: string): Promise<void> {\n    const ref = doc(db, \"productos\", id)\n    await deleteDoc(ref)\n  },\n}\n\n// ---------------------- API: Usuarios ----------------------\n\nexport const usuariosApi = {\n  async getAll(search?: string, rol?: string, activo?: string): Promise<UsuarioApi[]> {\n    const snapshot = await getDocs(usuariosCollection)\n    let usuarios: UsuarioApi[] = []\n\n    snapshot.forEach((docSnap) => {\n      const data = docSnap.data()\n      usuarios.push({\n        id: docSnap.id,\n        nombre: data.nombre || \"\",\n        email: data.email || \"\",\n        rut: data.rut || \"\",\n        rol: data.rol || \"trabajador\",\n        activo: data.activo ?? true,\n        fecha_creacion: data.createdAt?.toDate ? data.createdAt.toDate().toISOString() : new Date().toISOString(),\n        ultimo_acceso: data.lastLogin?.toDate ? data.lastLogin.toDate().toISOString() : null,\n        creado_por_nombre: data.creado_por_nombre || \"Sistema\"\n      })\n    })\n\n    if (search && search.trim()) {\n      const s = search.toLowerCase()\n      usuarios = usuarios.filter(u => \n        u.nombre.toLowerCase().includes(s) || \n        (u.rut && u.rut.toLowerCase().includes(s)) || \n        u.email.toLowerCase().includes(s)\n      )\n    }\n\n    if (rol && rol !== 'all') {\n      usuarios = usuarios.filter(u => u.rol === rol)\n    }\n\n    if (activo && activo !== 'all') {\n      const isActive = activo === 'true'\n      usuarios = usuarios.filter(u => u.activo === isActive)\n    }\n\n    return usuarios\n  },\n\n  async create(data: any): Promise<void> {\n    await addDoc(usuariosCollection, {\n      ...data,\n      activo: true,\n      createdAt: serverTimestamp(),\n      updatedAt: serverTimestamp(),\n    })\n  },\n\n  async update(id: string, data: any): Promise<void> {\n    const ref = doc(db, \"usuarios\", id)\n    await updateDoc(ref, {\n      ...data,\n      updatedAt: serverTimestamp(),\n    })\n  },\n\n  async toggleStatus(id: string, currentStatus: boolean): Promise<void> {\n    const ref = doc(db, \"usuarios\", id)\n    await updateDoc(ref, {\n      activo: !currentStatus,\n      updatedAt: serverTimestamp(),\n    })\n  },\n\n  async delete(id: string): Promise<void> {\n    const ref = doc(db, \"usuarios\", id)\n    await deleteDoc(ref)\n  }\n}\n\n// ---------------------- API: Ventas ----------------------\n\nexport const ventasApi = {\n  async getAll(): Promise<Venta[]> {\n    const snapshot = await getDocs(ventasCollection)\n    const ventas: Venta[] = []\n\n    snapshot.forEach((docSnap) => {\n      const data = docSnap.data()\n      ventas.push({\n        id: docSnap.id,\n        total: Number(data.total || 0),\n        fecha: data.fecha || new Date().toISOString(),\n        vendedor_email: data.vendedor_email || \"\",\n        estado: data.estado || \"completada\",\n        items: data.items || [],\n        createdAt: data.createdAt,\n        updatedAt: data.updatedAt,\n      })\n    })\n\n    // Ordenar por fecha descendente (m谩s recientes primero)\n    ventas.sort((a, b) => new Date(b.fecha).getTime() - new Date(a.fecha).getTime())\n\n    return ventas\n  },\n\n  async getById(id: string): Promise<Venta | null> {\n    const ref = doc(db, \"ventas\", id)\n    const snap = await getDoc(ref)\n    if (!snap.exists()) return null\n    \n    const data = snap.data()\n    return {\n      id: snap.id,\n      total: Number(data.total || 0),\n      fecha: data.fecha || new Date().toISOString(),\n      vendedor_email: data.vendedor_email || \"\",\n      estado: data.estado || \"completada\",\n      items: data.items || [],\n      createdAt: data.createdAt,\n      updatedAt: data.updatedAt,\n    }\n  },\n\n  async create(payload: CreateVentaData): Promise<Venta> {\n    if (!payload.items || payload.items.length === 0) {\n      throw new ApiError(\"La venta debe tener al menos un producto\", 400)\n    }\n\n    // Usar batch para actualizar stock de m煤ltiples productos at贸micamente\n    const batch = writeBatch(db)\n\n    try {\n      // 1. Crear la venta\n      const ventaRef = doc(ventasCollection)\n      batch.set(ventaRef, {\n        ...payload,\n        total: Number(payload.total),\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp(),\n      })\n\n      // 2. Actualizar el stock de cada producto\n      for (const item of payload.items) {\n        const productoRef = doc(db, \"productos\", item.producto_id)\n        const productoSnap = await getDoc(productoRef)\n        \n        if (!productoSnap.exists()) {\n          throw new ApiError(`Producto ${item.producto_nombre} no encontrado`, 404)\n        }\n\n        const productoData = productoSnap.data()\n        const nuevoStock = Number(productoData.stock || 0) - item.cantidad\n\n        if (nuevoStock < 0) {\n          throw new ApiError(`Stock insuficiente para ${item.producto_nombre}`, 400)\n        }\n\n        batch.update(productoRef, {\n          stock: nuevoStock,\n          updatedAt: serverTimestamp(),\n        })\n      }\n\n      // 3. Ejecutar todas las operaciones\n      await batch.commit()\n\n      // 4. Obtener la venta creada\n      const ventaSnap = await getDoc(ventaRef)\n      const data = ventaSnap.data()!\n\n      return {\n        id: ventaSnap.id,\n        total: Number(data.total || 0),\n        fecha: data.fecha || new Date().toISOString(),\n        vendedor_email: data.vendedor_email || \"\",\n        estado: data.estado || \"completada\",\n        items: data.items || [],\n        createdAt: data.createdAt,\n        updatedAt: data.updatedAt,\n      }\n    } catch (error) {\n      console.error(\"Error en transacci贸n de venta:\", error)\n      throw error instanceof ApiError ? error : new ApiError(\"Error al procesar la venta\", 500)\n    }\n  },\n\n  async anular(id: string): Promise<void> {\n    const ventaRef = doc(db, \"ventas\", id)\n    const ventaSnap = await getDoc(ventaRef)\n\n    if (!ventaSnap.exists()) {\n      throw new ApiError(\"Venta no encontrada\", 404)\n    }\n\n    const ventaData = ventaSnap.data()\n\n    if (ventaData.estado === \"anulada\") {\n      throw new ApiError(\"La venta ya est谩 anulada\", 400)\n    }\n\n    // Usar batch para devolver el stock\n    const batch = writeBatch(db)\n\n    try {\n      // 1. Marcar venta como anulada\n      batch.update(ventaRef, {\n        estado: \"anulada\",\n        updatedAt: serverTimestamp(),\n      })\n\n      // 2. Devolver el stock de cada producto\n      for (const item of ventaData.items) {\n        const productoRef = doc(db, \"productos\", item.producto_id)\n        const productoSnap = await getDoc(productoRef)\n\n        if (productoSnap.exists()) {\n          const productoData = productoSnap.data()\n          const nuevoStock = Number(productoData.stock || 0) + item.cantidad\n\n          batch.update(productoRef, {\n            stock: nuevoStock,\n            updatedAt: serverTimestamp(),\n          })\n        }\n      }\n\n      await batch.commit()\n    } catch (error) {\n      console.error(\"Error al anular venta:\", error)\n      throw new ApiError(\"Error al anular la venta\", 500)\n    }\n  },\n\n  async delete(id: string): Promise<void> {\n    // Solo permitir eliminar ventas anuladas\n    const ventaRef = doc(db, \"ventas\", id)\n    const ventaSnap = await getDoc(ventaRef)\n\n    if (!ventaSnap.exists()) {\n      throw new ApiError(\"Venta no encontrada\", 404)\n    }\n\n    const ventaData = ventaSnap.data()\n\n    if (ventaData.estado !== \"anulada\") {\n      throw new ApiError(\"Solo se pueden eliminar ventas anuladas\", 400)\n    }\n\n    await deleteDoc(ventaRef)\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1898, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/lib/helpers.ts"],"sourcesContent":["// lib/helpers.ts\n\n/**\n * Obtiene el estado visual del stock de un producto\n */\nexport const getStockStatus = (stock: number) => {\n  if (stock === 0) {\n    return { \n      color: \"destructive\" as const, \n      text: \"Sin Stock\",\n      icon: \"\" \n    }\n  }\n  if (stock <= 5) {\n    return { \n      color: \"destructive\" as const, \n      text: \"Stock Cr铆tico\",\n      icon: \"锔\" \n    }\n  }\n  if (stock <= 15) {\n    return { \n      color: \"secondary\" as const, \n      text: \"Stock Medio\",\n      icon: \"\" \n    }\n  }\n  return { \n    color: \"default\" as const, \n    text: \"Stock Alto\",\n    icon: \"\" \n  }\n}\n\n/**\n * Formatea una fecha a formato chileno legible\n */\nexport const formatDate = (dateString: string | null | undefined): string => {\n  if (!dateString) return \"Nunca\"\n  \n  try {\n    const date = new Date(dateString)\n    if (isNaN(date.getTime())) return \"Fecha inv谩lida\"\n    \n    return new Intl.DateTimeFormat('es-CL', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    }).format(date)\n  } catch {\n    return \"Error al formatear\"\n  }\n}\n\n/**\n * Formatea un precio a formato CLP\n */\nexport const formatearPrecio = (precio: number): string => {\n  return new Intl.NumberFormat(\"es-CL\", {\n    style: \"currency\",\n    currency: \"CLP\",\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(precio)\n}\n\n/**\n * Valida formato de RUT chileno\n */\nexport const validarRUT = (rut: string): boolean => {\n  const rutLimpio = rut.replace(/[^0-9kK]/g, '')\n  if (rutLimpio.length < 2) return false\n  \n  const cuerpo = rutLimpio.slice(0, -1)\n  const dv = rutLimpio.slice(-1).toUpperCase()\n  \n  // Algoritmo m贸dulo 11\n  let suma = 0\n  let multiplicador = 2\n  \n  for (let i = cuerpo.length - 1; i >= 0; i--) {\n    suma += parseInt(cuerpo[i]) * multiplicador\n    multiplicador = multiplicador === 7 ? 2 : multiplicador + 1\n  }\n  \n  const dvEsperado = 11 - (suma % 11)\n  const dvCalculado = dvEsperado === 11 ? '0' : dvEsperado === 10 ? 'K' : dvEsperado.toString()\n  \n  return dv === dvCalculado\n}\n\n/**\n * Formatea un RUT con puntos y gui贸n\n */\nexport const formatRUT = (rut: string): string => {\n  const cleaned = rut.replace(/[^0-9kK]/g, \"\")\n  if (cleaned.length <= 1) return cleaned\n  \n  const number = cleaned.slice(0, -1)\n  const dv = cleaned.slice(-1).toUpperCase()\n  const formattedNumber = number.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\n  \n  return `${formattedNumber}-${dv}`\n}\n\n/**\n * Valida formato de email\n */\nexport const validarEmail = (email: string): boolean => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return emailRegex.test(email)\n}\n\n/**\n * Trunca un texto a un n煤mero m谩ximo de caracteres\n */\nexport const truncateText = (text: string, maxLength: number): string => {\n  if (text.length <= maxLength) return text\n  return text.slice(0, maxLength) + '...'\n}"],"names":[],"mappings":"AAAA,iBAAiB;AAEjB;;CAEC;;;;;;;;;;;;;;;;AACM,MAAM,iBAAiB,CAAC;IAC7B,IAAI,UAAU,GAAG;QACf,OAAO;YACL,OAAO;YACP,MAAM;YACN,MAAM;QACR;IACF;IACA,IAAI,SAAS,GAAG;QACd,OAAO;YACL,OAAO;YACP,MAAM;YACN,MAAM;QACR;IACF;IACA,IAAI,SAAS,IAAI;QACf,OAAO;YACL,OAAO;YACP,MAAM;YACN,MAAM;QACR;IACF;IACA,OAAO;QACL,OAAO;QACP,MAAM;QACN,MAAM;IACR;AACF;AAKO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,YAAY,OAAO;IAExB,IAAI;QACF,MAAM,OAAO,IAAI,KAAK;QACtB,IAAI,MAAM,KAAK,OAAO,KAAK,OAAO;QAElC,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;YACtC,MAAM;YACN,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;QACV,GAAG,MAAM,CAAC;IACZ,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAKO,MAAM,kBAAkB,CAAC;IAC9B,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAKO,MAAM,aAAa,CAAC;IACzB,MAAM,YAAY,IAAI,OAAO,CAAC,aAAa;IAC3C,IAAI,UAAU,MAAM,GAAG,GAAG,OAAO;IAEjC,MAAM,SAAS,UAAU,KAAK,CAAC,GAAG,CAAC;IACnC,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,GAAG,WAAW;IAE1C,sBAAsB;IACtB,IAAI,OAAO;IACX,IAAI,gBAAgB;IAEpB,IAAK,IAAI,IAAI,OAAO,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;QAC3C,QAAQ,SAAS,MAAM,CAAC,EAAE,IAAI;QAC9B,gBAAgB,kBAAkB,IAAI,IAAI,gBAAgB;IAC5D;IAEA,MAAM,aAAa,KAAM,OAAO;IAChC,MAAM,cAAc,eAAe,KAAK,MAAM,eAAe,KAAK,MAAM,WAAW,QAAQ;IAE3F,OAAO,OAAO;AAChB;AAKO,MAAM,YAAY,CAAC;IACxB,MAAM,UAAU,IAAI,OAAO,CAAC,aAAa;IACzC,IAAI,QAAQ,MAAM,IAAI,GAAG,OAAO;IAEhC,MAAM,SAAS,QAAQ,KAAK,CAAC,GAAG,CAAC;IACjC,MAAM,KAAK,QAAQ,KAAK,CAAC,CAAC,GAAG,WAAW;IACxC,MAAM,kBAAkB,OAAO,OAAO,CAAC,yBAAyB;IAEhE,OAAO,GAAG,gBAAgB,CAAC,EAAE,IAAI;AACnC;AAKO,MAAM,eAAe,CAAC;IAC3B,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;AAKO,MAAM,eAAe,CAAC,MAAc;IACzC,IAAI,KAAK,MAAM,IAAI,WAAW,OAAO;IACrC,OAAO,KAAK,KAAK,CAAC,GAAG,aAAa;AACpC"}},
    {"offset": {"line": 2005, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/hooks/use-debounce.ts"],"sourcesContent":["// hooks/use-debounce.ts\nimport { useState, useEffect } from 'react'\n\n/**\n * Hook para debounce de valores\n * til para b煤squedas en tiempo real\n * \n * @example\n * const debouncedSearch = useDebounce(searchTerm, 300)\n * \n * useEffect(() => {\n *   fetchResults(debouncedSearch)\n * }, [debouncedSearch])\n */\nexport function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}"],"names":[],"mappings":"AAAA,wBAAwB;;;;;AACxB;;AAaO,SAAS,YAAe,KAAQ,EAAE,KAAa;IACpD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAI;IAExD,IAAA,kNAAS,EAAC;QACR,MAAM,UAAU,WAAW;YACzB,kBAAkB;QACpB,GAAG;QAEH,OAAO;YACL,aAAa;QACf;IACF,GAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT"}},
    {"offset": {"line": 2031, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW"}},
    {"offset": {"line": 2062, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/crear-usuario-form.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { UserPlus, Save, X, Eye, EyeOff } from \"lucide-react\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\n// Importamos API y clases\nimport { usuariosApi, ApiError } from \"@/lib/api\"\n\ninterface Props {\n  onUsuarioCreado: () => void\n  onClose: () => void\n}\n\ninterface FormData {\n  nombre: string\n  rut: string\n  email: string\n  password: string\n  confirmPassword: string\n  rol: \"admin\" | \"trabajador\" | \"\"\n}\n\nconst CrearUsuarioForm: React.FC<Props> = ({ onUsuarioCreado, onClose }) => {\n  const [form, setForm] = useState<FormData>({\n    nombre: \"\",\n    rut: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    rol: \"\",\n  })\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const { toast } = useToast()\n\n  const handleChange = (field: keyof FormData, value: string) => {\n    setForm((prev) => ({ ...prev, [field]: value }))\n  }\n\n  const formatRUT = (rut: string) => {\n    const cleaned = rut.replace(/[^0-9kK]/g, \"\")\n    if (cleaned.length <= 1) return cleaned\n    const number = cleaned.slice(0, -1)\n    const dv = cleaned.slice(-1).toUpperCase()\n    const formattedNumber = number.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\n    return `${formattedNumber}-${dv}`\n  }\n\n  const handleRUTChange = (value: string) => {\n    const formatted = formatRUT(value)\n    handleChange(\"rut\", formatted)\n  }\n\n  const validateForm = () => {\n    const errors: string[] = []\n\n    if (!form.nombre.trim()) errors.push(\"El nombre es requerido\")\n    if (!form.rut.trim()) errors.push(\"El RUT es requerido\")\n    if (!form.email.trim()) errors.push(\"El email es requerido\")\n    if (!form.password) errors.push(\"La contrase帽a es requerida\")\n    if (!form.confirmPassword) errors.push(\"Confirmar contrase帽a es requerido\")\n    if (!form.rol) errors.push(\"El rol es requerido\")\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    if (form.email && !emailRegex.test(form.email)) {\n      errors.push(\"El formato del email es inv谩lido\")\n    }\n\n    const rutRegex = /^[0-9.]+-[0-9kK]$/\n    if (form.rut && !rutRegex.test(form.rut)) {\n      errors.push(\"El formato del RUT es inv谩lido\")\n    }\n\n    if (form.password.length < 6) { // Firebase pide min 6\n      errors.push(\"La contrase帽a debe tener al menos 6 caracteres\")\n    }\n\n    if (form.password !== form.confirmPassword) {\n      errors.push(\"Las contrase帽as no coinciden\")\n    }\n\n    return errors\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    const errors = validateForm()\n    if (errors.length > 0) {\n      toast({\n        title: \"Errores de validaci贸n\",\n        description: errors.join(\", \"),\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsLoading(true)\n\n    try {\n      // 1. Guardar datos en Firestore usando la API\n      await usuariosApi.create({\n        nombre: form.nombre.trim(),\n        rut: formatRUT(form.rut.trim()),\n        email: form.email.trim(),\n        rol: form.rol,\n        // Nota: No enviamos la password a Firestore (texto plano) por seguridad.\n        // La password se usar铆a aqu铆 si estuvi茅ramos creando el Auth user.\n      })\n\n      toast({\n        title: \"Usuario creado\",\n        description: \"El usuario se ha guardado en la base de datos.\",\n      })\n\n      onUsuarioCreado()\n    } catch (error) {\n      console.error(\"Error al crear usuario:\", error)\n      toast({\n        title: \"Error\",\n        description: error instanceof ApiError ? error.message : \"Error al crear usuario\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <DialogHeader>\n        <div className=\"flex items-center space-x-2\">\n          <UserPlus className=\"h-5 w-5 text-primary\" />\n          <DialogTitle>Crear Nuevo Usuario</DialogTitle>\n        </div>\n      </DialogHeader>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {/* ... (El resto del formulario visual sigue igual, solo cambia la l贸gica de arriba) ... */}\n        {/* Te lo dejo resumido, los inputs son los mismos que ten铆as */}\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"nombre\">Nombre Completo</Label>\n            <Input\n              id=\"nombre\"\n              placeholder=\"Juan P茅rez\"\n              value={form.nombre}\n              onChange={(e) => handleChange(\"nombre\", e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"rut\">RUT</Label>\n            <Input\n              id=\"rut\"\n              placeholder=\"12.345.678-9\"\n              value={form.rut}\n              onChange={(e) => handleRUTChange(e.target.value)}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"email\">Correo Electr贸nico</Label>\n          <Input\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"usuario@gesticom.cl\"\n            value={form.email}\n            onChange={(e) => handleChange(\"email\", e.target.value)}\n            required\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"rol\">Rol</Label>\n          <Select value={form.rol} onValueChange={(value) => handleChange(\"rol\", value)}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Seleccionar rol\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"trabajador\">Trabajador</SelectItem>\n              <SelectItem value=\"admin\">Admin</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"password\">Contrase帽a</Label>\n            <div className=\"relative\">\n              <Input\n                id=\"password\"\n                type={showPassword ? \"text\" : \"password\"}\n                placeholder=\"⑩⑩⑩⑩⑩⑩⑩\"\n                value={form.password}\n                onChange={(e) => handleChange(\"password\", e.target.value)}\n                required\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                onClick={() => setShowPassword(!showPassword)}\n              >\n                {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n              </Button>\n            </div>\n            <p className=\"text-xs text-muted-foreground\">M铆nimo 6 caracteres</p>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"confirmPassword\">Confirmar Contrase帽a</Label>\n            <div className=\"relative\">\n              <Input\n                id=\"confirmPassword\"\n                type={showConfirmPassword ? \"text\" : \"password\"}\n                placeholder=\"⑩⑩⑩⑩⑩⑩⑩\"\n                value={form.confirmPassword}\n                onChange={(e) => handleChange(\"confirmPassword\", e.target.value)}\n                required\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n              >\n                {showConfirmPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-2 pt-4\">\n          <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n            <X className=\"h-4 w-4 mr-2\" />\n            Cancelar\n          </Button>\n          <Button type=\"submit\" disabled={isLoading}>\n            {isLoading ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\" />\n                Creando...\n              </>\n            ) : (\n              <>\n                <Save className=\"h-4 w-4 mr-2\" />\n                Crear Usuario\n              </>\n            )}\n          </Button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default CrearUsuarioForm"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2595, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/editar-usuario-form.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Edit, Save, X } from \"lucide-react\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { useAuth } from \"@/lib/auth-context\"\n// Importar API\nimport { usuariosApi, ApiError } from \"@/lib/api\"\n\n// INTERFAZ ACTUALIZADA (ID STRING)\ninterface Usuario {\n  id: string \n  nombre: string\n  rut: string\n  email: string\n  rol: \"admin\" | \"trabajador\"\n  activo: boolean\n}\n\ninterface Props {\n  usuario: Usuario\n  onUsuarioActualizado: () => void\n  onClose: () => void\n}\n\ninterface FormData {\n  nombre: string\n  email: string\n  rol: \"admin\" | \"trabajador\"\n}\n\nconst EditarUsuarioForm: React.FC<Props> = ({ usuario, onUsuarioActualizado, onClose }) => {\n  const [form, setForm] = useState<FormData>({\n    nombre: usuario.nombre,\n    email: usuario.email,\n    rol: usuario.rol,\n  })\n  const [isLoading, setIsLoading] = useState(false)\n  const { usuario: currentUser } = useAuth()\n  const { toast } = useToast()\n\n  const handleChange = (field: keyof FormData, value: string) => {\n    setForm((prev) => ({ ...prev, [field]: value }))\n  }\n\n  const validateForm = () => {\n    const errors: string[] = []\n\n    if (!form.nombre.trim()) errors.push(\"El nombre es requerido\")\n    if (!form.email.trim()) errors.push(\"El email es requerido\")\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    if (form.email && !emailRegex.test(form.email)) {\n      errors.push(\"El formato del email es inv谩lido\")\n    }\n\n    return errors\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    const errors = validateForm()\n    if (errors.length > 0) {\n      toast({\n        title: \"Errores de validaci贸n\",\n        description: errors.join(\", \"),\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsLoading(true)\n\n    try {\n      // Uso de la API actualizada\n      await usuariosApi.update(usuario.id, {\n        nombre: form.nombre.trim(),\n        email: form.email.trim(),\n        rol: form.rol,\n      })\n\n      toast({\n        title: \"Usuario actualizado\",\n        description: \"Los cambios se han guardado exitosamente\",\n      })\n\n      onUsuarioActualizado()\n    } catch (error) {\n      console.error(\"Error al actualizar usuario:\", error)\n      toast({\n        title: \"Error\",\n        description: error instanceof ApiError ? error.message : \"Error al actualizar usuario\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  // Comparaci贸n de IDs como string\n  const canEditRole = currentUser?.rol === \"admin\" && String(currentUser?.id) !== String(usuario.id)\n\n  return (\n    <div className=\"space-y-6\">\n      <DialogHeader>\n        <div className=\"flex items-center space-x-2\">\n          <Edit className=\"h-5 w-5 text-primary\" />\n          <DialogTitle>Editar Usuario</DialogTitle>\n        </div>\n      </DialogHeader>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"nombre\">Nombre Completo</Label>\n          <Input id=\"nombre\" value={form.nombre} onChange={(e) => handleChange(\"nombre\", e.target.value)} required />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"rut\">RUT</Label>\n          <Input id=\"rut\" value={usuario.rut} disabled className=\"bg-muted\" />\n          <p className=\"text-xs text-muted-foreground\">El RUT no se puede modificar</p>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"email\">Correo Electr贸nico</Label>\n          <Input\n            id=\"email\"\n            type=\"email\"\n            value={form.email}\n            onChange={(e) => handleChange(\"email\", e.target.value)}\n            required\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"rol\">Rol</Label>\n          <Select value={form.rol} onValueChange={(value) => handleChange(\"rol\", value)} disabled={!canEditRole}>\n            <SelectTrigger className={!canEditRole ? \"bg-muted\" : \"\"}>\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"trabajador\">Trabajador</SelectItem>\n              <SelectItem value=\"admin\">Admin</SelectItem>\n            </SelectContent>\n          </Select>\n          {!canEditRole && (\n            <p className=\"text-xs text-muted-foreground\">\n              {String(currentUser?.id) === String(usuario.id)\n                ? \"No puedes cambiar tu propio rol\"\n                : \"Solo los administradores pueden cambiar roles\"}\n            </p>\n          )}\n        </div>\n\n        <div className=\"flex justify-end space-x-2 pt-4\">\n          <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n            <X className=\"h-4 w-4 mr-2\" />\n            Cancelar\n          </Button>\n          <Button type=\"submit\" disabled={isLoading}>\n            {isLoading ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\" />\n                Guardando...\n              </>\n            ) : (\n              <>\n                <Save className=\"h-4 w-4 mr-2\" />\n                Guardar Cambios\n              </>\n            )}\n          </Button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default EditarUsuarioForm"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2963, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/components/usuarios-management.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Search,\n  Plus,\n  Edit,\n  UserX,\n  UserCheck,\n  Trash2,\n  Users,\n  Shield,\n  User,\n  Mail,\n  Calendar,\n  Activity,\n} from \"lucide-react\"\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport { usuariosApi, ApiError } from \"@/lib/api\"\nimport { formatDate } from \"@/lib/helpers\"\nimport { useDebounce } from \"@/hooks/use-debounce\"\nimport CrearUsuarioForm from \"./crear-usuario-form\"\nimport EditarUsuarioForm from \"./editar-usuario-form\"\n\ninterface Usuario {\n  id: string \n  nombre: string\n  rut: string\n  email: string\n  rol: \"admin\" | \"trabajador\"\n  activo: boolean\n  fecha_creacion: string\n  ultimo_acceso: string | null\n  creado_por_nombre: string | null\n}\n\nconst UsuariosManagement: React.FC = () => {\n  const [usuarios, setUsuarios] = useState<Usuario[]>([])\n  const [busqueda, setBusqueda] = useState(\"\")\n  const [filtroRol, setFiltroRol] = useState<string>(\"all\")\n  const [filtroActivo, setFiltroActivo] = useState<string>(\"all\")\n  \n  const [usuarioEditar, setUsuarioEditar] = useState<Usuario | null>(null)\n  const [usuarioToggle, setUsuarioToggle] = useState<Usuario | null>(null)\n  const [usuarioEliminar, setUsuarioEliminar] = useState<Usuario | null>(null)\n  const [showCrearForm, setShowCrearForm] = useState(false)\n  \n  const [isLoading, setIsLoading] = useState(true)\n  const { hasRole } = useAuth()\n  const { toast } = useToast()\n\n  // Debounce para b煤squeda\n  const debouncedBusqueda = useDebounce(busqueda, 300)\n\n  const fetchUsuarios = async () => {\n    setIsLoading(true)\n    try {\n      const data = await usuariosApi.getAll(debouncedBusqueda, filtroRol, filtroActivo)\n      setUsuarios(data as unknown as Usuario[])\n    } catch (error) {\n      console.error(\"Error al cargar usuarios:\", error)\n      toast({\n        title: \"Error\",\n        description: \"No se pudieron cargar los usuarios\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchUsuarios()\n  }, [debouncedBusqueda, filtroRol, filtroActivo])\n\n  const handleToggleStatus = async () => {\n    if (!usuarioToggle) return\n\n    try {\n      await usuariosApi.toggleStatus(usuarioToggle.id, usuarioToggle.activo)\n\n      toast({\n        title: \"Estado actualizado\",\n        description: `El usuario ahora est谩 ${!usuarioToggle.activo ? 'activo' : 'inactivo'}.`,\n      })\n\n      fetchUsuarios()\n    } catch (error) {\n      console.error(\"Error al cambiar estado:\", error)\n      toast({\n        title: \"Error\",\n        description: error instanceof ApiError ? error.message : \"Error al cambiar estado\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setUsuarioToggle(null)\n    }\n  }\n\n  const handleEliminar = async () => {\n    if (!usuarioEliminar) return\n\n    try {\n      await usuariosApi.delete(usuarioEliminar.id)\n\n      toast({\n        title: \"Usuario eliminado\",\n        description: \"El usuario ha sido eliminado exitosamente\",\n      })\n\n      fetchUsuarios()\n    } catch (error) {\n      console.error(\"Error al eliminar usuario:\", error)\n      toast({\n        title: \"Error\",\n        description: error instanceof ApiError ? error.message : \"Error al eliminar usuario\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setUsuarioEliminar(null)\n    }\n  }\n\n  const getRolBadge = (rol: string) => {\n    return rol === \"admin\" ? (\n      <Badge variant=\"default\" className=\"bg-purple-100 text-purple-800\">\n        <Shield className=\"h-3 w-3 mr-1\" />\n        Admin\n      </Badge>\n    ) : (\n      <Badge variant=\"secondary\">\n        <User className=\"h-3 w-3 mr-1\" />\n        Trabajador\n      </Badge>\n    )\n  }\n\n  const getStatusBadge = (activo: boolean) => {\n    return activo ? (\n      <Badge variant=\"default\" className=\"bg-green-100 text-green-800\">\n        Activo\n      </Badge>\n    ) : (\n      <Badge variant=\"destructive\">Inactivo</Badge>\n    )\n  }\n\n  if (!hasRole(\"admin\")) {\n    return (\n      <Card className=\"w-full\">\n        <CardContent className=\"p-6\">\n          <div className=\"text-center\">\n            <Shield className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\n            <h3 className=\"text-lg font-semibold mb-2\">Acceso Restringido</h3>\n            <p className=\"text-muted-foreground\">No tienes permisos para acceder a la gesti贸n de usuarios.</p>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-2\">\n              <Users className=\"h-5 w-5 text-primary\" />\n              <CardTitle>Gesti贸n de Usuarios</CardTitle>\n            </div>\n            <Button onClick={() => setShowCrearForm(true)}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Nuevo Usuario\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent>\n          {/* Filtros */}\n          <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\n              <Input\n                placeholder=\"Buscar por nombre, RUT o email...\"\n                value={busqueda}\n                onChange={(e) => setBusqueda(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <Select value={filtroRol} onValueChange={setFiltroRol}>\n              <SelectTrigger className=\"w-full md:w-40\">\n                <SelectValue placeholder=\"Filtrar por rol\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">Todos los roles</SelectItem>\n                <SelectItem value=\"admin\">Administrador</SelectItem>\n                <SelectItem value=\"trabajador\">Trabajador</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select value={filtroActivo} onValueChange={setFiltroActivo}>\n              <SelectTrigger className=\"w-full md:w-40\">\n                <SelectValue placeholder=\"Filtrar por estado\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">Todos los estados</SelectItem>\n                <SelectItem value=\"true\">Activos</SelectItem>\n                <SelectItem value=\"false\">Inactivos</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Lista de usuarios */}\n          {isLoading ? (\n            <div className=\"flex items-center justify-center h-32\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n            </div>\n          ) : (\n            <div className=\"grid gap-4\">\n              {usuarios.length === 0 ? (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  <Users className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                  <p>No se encontraron usuarios</p>\n                </div>\n              ) : (\n                usuarios.map((usuario) => (\n                  <Card key={usuario.id} className=\"hover:shadow-md transition-shadow\">\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1 space-y-2\">\n                          <div className=\"flex items-center space-x-2\">\n                            <h3 className=\"font-semibold text-lg\">{usuario.nombre}</h3>\n                            {getRolBadge(usuario.rol)}\n                            {getStatusBadge(usuario.activo)}\n                          </div>\n\n                          <div className=\"flex flex-wrap gap-4 text-sm text-muted-foreground\">\n                            <div className=\"flex items-center space-x-1\">\n                              <User className=\"h-3 w-3\" />\n                              <span>{usuario.rut}</span>\n                            </div>\n                            <div className=\"flex items-center space-x-1\">\n                              <Mail className=\"h-3 w-3\" />\n                              <span>{usuario.email}</span>\n                            </div>\n                            <div className=\"flex items-center space-x-1\">\n                              <Calendar className=\"h-3 w-3\" />\n                              <span>Creado: {formatDate(usuario.fecha_creacion)}</span>\n                            </div>\n                            {usuario.ultimo_acceso && (\n                              <div className=\"flex items-center space-x-1\">\n                                <Activity className=\"h-3 w-3\" />\n                                <span>ltimo acceso: {formatDate(usuario.ultimo_acceso)}</span>\n                              </div>\n                            )}\n                          </div>\n\n                          {usuario.creado_por_nombre && (\n                            <p className=\"text-xs text-muted-foreground\">\n                              Creado por: {usuario.creado_por_nombre}\n                            </p>\n                          )}\n                        </div>\n\n                        <div className=\"flex space-x-2 ml-4\">\n                          <Button variant=\"outline\" size=\"sm\" onClick={() => setUsuarioEditar(usuario)}>\n                            <Edit className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => setUsuarioToggle(usuario)}\n                            className={\n                              usuario.activo\n                                ? \"text-orange-600 hover:text-orange-700\"\n                                : \"text-green-600 hover:text-green-700\"\n                            }\n                          >\n                            {usuario.activo ? <UserX className=\"h-4 w-4\" /> : <UserCheck className=\"h-4 w-4\" />}\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => setUsuarioEliminar(usuario)}\n                            className=\"text-destructive hover:text-destructive\"\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Modales */}\n      <Dialog open={showCrearForm} onOpenChange={setShowCrearForm}>\n        <DialogContent className=\"max-w-2xl\">\n          <CrearUsuarioForm\n            onUsuarioCreado={() => {\n              fetchUsuarios()\n              setShowCrearForm(false)\n            }}\n            onClose={() => setShowCrearForm(false)}\n          />\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={!!usuarioEditar} onOpenChange={() => setUsuarioEditar(null)}>\n        <DialogContent className=\"max-w-2xl\">\n          {usuarioEditar && (\n            <EditarUsuarioForm\n              usuario={usuarioEditar as any} \n              onUsuarioActualizado={() => {\n                fetchUsuarios()\n                setUsuarioEditar(null)\n              }}\n              onClose={() => setUsuarioEditar(null)}\n            />\n          )}\n        </DialogContent>\n      </Dialog>\n\n      <AlertDialog open={!!usuarioToggle} onOpenChange={() => setUsuarioToggle(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>\n              {usuarioToggle?.activo ? \"驴Desactivar usuario?\" : \"驴Activar usuario?\"}\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              {usuarioToggle?.activo\n                ? `驴Est谩s seguro de que quieres desactivar a ${usuarioToggle?.nombre}?`\n                : `驴Est谩s seguro de que quieres activar a ${usuarioToggle?.nombre}?`}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleToggleStatus}\n              className={\n                usuarioToggle?.activo ? \"bg-orange-600 hover:bg-orange-700\" : \"bg-green-600 hover:bg-green-700\"\n              }\n            >\n              {usuarioToggle?.activo ? \"Desactivar\" : \"Activar\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog open={!!usuarioEliminar} onOpenChange={() => setUsuarioEliminar(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>驴Eliminar usuario?</AlertDialogTitle>\n            <AlertDialogDescription>\n              驴Est谩s seguro de que quieres eliminar a {usuarioEliminar?.nombre}? Esta acci贸n no se puede deshacer.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleEliminar}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              Eliminar\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n\nexport default UsuariosManagement"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3883, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaquin/gesticom_2.0/frontend/app/dashboard/usuarios/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport { Button } from \"@/components/ui/button\"\nimport { ArrowLeft, Users, ShieldAlert } from \"lucide-react\"\nimport DashboardHeader from \"@/components/dashboard-header\" //  Header unificado\nimport UsuariosManagement from \"@/components/usuarios-management\"\n\nexport default function UsuariosPage() {\n  const { isAuthenticated, isLoading, hasRole } = useAuth()\n  const router = useRouter()\n\n  // 1. Redirecci贸n si no est谩 logueado\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      router.push(\"/login\")\n    }\n  }, [isAuthenticated, isLoading, router])\n\n  // 2. Redirecci贸n de seguridad (Solo Admins)\n  useEffect(() => {\n    if (!isLoading && isAuthenticated && !hasRole(\"admin\")) {\n      // Si un trabajador intenta entrar por URL directa, lo mandamos al dashboard\n      router.push(\"/dashboard\")\n    }\n  }, [isAuthenticated, isLoading, hasRole, router])\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\" />\n      </div>\n    )\n  }\n\n  // Protecci贸n extra de renderizado\n  if (!isAuthenticated || !hasRole(\"admin\")) {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header Global */}\n      <DashboardHeader />\n\n      <main className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 space-y-6\">\n        \n        {/* Barra de t铆tulo y navegaci贸n */}\n        <div className=\"flex items-center gap-4\">\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={() => router.push(\"/dashboard\")}\n            className=\"h-10 w-10\"\n            title=\"Volver al Dashboard\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n          </Button>\n          \n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n              <Users className=\"h-6 w-6\" />\n              Gesti贸n de Personal\n            </h1>\n            <p className=\"text-sm text-gray-500 flex items-center gap-1\">\n              <ShieldAlert className=\"h-3 w-3\" />\n              Zona administrativa: Control de accesos y roles.\n            </p>\n          </div>\n        </div>\n\n        {/* Componente Principal de Gesti贸n (Tabla, Modales, etc.) */}\n        <UsuariosManagement />\n        \n      </main>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA,sOAA4D,qBAAqB;AACjF;AARA;;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,uIAAO;IACvD,MAAM,SAAS,IAAA,+IAAS;IAExB,qCAAqC;IACrC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa,CAAC,iBAAiB;YAClC,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAiB;QAAW;KAAO;IAEvC,4CAA4C;IAC5C,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa,mBAAmB,CAAC,QAAQ,UAAU;YACtD,4EAA4E;YAC5E,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAiB;QAAW;QAAS;KAAO;IAEhD,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,kCAAkC;IAClC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,UAAU;QACzC,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,6IAAe;;;;;0BAEhB,8OAAC;gBAAK,WAAU;;kCAGd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,qIAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,IAAM,OAAO,IAAI,CAAC;gCAC3B,WAAU;gCACV,OAAM;0CAEN,cAAA,8OAAC,6NAAS;oCAAC,WAAU;;;;;;;;;;;0CAGvB,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC,6MAAK;gDAAC,WAAU;;;;;;4CAAY;;;;;;;kDAG/B,8OAAC;wCAAE,WAAU;;0DACX,8OAAC,mOAAW;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;;;;;;;kCAOzC,8OAAC,gJAAkB;;;;;;;;;;;;;;;;;AAK3B"}}]
}