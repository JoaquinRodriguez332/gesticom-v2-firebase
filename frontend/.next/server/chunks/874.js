exports.id=874;exports.ids=[874];exports.modules={663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ServerCredentials=void 0;const r=n(71866);class i{static createInsecure(){return new s}static createSsl(e,t,n=false){if(e!==null&&!Buffer.isBuffer(e)){throw new TypeError("rootCerts must be null or a Buffer")}if(!Array.isArray(t)){throw new TypeError("keyCertPairs must be an array")}if(typeof n!=="boolean"){throw new TypeError("checkClientCertificate must be a boolean")}const i=[];const s=[];for(let e=0;e<t.length;e++){const n=t[e];if(n===null||typeof n!=="object"){throw new TypeError(`keyCertPair[${e}] must be an object`)}if(!Buffer.isBuffer(n.private_key)){throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`)}if(!Buffer.isBuffer(n.cert_chain)){throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`)}i.push(n.cert_chain);s.push(n.private_key)}return new o({ca:e||(0,r.getDefaultRootsData)()||undefined,cert:i,key:s,requestCert:n,ciphers:r.CIPHER_SUITES})}}t.ServerCredentials=i;class s extends i{_isSecure(){return false}_getSettings(){return null}}class o extends i{constructor(e){super();this.options=e}_isSecure(){return true}_getSettings(){return this.options}}},1765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"HTTPAccessErrorFallback",{enumerable:true,get:function(){return a}});const r=n(72639);const i=n(37413);const s=r._(n(61120));const o={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function a(e){let{status:t,message:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("title",{children:t+": "+n}),(0,i.jsx)("div",{style:o.error,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),(0,i.jsx)("h1",{className:"next-error-h1",style:o.h1,children:t}),(0,i.jsx)("div",{style:o.desc,children:(0,i.jsx)("h2",{style:o.h2,children:n})})]})})]})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},2829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"pathHasPrefix",{enumerable:true,get:function(){return i}});const r=n(18631);function i(e,t){if(typeof e!=="string"){return false}const{pathname:n}=(0,r.parsePath)(e);return n===t||n.startsWith(t+"/")}},3076:(e,t,n)=>{"use strict";e.exports=a;var r=n(77968);((a.prototype=Object.create(r.prototype)).constructor=a).className="Service";var i=n(71202),s=n(93107),o=n(27236);function a(e,t){r.call(this,e,t);this.methods={};this._methodsArray=null}a.fromJSON=function e(e,t){var n=new a(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),s=0;s<r.length;++s)n.add(i.fromJSON(r[s],t.methods[r[s]]));if(t.nested)n.addJSON(t.nested);if(t.edition)n._edition=t.edition;n.comment=t.comment;n._defaultEdition="proto3";return n};a.prototype.toJSON=function e(e){var t=r.prototype.toJSON.call(this,e);var n=e?Boolean(e.keepComments):false;return s.toObject(["edition",this._editionToJSON(),"options",t&&t.options||undefined,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])};Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}});function c(e){e._methodsArray=null;return e}a.prototype.get=function e(e){return this.methods[e]||r.prototype.get.call(this,e)};a.prototype.resolveAll=function e(){if(!this._needsRecursiveResolve)return this;r.prototype.resolve.call(this);var e=this.methodsArray;for(var t=0;t<e.length;++t)e[t].resolve();return this};a.prototype._resolveFeaturesRecursive=function e(e){if(!this._needsRecursiveFeatureResolution)return this;e=this._edition||e;r.prototype._resolveFeaturesRecursive.call(this,e);this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)});return this};a.prototype.add=function e(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof i){this.methods[e.name]=e;e.parent=this;return c(this)}return r.prototype.add.call(this,e)};a.prototype.remove=function e(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);delete this.methods[e.name];e.parent=null;return c(this)}return r.prototype.remove.call(this,e)};a.prototype.create=function e(e,t,n){var r=new o.Service(e,t,n);for(var i=0,a;i<this.methodsArray.length;++i){var c=s.lcFirst((a=this._methodsArray[i]).resolve().name).replace(/[^$\w_]/g,"");r[c]=s.codegen(["r","c"],s.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:a,q:a.resolvedRequestType.ctor,s:a.resolvedResponseType.ctor})}return r}},3577:(e,t,n)=>{"use strict";n.d(t,{xI:()=>nW,hg:()=>nI,x9:()=>nt,CI:()=>nP});var r=n(15048);var i=n(52122);var s=n(89495);var o=n(13634);const a={PHONE:"phone",TOTP:"totp"};const c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const u={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"};const l={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"};const d={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function f(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not "+"authorized to use Firebase Authentication with the provided API key. "+"Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier ("+"Android package name or iOS bundle ID) provided is not installed on "+"this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, "+"already used or the domain associated with it does not match the list "+"of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try "+"again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in "+"again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is "+"initialized. Please be sure to call `initializeAuth` or `getAuth` before "+"starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and "+"conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:"Auth instance has already been used to make a network call. Auth can "+"no longer be configured to use the emulator. Try calling "+'"connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier."+" The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registered for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen "+"if the user's token has been tampered with, or if the user isn't for "+"the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is "+"invalid. Please resend the verification code sms and be sure to use the "+"verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: "+"cordova-plugin-buildinfo, cordova-universal-links-plugin, "+"cordova-plugin-browsertab, cordova-plugin-inappbrowser and "+"cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is incorrect, malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. "+"Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation "+"only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the "+"specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase "+"project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, "+"expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the "+"phone number in a format that can be parsed into E.164 format. E.164 "+"phone numbers are written in the format [+][country code][subscriber "+"number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided "+"recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. "+"Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), "+"by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier "+"assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the "+"SHA-256 hash of the provided raw nonce does not match the hashed nonce "+"in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different "+"sign-in credentials. Sign in using a provider associated with this "+"email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which "+"requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. "+"Enable it in the Firebase console, under the sign-in method tab of the "+"Auth section.",["operation-not-supported-in-this-environment"]:"This operation is not supported in the environment this application is "+'running on. "location.protocol" must be http, https or chrome-extension'+" and web storage must be enabled.",["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. "+"Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist "+"the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may "+"have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with "+"different options. To avoid this error, call initializeAuth() with the "+"same options as when it was originally called, or call getAuth() to return the"+" already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend.",["unsupported-password-policy-schema-version"]:"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",["password-does-not-meet-requirements"]:"The password does not meet the requirements.",["invalid-hosting-link-domain"]:"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by "+"the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function h(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is "+"initialized. Please be sure to call `initializeAuth` or `getAuth` before "+"starting any other Firebase SDK."}}const p=null&&f;const m=h;const g=new i.FA("auth","Firebase",h());const y={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_PASSWORD:"auth/missing-password",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};const v=new o.Vy("@firebase/auth");function b(e,...t){if(v.logLevel<=o.$b.WARN){v.warn(`Auth (${r.MF}): ${e}`,...t)}}function _(e,...t){if(v.logLevel<=o.$b.ERROR){v.error(`Auth (${r.MF}): ${e}`,...t)}}function E(e,...t){throw C(e,...t)}function w(e,...t){return C(e,...t)}function S(e,t,n){const r={...m(),[t]:n};const s=new i.FA("auth","Firebase",r);return s.create(t,{appName:e.name})}function T(e){return S(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C(e,...t){if(typeof e!=="string"){const n=t[0];const r=[...t.slice(1)];if(r[0]){r[0].appName=e.name}return e._errorFactory.create(n,...r)}return g.create(e,...t)}function R(e,t,...n){if(!e){throw C(t,...n)}}function I(e){const t=`INTERNAL ASSERTION FAILED: `+e;_(t);throw new Error(t)}function O(e,t){if(!e){I(t)}}function A(){return typeof self!=="undefined"&&self.location?.href||""}function P(){return N()==="http:"||N()==="https:"}function N(){return typeof self!=="undefined"&&self.location?.protocol||null}function x(){if(typeof navigator!=="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine==="boolean"&&(P()||(0,i.sr)()||"connection"in navigator)){return navigator.onLine}return true}function D(){if(typeof navigator==="undefined"){return null}const e=navigator;return e.languages&&e.languages[0]||e.language||null}class k{constructor(e,t){this.shortDelay=e;this.longDelay=t;O(t>e,"Short delay should be less than long delay!");this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){if(!x()){return Math.min(5e3,this.shortDelay)}return this.isMobile?this.longDelay:this.shortDelay}}function M(e,t){O(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;if(!t){return n}return`${n}${t.startsWith("/")?t.slice(1):t}`}class L{static initialize(e,t,n){this.fetchImpl=e;if(t){this.headersImpl=t}if(n){this.responseImpl=n}}static fetch(){if(this.fetchImpl){return this.fetchImpl}if(typeof self!=="undefined"&&"fetch"in self){return self.fetch}if(typeof globalThis!=="undefined"&&globalThis.fetch){return globalThis.fetch}if(typeof fetch!=="undefined"){return fetch}I("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl){return this.headersImpl}if(typeof self!=="undefined"&&"Headers"in self){return self.Headers}if(typeof globalThis!=="undefined"&&globalThis.Headers){return globalThis.Headers}if(typeof Headers!=="undefined"){return Headers}I("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl){return this.responseImpl}if(typeof self!=="undefined"&&"Response"in self){return self.Response}if(typeof globalThis!=="undefined"&&globalThis.Response){return globalThis.Response}if(typeof Response!=="undefined"){return Response}I("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["INVALID_LOGIN_CREDENTIALS"]:"invalid-credential",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["PASSWORD_DOES_NOT_MEET_REQUIREMENTS"]:"password-does-not-meet-requirements",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"};const F=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"];const B=new k(3e4,6e4);function U(e,t){if(e.tenantId&&!t.tenantId){return{...t,tenantId:e.tenantId}}return t}async function V(e,t,n,r,s={}){return z(e,s,async()=>{let s={};let o={};if(r){if(t==="GET"){o=r}else{s={body:JSON.stringify(r)}}}const a=(0,i.Am)({key:e.config.apiKey,...o}).slice(1);const c=await e._getAdditionalHeaders();c["Content-Type"]="application/json";if(e.languageCode){c["X-Firebase-Locale"]=e.languageCode}const u={method:t,headers:c,...s};if(!(0,i.c1)()){u.referrerPolicy="no-referrer"}if(e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)){u.credentials="include"}return L.fetch()(await G(e,e.config.apiHost,n,a),u)})}async function z(e,t,n){e._canInitEmulator=false;const r={...j,...t};try{const t=new H(e);const i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s){throw W(e,"account-exists-with-different-credential",s)}if(i.ok&&!("errorMessage"in s)){return s}else{const t=i.ok?s.errorMessage:s.error.message;const[n,o]=t.split(" : ");if(n==="FEDERATED_USER_ID_ALREADY_LINKED"){throw W(e,"credential-already-in-use",s)}else if(n==="EMAIL_EXISTS"){throw W(e,"email-already-in-use",s)}else if(n==="USER_DISABLED"){throw W(e,"user-disabled",s)}const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o){throw S(e,a,o)}else{E(e,a)}}}catch(t){if(t instanceof i.g){throw t}E(e,"network-request-failed",{"message":String(t)})}}async function q(e,t,n,r,i={}){const s=await V(e,t,n,r,i);if("mfaPendingCredential"in s){E(e,"multi-factor-auth-required",{_serverResponse:s})}return s}async function G(e,t,n,r){const i=`${t}${n}?${r}`;const s=e;const o=s.config.emulator?M(e.config,i):`${e.config.apiScheme}://${i}`;if(F.includes(n)){await s._persistenceManagerAvailable;if(s._getPersistenceType()==="COOKIE"){const e=s._getPersistence();return e._getFinalTarget(o).toString()}}return o}function $(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e;this.timer=null;this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>{return t(w(this.auth,"network-request-failed"))},B.get())})}}function W(e,t,n){const r={appName:e.name};if(n.email){r.email=n.email}if(n.phoneNumber){r.phoneNumber=n.phoneNumber}const i=w(e,t,r);i.customData._tokenResponse=n;return i}function K(e){return e!==undefined&&e.enterprise!==undefined}class Q{constructor(e){this.siteKey="";this.recaptchaEnforcementState=[];if(e.recaptchaKey===undefined){throw new Error("recaptchaKey undefined")}this.siteKey=e.recaptchaKey.split("/")[3];this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0){return null}for(const t of this.recaptchaEnforcementState){if(t.provider&&t.provider===e){return $(t.enforcementState)}}return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Y(e,t){return V(e,"GET","/v2/recaptchaConfig",U(e,t))}async function X(e,t){return V(e,"POST","/v1/accounts:delete",t)}async function J(e,t){return V(e,"POST","/v1/accounts:update",t)}async function Z(e,t){return V(e,"POST","/v1/accounts:lookup",t)}function ee(e){if(!e){return undefined}try{const t=new Date(Number(e));if(!isNaN(t.getTime())){return t.toUTCString()}}catch(e){}return undefined}function et(e,t=false){return getModularInstance(e).getIdToken(t)}async function en(e,t=false){const n=(0,i.Ku)(e);const r=await n.getIdToken(t);const s=ei(r);R(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase==="object"?s.firebase:undefined;const a=o?.["sign_in_provider"];return{claims:s,token:r,authTime:ee(er(s.auth_time)),issuedAtTime:ee(er(s.iat)),expirationTime:ee(er(s.exp)),signInProvider:a||null,signInSecondFactor:o?.["sign_in_second_factor"]||null}}function er(e){return Number(e)*1e3}function ei(e){const[t,n,r]=e.split(".");if(t===undefined||n===undefined||r===undefined){_("JWT malformed, contained fewer than 3 sections");return null}try{const e=(0,i.u)(n);if(!e){_("Failed to decode base64 JWT payload");return null}return JSON.parse(e)}catch(e){_("Caught error parsing JWT payload as JSON",e?.toString());return null}}function es(e){const t=ei(e);R(t,"internal-error");R(typeof t.exp!=="undefined","internal-error");R(typeof t.iat!=="undefined","internal-error");return Number(t.exp)-Number(t.iat)}async function eo(e,t,n=false){if(n){return t}try{return await t}catch(t){if(t instanceof i.g&&ea(t)){if(e.auth.currentUser===e){await e.auth.signOut()}}throw t}}function ea({code:e}){return e===`auth/${"user-disabled"}`||e===`auth/${"user-token-expired"}`}class ec{constructor(e){this.user=e;this.isRunning=false;this.timerId=null;this.errorBackoff=3e4}_start(){if(this.isRunning){return}this.isRunning=true;this.schedule()}_stop(){if(!this.isRunning){return}this.isRunning=false;if(this.timerId!==null){clearTimeout(this.timerId)}}getInterval(e){if(e){const e=this.errorBackoff;this.errorBackoff=Math.min(this.errorBackoff*2,96e4);return e}else{this.errorBackoff=3e4;const e=this.user.stsTokenManager.expirationTime??0;const t=e-Date.now()-3e5;return Math.max(0,t)}}schedule(e=false){if(!this.isRunning){return}const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(true)}catch(e){if(e?.code===`auth/${"network-request-failed"}`){this.schedule(true)}return}this.schedule()}}class eu{constructor(e,t){this.createdAt=e;this.lastLoginAt=t;this._initializeTime()}_initializeTime(){this.lastSignInTime=ee(this.lastLoginAt);this.creationTime=ee(this.createdAt)}_copy(e){this.createdAt=e.createdAt;this.lastLoginAt=e.lastLoginAt;this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function el(e){const t=e.auth;const n=await e.getIdToken();const r=await eo(e,Z(t,{idToken:n}));R(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?eh(i.providerUserInfo):[];const o=ef(e.providerData,s);const a=e.isAnonymous;const c=!(e.email&&i.passwordHash)&&!o?.length;const u=!a?false:c;const l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||false,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eu(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,l)}async function ed(e){const t=(0,i.Ku)(e);await el(t);await t.auth._persistUserIfCurrent(t);t.auth._notifyListenersIfCurrent(t)}function ef(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}function eh(e){return e.map(({providerId:e,...t})=>{return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function ep(e,t){const n=await z(e,{},async()=>{const n=(0,i.Am)({"grant_type":"refresh_token","refresh_token":t}).slice(1);const{tokenApiHost:r,apiKey:s}=e.config;const o=await G(e,r,"/v1/token",`key=${s}`);const a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:n};if(e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)){c.credentials="include"}return L.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function em(e,t){return V(e,"POST","/v2/accounts:revokeToken",U(e,t))}class eg{constructor(){this.refreshToken=null;this.accessToken=null;this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error");R(typeof e.idToken!=="undefined","internal-error");R(typeof e.refreshToken!=="undefined","internal-error");const t="expiresIn"in e&&typeof e.expiresIn!=="undefined"?Number(e.expiresIn):es(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){R(e.length!==0,"internal-error");const t=es(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=false){if(!t&&this.accessToken&&!this.isExpired){return this.accessToken}R(this.refreshToken,e,"user-token-expired");if(this.refreshToken){await this.refresh(e,this.refreshToken);return this.accessToken}return null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await ep(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null;this.accessToken=e||null;this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t;const s=new eg;if(n){R(typeof n==="string","internal-error",{appName:e});s.refreshToken=n}if(r){R(typeof r==="string","internal-error",{appName:e});s.accessToken=r}if(i){R(typeof i==="number","internal-error",{appName:e});s.expirationTime=i}return s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken;this.refreshToken=e.refreshToken;this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eg,this.toJSON())}_performRefresh(){return I("not implemented")}}function ey(e,t){R(typeof e==="string"||typeof e==="undefined","internal-error",{appName:t})}class ev{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase";this.proactiveRefresh=new ec(this);this.reloadUserInfo=null;this.reloadListener=null;this.uid=e;this.auth=t;this.stsTokenManager=n;this.accessToken=n.accessToken;this.displayName=r.displayName||null;this.email=r.email||null;this.emailVerified=r.emailVerified||false;this.phoneNumber=r.phoneNumber||null;this.photoURL=r.photoURL||null;this.isAnonymous=r.isAnonymous||false;this.tenantId=r.tenantId||null;this.providerData=r.providerData?[...r.providerData]:[];this.metadata=new eu(r.createdAt||undefined,r.lastLoginAt||undefined)}async getIdToken(e){const t=await eo(this,this.stsTokenManager.getToken(this.auth,e));R(t,this.auth,"internal-error");if(this.accessToken!==t){this.accessToken=t;await this.auth._persistUserIfCurrent(this);this.auth._notifyListenersIfCurrent(this)}return t}getIdTokenResult(e){return en(this,e)}reload(){return ed(this)}_assign(e){if(this===e){return}R(this.uid===e.uid,this.auth,"internal-error");this.displayName=e.displayName;this.photoURL=e.photoURL;this.email=e.email;this.emailVerified=e.emailVerified;this.phoneNumber=e.phoneNumber;this.isAnonymous=e.isAnonymous;this.tenantId=e.tenantId;this.providerData=e.providerData.map(e=>({...e}));this.metadata._copy(e.metadata);this.stsTokenManager._assign(e.stsTokenManager)}_clone(e){const t=new ev({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});t.metadata._copy(this.metadata);return t}_onReload(e){R(!this.reloadListener,this.auth,"internal-error");this.reloadListener=e;if(this.reloadUserInfo){this._notifyReloadListener(this.reloadUserInfo);this.reloadUserInfo=null}}_notifyReloadListener(e){if(this.reloadListener){this.reloadListener(e)}else{this.reloadUserInfo=e}}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=false){let n=false;if(e.idToken&&e.idToken!==this.stsTokenManager.accessToken){this.stsTokenManager.updateFromServerResponse(e);n=true}if(t){await el(this)}await this.auth._persistUserIfCurrent(this);if(n){this.auth._notifyListenersIfCurrent(this)}}async delete(){if((0,r.xZ)(this.auth.app)){return Promise.reject(T(this.auth))}const e=await this.getIdToken();await eo(this,X(this.auth,{idToken:e}));this.stsTokenManager.clearRefreshToken();return this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||undefined,emailVerified:this.emailVerified,displayName:this.displayName||undefined,isAnonymous:this.isAnonymous,photoURL:this.photoURL||undefined,phoneNumber:this.phoneNumber||undefined,tenantId:this.tenantId||undefined,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??undefined;const r=t.email??undefined;const i=t.phoneNumber??undefined;const s=t.photoURL??undefined;const o=t.tenantId??undefined;const a=t._redirectEventId??undefined;const c=t.createdAt??undefined;const u=t.lastLoginAt??undefined;const{uid:l,emailVerified:d,isAnonymous:f,providerData:h,stsTokenManager:p}=t;R(l&&p,e,"internal-error");const m=eg.fromJSON(this.name,p);R(typeof l==="string",e,"internal-error");ey(n,e.name);ey(r,e.name);R(typeof d==="boolean",e,"internal-error");R(typeof f==="boolean",e,"internal-error");ey(i,e.name);ey(s,e.name);ey(o,e.name);ey(a,e.name);ey(c,e.name);ey(u,e.name);const g=new ev({uid:l,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:f,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:m,createdAt:c,lastLoginAt:u});if(h&&Array.isArray(h)){g.providerData=h.map(e=>({...e}))}if(a){g._redirectEventId=a}return g}static async _fromIdTokenResponse(e,t,n=false){const r=new eg;r.updateFromServerResponse(t);const i=new ev({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});await el(i);return i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];R(r.localId!==undefined,"internal-error");const i=r.providerUserInfo!==undefined?eh(r.providerUserInfo):[];const s=!(r.email&&r.passwordHash)&&!i?.length;const o=new eg;o.updateFromIdToken(n);const a=new ev({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s});const c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||false,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new eu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};Object.assign(a,c);return a}}const eb=new Map;function e_(e){O(e instanceof Function,"Expected a class definition");let t=eb.get(e);if(t){O(t instanceof e,"Instance stored in cache mismatched with class");return t}t=new e;eb.set(e,t);return t}class eE{constructor(){this.type="NONE";this.storage={}}async _isAvailable(){return true}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===undefined?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){return}_removeListener(e,t){return}}eE.type="NONE";const ew=eE;function eS(e,t,n){return`${"firebase"}:${e}:${t}:${n}`}class eT{constructor(e,t,n){this.persistence=e;this.auth=t;this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=eS(this.userKey,r.apiKey,i);this.fullPersistenceKey=eS("persistence",r.apiKey,i);this.boundEventHandler=t._onStorageEvent.bind(t);this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e){return null}if(typeof e==="string"){const t=await Z(this.auth,{idToken:e}).catch(()=>undefined);if(!t){return null}return ev._fromGetAccountInfoResponse(this.auth,t,e)}return ev._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e){return}const t=await this.getCurrentUser();await this.removeCurrentUser();this.persistence=e;if(t){return this.setCurrentUser(t)}}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length){return new eT(e_(ew),e,n)}const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable()){return e}return undefined}))).filter(e=>e);let i=r[0]||e_(ew);const s=eS(n,e.config.apiKey,e.name);let o=null;for(const n of t){try{const t=await n._get(s);if(t){let r;if(typeof t==="string"){const n=await Z(e,{idToken:t}).catch(()=>undefined);if(!n){break}r=await ev._fromGetAccountInfoResponse(e,n,t)}else{r=ev._fromJSON(e,t)}if(n!==i){o=r}i=n;break}}catch{}}const a=r.filter(e=>e._shouldAllowMigration);if(!i._shouldAllowMigration||!a.length){return new eT(i,e,n)}i=a[0];if(o){await i._set(s,o.toJSON())}await Promise.all(t.map(async e=>{if(e!==i){try{await e._remove(s)}catch{}}}));return new eT(i,e,n)}}function eC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/")){return"Opera"}else if(eA(t)){return"IEMobile"}else if(t.includes("msie")||t.includes("trident/")){return"IE"}else if(t.includes("edge/")){return"Edge"}else if(eR(t)){return"Firefox"}else if(t.includes("silk/")){return"Silk"}else if(eN(t)){return"Blackberry"}else if(ex(t)){return"Webos"}else if(eI(t)){return"Safari"}else if((t.includes("chrome/")||eO(t))&&!t.includes("edge/")){return"Chrome"}else if(eP(t)){return"Android"}else{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/;const n=e.match(t);if(n?.length===2){return n[1]}}return"Other"}function eR(e=(0,i.ZQ)()){return/firefox\//i.test(e)}function eI(e=(0,i.ZQ)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eO(e=(0,i.ZQ)()){return/crios\//i.test(e)}function eA(e=(0,i.ZQ)()){return/iemobile/i.test(e)}function eP(e=(0,i.ZQ)()){return/android/i.test(e)}function eN(e=(0,i.ZQ)()){return/blackberry/i.test(e)}function ex(e=(0,i.ZQ)()){return/webos/i.test(e)}function eD(e=getUA()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ek(e=getUA()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function eM(){return isIE()&&document.documentMode===10}function eL(e=getUA()){return eD(e)||eP(e)||ex(e)||eN(e)||/windows phone/i.test(e)||eA(e)}function ej(e,t=[]){let n;switch(e){case"Browser":n=eC((0,i.ZQ)());break;case"Worker":n=`${eC((0,i.ZQ)())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/${"JsCore"}/${r.MF}/${s}`}class eF{constructor(e){this.auth=e;this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{const r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t;this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e){return}const t=[];try{for(const n of this.queue){await n(e);if(n.onAbort){t.push(n.onAbort)}}}catch(e){t.reverse();for(const e of t){try{e()}catch(e){}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}async function eB(e,t={}){return V(e,"GET","/v2/passwordPolicy",U(e,t))}const eU=6;class eV{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={};this.customStrengthOptions.minPasswordLength=t.minPasswordLength??eU;if(t.maxPasswordLength){this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength}if(t.containsLowercaseCharacter!==undefined){this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter}if(t.containsUppercaseCharacter!==undefined){this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter}if(t.containsNumericCharacter!==undefined){this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter}if(t.containsNonAlphanumericCharacter!==undefined){this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter}this.enforcementState=e.enforcementState;if(this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"){this.enforcementState="OFF"}this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"";this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??false;this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:true,passwordPolicy:this};this.validatePasswordLengthOptions(e,t);this.validatePasswordCharacterOptions(e,t);t.isValid&&(t.isValid=t.meetsMinPasswordLength??true);t.isValid&&(t.isValid=t.meetsMaxPasswordLength??true);t.isValid&&(t.isValid=t.containsLowercaseLetter??true);t.isValid&&(t.isValid=t.containsUppercaseLetter??true);t.isValid&&(t.isValid=t.containsNumericCharacter??true);t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??true);return t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength;const r=this.customStrengthOptions.maxPasswordLength;if(n){t.meetsMinPasswordLength=e.length>=n}if(r){t.meetsMaxPasswordLength=e.length<=r}}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,false,false,false,false);let n;for(let r=0;r<e.length;r++){n=e.charAt(r);this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){if(this.customStrengthOptions.containsLowercaseLetter){e.containsLowercaseLetter||(e.containsLowercaseLetter=t)}if(this.customStrengthOptions.containsUppercaseLetter){e.containsUppercaseLetter||(e.containsUppercaseLetter=n)}if(this.customStrengthOptions.containsNumericCharacter){e.containsNumericCharacter||(e.containsNumericCharacter=r)}if(this.customStrengthOptions.containsNonAlphanumericCharacter){e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i)}}}class ez{constructor(e,t,n,r){this.app=e;this.heartbeatServiceProvider=t;this.appCheckServiceProvider=n;this.config=r;this.currentUser=null;this.emulatorConfig=null;this.operations=Promise.resolve();this.authStateSubscription=new eG(this);this.idTokenSubscription=new eG(this);this.beforeStateQueue=new eF(this);this.redirectUser=null;this.isProactiveRefreshEnabled=false;this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1;this._canInitEmulator=true;this._isInitialized=false;this._deleted=false;this._initializationPromise=null;this._popupRedirectResolver=null;this._errorFactory=g;this._agentRecaptchaConfig=null;this._tenantRecaptchaConfigs={};this._projectPasswordPolicy=null;this._tenantPasswordPolicies={};this._resolvePersistenceManagerAvailable=undefined;this.lastNotifiedUid=undefined;this.languageCode=null;this.tenantId=null;this.settings={appVerificationDisabledForTesting:false};this.frameworks=[];this.name=e.name;this.clientVersion=r.sdkClientVersion;this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){if(t){this._popupRedirectResolver=e_(t)}this._initializationPromise=this.queue(async()=>{if(this._deleted){return}this.persistenceManager=await eT.create(this,e);this._resolvePersistenceManagerAvailable?.();if(this._deleted){return}if(this._popupRedirectResolver?._shouldInitProactively){try{await this._popupRedirectResolver._initialize(this)}catch(e){}}await this.initializeCurrentUser(t);this.lastNotifiedUid=this.currentUser?.uid||null;if(this._deleted){return}this._isInitialized=true});return this._initializationPromise}async _onStorageEvent(){if(this._deleted){return}const e=await this.assertedPersistence.getCurrentUser();if(!this.currentUser&&!e){return}if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e);await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,true)}async initializeCurrentUserFromIdToken(e){try{const t=await Z(this,{idToken:e});const n=await ev._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e);await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;if(e){return new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))})}else{return this.directlySetCurrentUser(null)}}const t=await this.assertedPersistence.getCurrentUser();let n=t;let i=false;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId;const r=n?._redirectEventId;const s=await this.tryRedirectSignIn(e);if((!t||t===r)&&s?.user){n=s.user;i=true}}if(!n){return this.directlySetCurrentUser(null)}if(!n._redirectEventId){if(i){try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t;this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}}if(n){return this.reloadAndSetCurrentUserOrClear(n)}else{return this.directlySetCurrentUser(null)}}R(this._popupRedirectResolver,this,"argument-error");await this.getOrInitRedirectPersistenceManager();if(this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId){return this.directlySetCurrentUser(n)}return this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,true)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await el(e)}catch(e){if(e?.code!==`auth/${"network-request-failed"}`){return this.directlySetCurrentUser(null)}}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D()}async _delete(){this._deleted=true}async updateCurrentUser(e){if((0,r.xZ)(this.app)){return Promise.reject(T(this))}const t=e?(0,i.Ku)(e):null;if(t){R(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token")}return this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=false){if(this._deleted){return}if(e){R(this.tenantId===e.tenantId,this,"tenant-id-mismatch")}if(!t){await this.beforeStateQueue.runMiddleware(e)}return this.queue(async()=>{await this.directlySetCurrentUser(e);this.notifyAuthListeners()})}async signOut(){if((0,r.xZ)(this.app)){return Promise.reject(T(this))}await this.beforeStateQueue.runMiddleware(null);if(this.redirectPersistenceManager||this._popupRedirectResolver){await this._setRedirectUser(null)}return this._updateCurrentUser(null,true)}setPersistence(e){if((0,r.xZ)(this.app)){return Promise.reject(T(this))}return this.queue(async()=>{await this.assertedPersistence.setPersistence(e_(e))})}_getRecaptchaConfig(){if(this.tenantId==null){return this._agentRecaptchaConfig}else{return this._tenantRecaptchaConfigs[this.tenantId]}}async validatePassword(e){if(!this._getPasswordPolicyInternal()){await this._updatePasswordPolicy()}const t=this._getPasswordPolicyInternal();if(t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){return Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))}return t.validatePassword(e)}_getPasswordPolicyInternal(){if(this.tenantId===null){return this._projectPasswordPolicy}else{return this._tenantPasswordPolicies[this.tenantId]}}async _updatePasswordPolicy(){const e=await eB(this);const t=new eV(e);if(this.tenantId===null){this._projectPasswordPolicy=t}else{this._tenantPasswordPolicies[this.tenantId]=t}}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser){e()}else{const n=this.onAuthStateChanged(()=>{n();e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken();const n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};if(this.tenantId!=null){n.tenantId=this.tenantId}await em(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&e_(e)||this._popupRedirectResolver;R(t,this,"argument-error");this.redirectPersistenceManager=await eT.create(this,[e_(t._redirectPersistence)],"redirectUser");this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){if(this._isInitialized){await this.queue(async()=>{})}if(this._currentUser?._redirectEventId===e){return this._currentUser}if(this.redirectUser?._redirectEventId===e){return this.redirectUser}return null}async _persistUserIfCurrent(e){if(e===this.currentUser){return this.queue(async()=>this.directlySetCurrentUser(e))}}_notifyListenersIfCurrent(e){if(e===this.currentUser){this.notifyAuthListeners()}}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=true;if(this.currentUser){this._currentUser._startProactiveRefresh()}}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=false;if(this.currentUser){this._currentUser._stopProactiveRefresh()}}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized){return}this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;if(this.lastNotifiedUid!==e){this.lastNotifiedUid=e;this.authStateSubscription.next(this.currentUser)}}registerStateListener(e,t,n,r){if(this._deleted){return()=>{}}const i=typeof t==="function"?t:t.next.bind(t);let s=false;const o=this._isInitialized?Promise.resolve():this._initializationPromise;R(o,this,"internal-error");o.then(()=>{if(s){return}i(this.currentUser)});if(typeof t==="function"){const i=e.addObserver(t,n,r);return()=>{s=true;i()}}else{const n=e.addObserver(t);return()=>{s=true;n()}}}async directlySetCurrentUser(e){if(this.currentUser&&this.currentUser!==e){this._currentUser._stopProactiveRefresh()}if(e&&this.isProactiveRefreshEnabled){e._startProactiveRefresh()}this.currentUser=e;if(e){await this.assertedPersistence.setCurrentUser(e)}else{await this.assertedPersistence.removeCurrentUser()}}queue(e){this.operations=this.operations.then(e,e);return this.operations}get assertedPersistence(){R(this.persistenceManager,this,"internal-error");return this.persistenceManager}_logFramework(e){if(!e||this.frameworks.includes(e)){return}this.frameworks.push(e);this.frameworks.sort();this.clientVersion=ej(this.config.clientPlatform,this._getFrameworks())}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={["X-Client-Version"]:this.clientVersion};if(this.app.options.appId){e["X-Firebase-gmpid"]=this.app.options.appId}const t=await this.heartbeatServiceProvider.getImmediate({optional:true})?.getHeartbeatsHeader();if(t){e["X-Firebase-Client"]=t}const n=await this._getAppCheckToken();if(n){e["X-Firebase-AppCheck"]=n}return e}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken){return this.app.settings.appCheckToken}const e=await this.appCheckServiceProvider.getImmediate({optional:true})?.getToken();if(e?.error){b(`Error while retrieving App Check token: ${e.error}`)}return e?.token}}function eq(e){return(0,i.Ku)(e)}class eG{constructor(e){this.auth=e;this.observer=null;this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){R(this.observer,this.auth,"internal-error");return this.observer.next.bind(this.observer)}}let e$={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eH(e){return e$.loadJS(e)}function eW(){return e$.recaptchaEnterpriseScript}class eK{constructor(){this.enterprise=new eQ}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eQ{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eY="recaptcha-enterprise";const eX="NO_RECAPTCHA";class eJ{constructor(e){this.type=eY;this.auth=eq(e)}async verify(e="verify",t=false){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null){return e._agentRecaptchaConfig.siteKey}if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==undefined){return e._tenantRecaptchaConfigs[e.tenantId].siteKey}}return new Promise(async(t,n)=>{Y(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(r.recaptchaKey===undefined){n(new Error("recaptcha Enterprise site key undefined"))}else{const n=new Q(r);if(e.tenantId==null){e._agentRecaptchaConfig=n}else{e._tenantRecaptchaConfigs[e.tenantId]=n}return t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;if(K(i)){i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(eX)})})}else{r(Error("No reCAPTCHA enterprise script loaded."))}}if(this.auth.settings.appVerificationDisabledForTesting){const e=new eK;return e.execute("siteKey",{action:"verify"})}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&K(window.grecaptcha)){r(n,e,i)}else{if(typeof window==="undefined"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let t=eW();if(t.length!==0){t+=n}eH(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function eZ(e,t,n,r=false,i=false){const s=new eJ(e);let o;if(i){o=eX}else{try{o=await s.verify(n)}catch(e){o=await s.verify(n,true)}}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber;const t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{"phoneEnrollmentInfo":{phoneNumber:e,recaptchaToken:t,captchaResponse:o,"clientType":"CLIENT_TYPE_WEB","recaptchaVersion":"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{"phoneSignInInfo":{recaptchaToken:e,captchaResponse:o,"clientType":"CLIENT_TYPE_WEB","recaptchaVersion":"RECAPTCHA_ENTERPRISE"}})}return a}if(!r){Object.assign(a,{captchaResponse:o})}else{Object.assign(a,{"captchaResp":o})}Object.assign(a,{"clientType":"CLIENT_TYPE_WEB"});Object.assign(a,{"recaptchaVersion":"RECAPTCHA_ENTERPRISE"});return a}async function e0(e,t,n,r,i){if(i==="EMAIL_PASSWORD_PROVIDER"){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await eZ(e,t,n,n==="getOobCode");return r(e,i)}else{return r(e,t).catch(async i=>{if(i.code===`auth/${"missing-recaptcha-token"}`){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await eZ(e,t,n,n==="getOobCode");return r(e,i)}else{return Promise.reject(i)}})}}else if(i==="PHONE_PROVIDER"){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await eZ(e,t,n);return r(e,i).catch(async i=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"){if(i.code===`auth/${"missing-recaptcha-token"}`||i.code===`auth/${"invalid-app-credential"}`){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await eZ(e,t,n,false,true);return r(e,i)}}return Promise.reject(i)})}else{const i=await eZ(e,t,n,false,true);return r(e,i)}}else{return Promise.reject(i+" provider is not supported.")}}async function e1(e){const t=eq(e);const n=await Y(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});const r=new Q(n);if(t.tenantId==null){t._agentRecaptchaConfig=r}else{t._tenantRecaptchaConfigs[t.tenantId]=r}if(r.isAnyProviderEnabled()){const e=new eJ(t);void e.verify()}}function e2(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate();const r=n.getOptions();if((0,i.bD)(r,t??{})){return e}else{E(e,"already-initialized")}}const s=n.initialize({options:t});return s}function e3(e,t){const n=t?.persistence||[];const r=(Array.isArray(n)?n:[n]).map(e_);if(t?.errorMap){e._updateErrorMap(t.errorMap)}e._initializeWithPersistence(r,t?.popupRedirectResolver)}function e6(e,t,n){const r=eq(e);R(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!n?.disableWarnings;const o=e4(t);const{host:a,port:c}=e8(t);const u=c===null?"":`:${c}`;const l={url:`${o}//${a}${u}/`};const d=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){R(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed");R((0,i.bD)(l,r.config.emulator)&&(0,i.bD)(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l;r.emulatorConfig=d;r.settings.appVerificationDisabledForTesting=true;if((0,i.zJ)(a)){void(0,i.gE)(`${o}//${a}${u}`);(0,i.P1)("Auth",true)}else if(!s){e7()}}function e4(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function e8(e){const t=e4(e);const n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n){return{host:"",port:null}}const r=n[2].split("@").pop()||"";const i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:e5(r.substr(e.length+1))}}else{const[e,t]=r.split(":");return{host:e,port:e5(t)}}}function e5(e){if(!e){return null}const t=Number(e);if(isNaN(t)){return null}return t}function e7(){function e(){const e=document.createElement("p");const t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.";t.position="fixed";t.width="100%";t.backgroundColor="#ffffff";t.border=".1em solid #000000";t.color="#b50000";t.bottom="0px";t.left="0px";t.margin="0px";t.zIndex="10000";t.textAlign="center";e.classList.add("firebase-emulator-warning");document.body.appendChild(e)}if(typeof console!=="undefined"&&typeof console.info==="function"){console.info("WARNING: You are using the Auth Emulator,"+" which is intended for local testing only.  Do not use with"+" production credentials.")}if(typeof window!=="undefined"&&typeof document!=="undefined"){if(document.readyState==="loading"){window.addEventListener("DOMContentLoaded",e)}else{e()}}}class e9{constructor(e,t){this.providerId=e;this.signInMethod=t}toJSON(){return I("not implemented")}_getIdTokenResponse(e){return I("not implemented")}_linkToIdToken(e,t){return I("not implemented")}_getReauthenticationResolver(e){return I("not implemented")}}async function te(e,t){return V(e,"POST","/v1/accounts:resetPassword",U(e,t))}async function tt(e,t){return V(e,"POST","/v1/accounts:update",t)}async function tn(e,t){return V(e,"POST","/v1/accounts:signUp",t)}async function tr(e,t){return V(e,"POST","/v1/accounts:update",U(e,t))}async function ti(e,t){return q(e,"POST","/v1/accounts:signInWithPassword",U(e,t))}async function ts(e,t){return V(e,"POST","/v1/accounts:sendOobCode",U(e,t))}async function to(e,t){return ts(e,t)}async function ta(e,t){return ts(e,t)}async function tc(e,t){return ts(e,t)}async function tu(e,t){return ts(e,t)}async function tl(e,t){return q(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}async function td(e,t){return q(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}class tf extends e9{constructor(e,t,n,r=null){super("password",n);this._email=e;this._password=t;this._tenantId=r}static _fromEmailAndPassword(e,t){return new tf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new tf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e==="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password"){return this._fromEmailAndPassword(t.email,t.password)}else if(t.signInMethod==="emailLink"){return this._fromEmailAndCode(t.email,t.password,t.tenantId)}}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:true,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e0(e,t,"signInWithPassword",ti,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return tl(e,{email:this._email,oobCode:this._password});default:E(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:true,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e0(e,n,"signUpPassword",tn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return td(e,{idToken:t,email:this._email,oobCode:this._password});default:E(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function th(e,t){return q(e,"POST","/v1/accounts:signInWithIdp",U(e,t))}const tp="http://localhost";class tm extends e9{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(e){const t=new tm(e.providerId,e.signInMethod);if(e.idToken||e.accessToken){if(e.idToken){t.idToken=e.idToken}if(e.accessToken){t.accessToken=e.accessToken}if(e.nonce&&!e.pendingToken){t.nonce=e.nonce}if(e.pendingToken){t.pendingToken=e.pendingToken}}else if(e.oauthToken&&e.oauthTokenSecret){t.accessToken=e.oauthToken;t.secret=e.oauthTokenSecret}else{E("argument-error")}return t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e==="string"?JSON.parse(e):e;const{providerId:n,signInMethod:r,...i}=t;if(!n||!r){return null}const s=new tm(n,r);s.idToken=i.idToken||undefined;s.accessToken=i.accessToken||undefined;s.secret=i.secret;s.nonce=i.nonce;s.pendingToken=i.pendingToken||null;return s}_getIdTokenResponse(e){const t=this.buildRequest();return th(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();n.idToken=t;return th(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();t.autoCreate=false;return th(e,t)}buildRequest(){const e={requestUri:tp,returnSecureToken:true};if(this.pendingToken){e.pendingToken=this.pendingToken}else{const t={};if(this.idToken){t["id_token"]=this.idToken}if(this.accessToken){t["access_token"]=this.accessToken}if(this.secret){t["oauth_token_secret"]=this.secret}t["providerId"]=this.providerId;if(this.nonce&&!this.pendingToken){t["nonce"]=this.nonce}e.postBody=(0,i.Am)(t)}return e}}async function tg(e,t){return q(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t))}async function ty(e,t){const n=await q(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t));if(n.temporaryProof){throw W(e,"account-exists-with-different-credential",n)}return n}const tv={["USER_NOT_FOUND"]:"user-not-found"};async function tb(e,t){const n={...t,operation:"REAUTH"};return q(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,n),tv)}class t_ extends e9{constructor(e){super("phone","phone");this.params=e}static _fromVerification(e,t){return new t_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new t_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return tg(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return ty(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return tb(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;if(e&&t){return{temporaryProof:e,phoneNumber:t}}return{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};if(this.params.phoneNumber){e.phoneNumber=this.params.phoneNumber}if(this.params.temporaryProof){e.temporaryProof=this.params.temporaryProof}if(this.params.verificationCode){e.verificationCode=this.params.verificationCode}if(this.params.verificationId){e.verificationId=this.params.verificationId}return e}static fromJSON(e){if(typeof e==="string"){e=JSON.parse(e)}const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;if(!n&&!t&&!r&&!i){return null}return new t_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i})}}function tE(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tw(e){const t=(0,i.I9)((0,i.hp)(e))["link"];const n=t?(0,i.I9)((0,i.hp)(t))["deep_link_id"]:null;const r=(0,i.I9)((0,i.hp)(e))["deep_link_id"];const s=r?(0,i.I9)((0,i.hp)(r))["link"]:null;return s||r||n||t||e}class tS{constructor(e){const t=(0,i.I9)((0,i.hp)(e));const n=t["apiKey"]??null;const r=t["oobCode"]??null;const s=tE(t["mode"]??null);R(n&&r&&s,"argument-error");this.apiKey=n;this.operation=s;this.code=r;this.continueUrl=t["continueUrl"]??null;this.languageCode=t["lang"]??null;this.tenantId=t["tenantId"]??null}static parseLink(e){const t=tw(e);try{return new tS(t)}catch{return null}}}function tT(e){return tS.parseLink(e)}class tC{constructor(){this.providerId=tC.PROVIDER_ID}static credential(e,t){return tf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=tS.parseLink(t);R(n,"argument-error");return tf._fromEmailAndCode(e,n.code,n.tenantId)}}tC.PROVIDER_ID="password";tC.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tC.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tR{constructor(e){this.providerId=e;this.defaultLanguageCode=null;this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){this.customParameters=e;return this}getCustomParameters(){return this.customParameters}}class tI extends tR{constructor(){super(...arguments);this.scopes=[]}addScope(e){if(!this.scopes.includes(e)){this.scopes.push(e)}return this}getScopes(){return[...this.scopes]}}class tO extends(null&&tI){static credentialFromJSON(e){const t=typeof e==="string"?JSON.parse(e):e;R("providerId"in t&&"signInMethod"in t,"argument-error");return tm._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){R(e.idToken||e.accessToken,"argument-error");return tm._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return tO.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tO.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e){return null}const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i){return null}if(!o){return null}try{return new tO(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(e){return null}}}class tA extends tI{constructor(){super("facebook.com")}static credential(e){return tm._fromParams({providerId:tA.PROVIDER_ID,signInMethod:tA.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tA.credentialFromTaggedObject(e)}static credentialFromError(e){return tA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)){return null}if(!e.oauthAccessToken){return null}try{return tA.credential(e.oauthAccessToken)}catch{return null}}}tA.FACEBOOK_SIGN_IN_METHOD="facebook.com";tA.PROVIDER_ID="facebook.com";class tP extends tI{constructor(){super("google.com");this.addScope("profile")}static credential(e,t){return tm._fromParams({providerId:tP.PROVIDER_ID,signInMethod:tP.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tP.credentialFromTaggedObject(e)}static credentialFromError(e){return tP.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e){return null}const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n){return null}try{return tP.credential(t,n)}catch{return null}}}tP.GOOGLE_SIGN_IN_METHOD="google.com";tP.PROVIDER_ID="google.com";class tN extends tI{constructor(){super("github.com")}static credential(e){return tm._fromParams({providerId:tN.PROVIDER_ID,signInMethod:tN.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tN.credentialFromTaggedObject(e)}static credentialFromError(e){return tN.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)){return null}if(!e.oauthAccessToken){return null}try{return tN.credential(e.oauthAccessToken)}catch{return null}}}tN.GITHUB_SIGN_IN_METHOD="github.com";tN.PROVIDER_ID="github.com";const tx="http://localhost";class tD extends e9{constructor(e,t){super(e,e);this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return th(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();n.idToken=t;return th(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();t.autoCreate=false;return th(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e==="string"?JSON.parse(e):e;const{providerId:n,signInMethod:r,pendingToken:i}=t;if(!n||!r||!i||n!==r){return null}return new tD(n,i)}static _create(e,t){return new tD(e,t)}buildRequest(){return{requestUri:tx,returnSecureToken:true,pendingToken:this.pendingToken}}}const tk="saml.";class tM extends tR{constructor(e){R(e.startsWith(tk),"argument-error");super(e)}static credentialFromResult(e){return tM.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return tM.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=tD.fromJSON(e);R(t,"argument-error");return t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e){return null}const{pendingToken:t,providerId:n}=e;if(!t||!n){return null}try{return tD._create(n,t)}catch(e){return null}}}class tL extends tI{constructor(){super("twitter.com")}static credential(e,t){return tm._fromParams({providerId:tL.PROVIDER_ID,signInMethod:tL.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tL.credentialFromTaggedObject(e)}static credentialFromError(e){return tL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e){return null}const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n){return null}try{return tL.credential(t,n)}catch{return null}}}tL.TWITTER_SIGN_IN_METHOD="twitter.com";tL.PROVIDER_ID="twitter.com";async function tj(e,t){return q(e,"POST","/v1/accounts:signUp",U(e,t))}class tF{constructor(e){this.user=e.user;this.providerId=e.providerId;this._tokenResponse=e._tokenResponse;this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=false){const i=await ev._fromIdTokenResponse(e,n,r);const s=tB(n);const o=new tF({user:i,providerId:s,_tokenResponse:n,operationType:t});return o}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,true);const r=tB(n);return new tF({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function tB(e){if(e.providerId){return e.providerId}if("phoneNumber"in e){return"phone"}return null}async function tU(e){if(_isFirebaseServerApp(e.app)){return Promise.reject(T(e))}const t=eq(e);await t._initializationPromise;if(t.currentUser?.isAnonymous){return new tF({user:t.currentUser,providerId:null,operationType:"signIn"})}const n=await tj(t,{returnSecureToken:true});const r=await tF._fromIdTokenResponse(t,"signIn",n,true);await t._updateCurrentUser(r.user);return r}class tV extends i.g{constructor(e,t,n,r){super(t.code,t.message);this.operationType=n;this.user=r;Object.setPrototypeOf(this,tV.prototype);this.customData={appName:e.name,tenantId:e.tenantId??undefined,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tV(e,t,n,r)}}function tz(e,t,n,r){const i=t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch(n=>{if(n.code===`auth/${"multi-factor-auth-required"}`){throw tV._fromErrorAndOperation(e,n,t,r)}throw n})}function tq(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function tG(e,t){const n=getModularInstance(e);await tH(true,n,t);const{providerUserInfo:r}=await J(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]});const i=tq(r||[]);n.providerData=n.providerData.filter(e=>i.has(e.providerId));if(!i.has("phone")){n.phoneNumber=null}await n.auth._persistUserIfCurrent(n);return n}async function t$(e,t,n=false){const r=await eo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tF._forOperation(e,"link",r)}async function tH(e,t,n){await el(t);const r=tq(t.providerData);const i=e===false?"provider-already-linked":"no-such-provider";R(r.has(n)===e,t.auth,i)}async function tW(e,t,n=false){const{auth:r}=e;if(_isFirebaseServerApp(r.app)){return Promise.reject(T(r))}const i="reauthenticate";try{const s=await eo(e,tz(r,i,t,e),n);R(s.idToken,r,"internal-error");const o=ei(s.idToken);R(o,r,"internal-error");const{sub:a}=o;R(e.uid===a,r,"user-mismatch");return tF._forOperation(e,i,s)}catch(e){if(e?.code===`auth/${"user-not-found"}`){E(r,"user-mismatch")}throw e}}async function tK(e,t,n=false){if((0,r.xZ)(e.app)){return Promise.reject(T(e))}const i="signIn";const s=await tz(e,i,t);const o=await tF._fromIdTokenResponse(e,i,s);if(!n){await e._updateCurrentUser(o.user)}return o}async function tQ(e,t){return tK(eq(e),t)}async function tY(e,t){const n=getModularInstance(e);await tH(false,n,t.providerId);return t$(n,t)}async function tX(e,t){return tW(getModularInstance(e),t)}async function tJ(e,t){return q(e,"POST","/v1/accounts:signInWithCustomToken",U(e,t))}async function tZ(e,t){if(_isFirebaseServerApp(e.app)){return Promise.reject(T(e))}const n=eq(e);const r=await tJ(n,{token:t,returnSecureToken:true});const i=await tF._fromIdTokenResponse(n,"signIn",r);await n._updateCurrentUser(i.user);return i}class t0{constructor(e,t){this.factorId=e;this.uid=t.mfaEnrollmentId;this.enrollmentTime=new Date(t.enrolledAt).toUTCString();this.displayName=t.displayName}static _fromServerResponse(e,t){if("phoneInfo"in t){return t1._fromServerResponse(e,t)}else if("totpInfo"in t){return t2._fromServerResponse(e,t)}return E(e,"internal-error")}}class t1 extends t0{constructor(e){super("phone",e);this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new t1(t)}}class t2 extends t0{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new t2(t)}}function t3(e,t,n){R(n.url?.length>0,e,"invalid-continue-uri");R(typeof n.dynamicLinkDomain==="undefined"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain");R(typeof n.linkDomain==="undefined"||n.linkDomain.length>0,e,"invalid-hosting-link-domain");t.continueUrl=n.url;t.dynamicLinkDomain=n.dynamicLinkDomain;t.linkDomain=n.linkDomain;t.canHandleCodeInApp=n.handleCodeInApp;if(n.iOS){R(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id");t.iOSBundleId=n.iOS.bundleId}if(n.android){R(n.android.packageName.length>0,e,"missing-android-pkg-name");t.androidInstallApp=n.android.installApp;t.androidMinimumVersionCode=n.android.minimumVersion;t.androidPackageName=n.android.packageName}}async function t6(e){const t=eq(e);if(t._getPasswordPolicyInternal()){await t._updatePasswordPolicy()}}async function t4(e,t,n){const r=eq(e);const i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(n){t3(r,i,n)}await e0(r,i,"getOobCode",ta,"EMAIL_PASSWORD_PROVIDER")}async function t8(e,t,n){await te(getModularInstance(e),{oobCode:t,newPassword:n}).catch(async t=>{if(t.code===`auth/${"password-does-not-meet-requirements"}`){void t6(e)}throw t})}async function t5(e,t){await tr(getModularInstance(e),{oobCode:t})}async function t7(e,t){const n=getModularInstance(e);const r=await te(n,{oobCode:t});const i=r.requestType;R(i,n,"internal-error");switch(i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":R(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":R(r.mfaInfo,n,"internal-error");default:R(r.email,n,"internal-error")}let s=null;if(r.mfaInfo){s=t0._fromServerResponse(eq(n),r.mfaInfo)}return{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function t9(e,t){const{data:n}=await t7(getModularInstance(e),t);return n.email}async function ne(e,t,n){if(_isFirebaseServerApp(e.app)){return Promise.reject(T(e))}const r=eq(e);const i={returnSecureToken:true,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};const s=e0(r,i,"signUpPassword",tj,"EMAIL_PASSWORD_PROVIDER");const o=await s.catch(t=>{if(t.code===`auth/${"password-does-not-meet-requirements"}`){void t6(e)}throw t});const a=await tF._fromIdTokenResponse(r,"signIn",o);await r._updateCurrentUser(a.user);return a}function nt(e,t,n){if((0,r.xZ)(e.app)){return Promise.reject(T(e))}return tQ((0,i.Ku)(e),tC.credential(t,n)).catch(async t=>{if(t.code===`auth/${"password-does-not-meet-requirements"}`){void t6(e)}throw t})}async function nn(e,t,n){const r=eq(e);const i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){R(t.handleCodeInApp,r,"argument-error");if(t){t3(r,e,t)}}s(i,n);await e0(r,i,"getOobCode",tc,"EMAIL_PASSWORD_PROVIDER")}function nr(e,t){const n=tS.parseLink(t);return n?.operation==="EMAIL_SIGNIN"}async function ni(e,t,n){if(_isFirebaseServerApp(e.app)){return Promise.reject(T(e))}const r=getModularInstance(e);const i=tC.credentialWithLink(t,n||A());R(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch");return tQ(r,i)}async function ns(e,t){return V(e,"POST","/v1/accounts:createAuthUri",U(e,t))}async function no(e,t){const n=P()?A():"http://localhost";const r={identifier:t,continueUri:n};const{signinMethods:i}=await ns(getModularInstance(e),r);return i||[]}async function na(e,t){const n=getModularInstance(e);const r=await e.getIdToken();const i={requestType:"VERIFY_EMAIL",idToken:r};if(t){t3(n.auth,i,t)}const{email:s}=await to(n.auth,i);if(s!==e.email){await e.reload()}}async function nc(e,t,n){const r=getModularInstance(e);const i=await e.getIdToken();const s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:t};if(n){t3(r.auth,s,n)}const{email:o}=await tu(r.auth,s);if(o!==e.email){await e.reload()}}async function nu(e,t){return V(e,"POST","/v1/accounts:update",t)}async function nl(e,{displayName:t,photoURL:n}){if(t===undefined&&n===undefined){return}const r=getModularInstance(e);const i=await r.getIdToken();const s={idToken:i,displayName:t,photoUrl:n,returnSecureToken:true};const o=await eo(r,nu(r.auth,s));r.displayName=o.displayName||null;r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>e==="password");if(a){a.displayName=r.displayName;a.photoURL=r.photoURL}await r._updateTokensIfNecessary(o)}function nd(e,t){const n=getModularInstance(e);if(_isFirebaseServerApp(n.auth.app)){return Promise.reject(T(n.auth))}return nh(n,t,null)}function nf(e,t){return nh(getModularInstance(e),null,t)}async function nh(e,t,n){const{auth:r}=e;const i=await e.getIdToken();const s={idToken:i,returnSecureToken:true};if(t){s.email=t}if(n){s.password=n}const o=await eo(e,tt(r,s));await e._updateTokensIfNecessary(o,true)}function np(e){if(!e){return null}const{providerId:t}=e;const n=e.rawUserInfo?JSON.parse(e.rawUserInfo):{};const r=e.isNewUser||e.kind==="identitytoolkit#SignupNewUserResponse";if(!t&&e?.idToken){const t=ei(e.idToken)?.firebase?.["sign_in_provider"];if(t){const e=t!=="anonymous"&&t!=="custom"?t:null;return new nm(r,e)}}if(!t){return null}switch(t){case"facebook.com":return new ny(r,n);case"github.com":return new nv(r,n);case"google.com":return new nb(r,n);case"twitter.com":return new n_(r,n,e.screenName||null);case"custom":case"anonymous":return new nm(r,null);default:return new nm(r,t,n)}}class nm{constructor(e,t,n={}){this.isNewUser=e;this.providerId=t;this.profile=n}}class ng extends nm{constructor(e,t,n,r){super(e,t,n);this.username=r}}class ny extends nm{constructor(e,t){super(e,"facebook.com",t)}}class nv extends ng{constructor(e,t){super(e,"github.com",t,typeof t?.login==="string"?t?.login:null)}}class nb extends nm{constructor(e,t){super(e,"google.com",t)}}class n_ extends ng{constructor(e,t,n){super(e,"twitter.com",t,n)}}function nE(e){const{user:t,_tokenResponse:n}=e;if(t.isAnonymous&&!n){return{providerId:null,isNewUser:false,profile:null}}return np(n)}function nw(e,t){return getModularInstance(e).setPersistence(t)}function nS(e){return e1(e)}async function nT(e,t){const n=eq(e);return n.validatePassword(t)}function nC(e,t,n,r){return getModularInstance(e).onIdTokenChanged(t,n,r)}function nR(e,t,n){return getModularInstance(e).beforeAuthStateChanged(t,n)}function nI(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function nO(e){getModularInstance(e).useDeviceLanguage()}function nA(e,t){return getModularInstance(e).updateCurrentUser(t)}function nP(e){return(0,i.Ku)(e).signOut()}function nN(e,t){const n=eq(e);return n.revokeAccessToken(t)}async function nx(e){return getModularInstance(e).delete()}class nD{constructor(e,t,n){this.type=e;this.credential=t;this.user=n}static _fromIdtoken(e,t){return new nD("enroll",e,t)}static _fromMfaPendingCredential(e){return new nD("signin",e)}toJSON(){const e=this.type==="enroll"?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential){return nD._fromMfaPendingCredential(e.multiFactorSession.pendingCredential)}else if(e.multiFactorSession?.idToken){return nD._fromIdtoken(e.multiFactorSession.idToken)}}return null}}class nk{constructor(e,t,n){this.session=e;this.hints=t;this.signInResolver=n}static _fromError(e,t){const n=eq(e);const r=t.customData._serverResponse;const i=(r.mfaInfo||[]).map(e=>t0._fromServerResponse(n,e));R(r.mfaPendingCredential,n,"internal-error");const s=nD._fromMfaPendingCredential(r.mfaPendingCredential);return new nk(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo;delete r.mfaPendingCredential;const o={...r,idToken:i.idToken,refreshToken:i.refreshToken};switch(t.operationType){case"signIn":const a=await tF._fromIdTokenResponse(n,t.operationType,o);await n._updateCurrentUser(a.user);return a;case"reauthenticate":R(t.user,n,"internal-error");return tF._forOperation(t.user,t.operationType,o);default:E(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function nM(e,t){const n=getModularInstance(e);const r=t;R(t.customData.operationType,n,"argument-error");R(r.customData._serverResponse?.mfaPendingCredential,n,"argument-error");return nk._fromError(n,r)}function nL(e,t){return V(e,"POST","/v2/accounts/mfaEnrollment:start",U(e,t))}function nj(e,t){return V(e,"POST","/v2/accounts/mfaEnrollment:finalize",U(e,t))}function nF(e,t){return V(e,"POST","/v2/accounts/mfaEnrollment:withdraw",U(e,t))}class nB{constructor(e){this.user=e;this.enrolledFactors=[];e._onReload(t=>{if(t.mfaInfo){this.enrolledFactors=t.mfaInfo.map(t=>t0._fromServerResponse(e.auth,t))}})}static _fromUser(e){return new nB(e)}async getSession(){return nD._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e;const r=await this.getSession();const i=await eo(this.user,n._process(this.user.auth,r,t));await this.user._updateTokensIfNecessary(i);return this.user.reload()}async unenroll(e){const t=typeof e==="string"?e:e.uid;const n=await this.user.getIdToken();try{const e=await eo(this.user,nF(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t);await this.user._updateTokensIfNecessary(e);await this.user.reload()}catch(e){throw e}}}const nU=new WeakMap;function nV(e){const t=getModularInstance(e);if(!nU.has(t)){nU.set(t,nB._fromUser(t))}return nU.get(t)}var nz="@firebase/auth";var nq="1.11.1";class nG{constructor(e){this.auth=e;this.internalListeners=new Map}getUid(){this.assertAuthConfigured();return this.auth.currentUser?.uid||null}async getToken(e){this.assertAuthConfigured();await this.auth._initializationPromise;if(!this.auth.currentUser){return null}const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){this.assertAuthConfigured();if(this.internalListeners.has(e)){return}const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t);this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);if(!t){return}this.internalListeners.delete(e);t();this.updateProactiveRefresh()}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){if(this.internalListeners.size>0){this.auth._startProactiveRefresh()}else{this.auth._stopProactiveRefresh()}}}function n$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return undefined}}function nH(e){(0,r.om)(new s.uA("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate();const i=t.getProvider("heartbeat");const s=t.getProvider("app-check-internal");const{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ej(e)};const u=new ez(r,i,s,c);e3(u,n);return u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()}));(0,r.om)(new s.uA("auth-internal",e=>{const t=eq(e.getProvider("auth").getImmediate());return(e=>new nG(e))(t)},"PRIVATE").setInstantiationMode("EXPLICIT"));(0,r.KO)(nz,nq,n$(e));(0,r.KO)(nz,nq,"esm2020")}L.initialize(fetch,Headers,Response);function nW(e=(0,r.Sx)()){const t=(0,r.j6)(e,"auth");if(t.isInitialized()){return t.getImmediate()}const n=e2(e);const s=(0,i.Tj)("auth");if(s){e6(n,`http://${s}`)}return n}nH("Node");const nK=w("operation-not-supported-in-this-environment");async function nQ(){throw nK}class nY{constructor(){throw nK}}const nX=null&&ew;const nJ=null&&ew;const nZ=null&&ew;const n0=null&&ew;const n1=null&&nK;const n2=null&&nY;const n3=null&&nQ;const n6=null&&nQ;const n4=null&&nQ;const n8=null&&nQ;const n5=null&&nQ;const n7=null&&nQ;const n9=null&&nQ;const re=null&&nQ;const rt=null&&nQ;const rn=null&&nQ;const rr=null&&nQ;const ri=null&&nY;class rs{static assertion(){throw nK}}ez.prototype.setPersistence=async()=>{};function ro(e,t){return V(e,"POST","/v2/accounts/mfaSignIn:finalize",U(e,t))}class ra{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return I("unexpected MultiFactorSessionType")}}}class rc{static assertionForEnrollment(e,t){return ru._fromSecret(e,t)}static assertionForSignIn(e,t){return ru._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;R(typeof t.user?.auth!=="undefined","internal-error");const n=await nL(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return rl._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}}rc.FACTOR_ID="totp";class ru extends ra{constructor(e,t,n){super("totp");this.otp=e;this.enrollmentId=t;this.secret=n}static _fromSecret(e,t){return new ru(t,undefined,e)}static _fromEnrollmentId(e,t){return new ru(t,e)}async _finalizeEnroll(e,t,n){R(typeof this.secret!=="undefined",e,"argument-error");return nj(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){R(this.enrollmentId!==undefined&&this.otp!==undefined,e,"argument-error");const n={verificationCode:this.otp};return ro(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class rl{constructor(e,t,n,r,i,s,o){this.sessionInfo=s;this.auth=o;this.secretKey=e;this.hashingAlgorithm=t;this.codeLength=n;this.codeIntervalSeconds=r;this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new rl(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=false;if(rd(e)||rd(t)){n=true}if(n){if(rd(e)){e=this.auth.currentUser?.email||"unknownuser"}if(rd(t)){t=this.auth.name}}return`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function rd(e){return typeof e==="undefined"||e?.length===0};;},4189:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:true});t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;const i=n(20920);const s=n(93122);const o=n(70155);const a=n(43801);const c=n(30598);const u=n(4976);const l=n(70757);const d=n(98387);const f=n(58880);const h=n(63038);const p="outlier_detection";function m(e){h.trace(s.LogVerbosity.DEBUG,p,e)}const g="outlier_detection";const y=((r=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&r!==void 0?r:"true")==="true";const v={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100};const b={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function _(e,t,n,r){if(t in e&&typeof e[t]!==n){const i=r?`${r}.${t}`:t;throw new Error(`outlier detection config ${i} parse error: expected ${n}, got ${typeof e[t]}`)}}function E(e,t,n){const r=n?`${n}.${t}`:t;if(t in e){if(!(0,o.isDuration)(e[t])){throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof e[t]}`)}if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=0x3b9ac9ff)){throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}}function w(e,t,n){const r=n?`${n}.${t}`:t;_(e,t,"number",n);if(t in e&&!(e[t]>=0&&e[t]<=100)){throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}}class S{constructor(e,t,n,r,i,s,o){this.childPolicy=o;if(o.length>0&&o[0].getLoadBalancerName()==="pick_first"){throw new Error("outlier_detection LB policy cannot have a pick_first child policy")}this.intervalMs=e!==null&&e!==void 0?e:1e4;this.baseEjectionTimeMs=t!==null&&t!==void 0?t:3e4;this.maxEjectionTimeMs=n!==null&&n!==void 0?n:3e5;this.maxEjectionPercent=r!==null&&r!==void 0?r:10;this.successRateEjection=i?Object.assign(Object.assign({},v),i):null;this.failurePercentageEjection=s?Object.assign(Object.assign({},b),s):null}getLoadBalancerName(){return g}toJsonObject(){return{interval:(0,o.msToDuration)(this.intervalMs),base_ejection_time:(0,o.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,o.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new S(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;E(e,"interval");E(e,"base_ejection_time");E(e,"max_ejection_time");w(e,"max_ejection_percent");if("success_rate_ejection"in e){if(typeof e.success_rate_ejection!=="object"){throw new Error("outlier detection config success_rate_ejection must be an object")}_(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection");w(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection");_(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection");_(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!=="object"){throw new Error("outlier detection config failure_percentage_ejection must be an object")}w(e.failure_percentage_ejection,"threshold","failure_percentage_ejection");w(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection");_(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection");_(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new S(e.interval?(0,o.durationToMs)(e.interval):null,e.base_ejection_time?(0,o.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,o.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(c.validateLoadBalancingConfig))}}t.OutlierDetectionLoadBalancingConfig=S;class T extends f.BaseSubchannelWrapper{constructor(e,t){super(e);this.mapEntry=t;this.stateListeners=[];this.ejected=false;this.refCount=0;this.childSubchannelState=e.getConnectivityState();e.addConnectivityStateListener((e,t,n,r)=>{this.childSubchannelState=n;if(!this.ejected){for(const e of this.stateListeners){e(this,t,n,r)}}})}getConnectivityState(){if(this.ejected){return i.ConnectivityState.TRANSIENT_FAILURE}else{return this.childSubchannelState}}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){const t=this.stateListeners.indexOf(e);if(t>-1){this.stateListeners.splice(t,1)}}ref(){this.child.ref();this.refCount+=1}unref(){this.child.unref();this.refCount-=1;if(this.refCount<=0){if(this.mapEntry){const e=this.mapEntry.subchannelWrappers.indexOf(this);if(e>=0){this.mapEntry.subchannelWrappers.splice(e,1)}}}}eject(){this.ejected=true;for(const e of this.stateListeners){e(this,this.childSubchannelState,i.ConnectivityState.TRANSIENT_FAILURE,-1)}}uneject(){this.ejected=false;for(const e of this.stateListeners){e(this,i.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function C(){return{success:0,failure:0}}class R{constructor(){this.activeBucket=C();this.inactiveBucket=C()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket;this.activeBucket=C()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class I{constructor(e,t){this.wrappedPicker=e;this.countCalls=t}pick(e){const t=this.wrappedPicker.pick(e);if(t.pickResultType===l.PickResultType.COMPLETE){const e=t.subchannel;const n=e.getMapEntry();if(n){let r=t.onCallEnded;if(this.countCalls){r=e=>{var r;if(e===s.Status.OK){n.counter.addSuccess()}else{n.counter.addFailure()}(r=t.onCallEnded)===null||r===void 0?void 0:r.call(t,e)}}return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:r})}else{return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()})}}else{return t}}}class O{constructor(e){this.addressMap=new Map;this.latestConfig=null;this.timerStartTime=null;this.childBalancer=new u.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,n)=>{const r=e.createSubchannel(t,n);const i=this.addressMap.get((0,d.subchannelAddressToString)(t));const s=new T(r,i);if((i===null||i===void 0?void 0:i.currentEjectionTimestamp)!==null){s.eject()}i===null||i===void 0?void 0:i.subchannelWrappers.push(s);return s},updateState:(t,n)=>{if(t===i.ConnectivityState.READY){e.updateState(t,new I(n,this.isCountingEnabled()))}else{e.updateState(t,n)}}}));this.ejectionTimer=setInterval(()=>{},0);clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(const t of this.addressMap.values()){if(t.currentEjectionTimestamp!==null){e+=1}}return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig){return}const t=this.latestConfig.getSuccessRateEjectionConfig();if(!t){return}m("Running success rate check");const n=t.request_volume;let r=0;const i=[];for(const[e,t]of this.addressMap){const s=t.counter.getLastSuccesses();const o=t.counter.getLastFailures();m("Stats for "+e+": successes="+s+" failures="+o+" targetRequestVolume="+n);if(s+o>=n){r+=1;i.push(s/(s+o))}}m("Found "+r+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]");if(r<t.minimum_hosts){return}const s=i.reduce((e,t)=>e+t)/i.length;let o=0;for(const e of i){const t=e-s;o+=t*t}const a=o/i.length;const c=Math.sqrt(a);const u=s-c*(t.stdev_factor/1e3);m("stdev="+c+" ejectionThreshold="+u);for(const[r,i]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent()){break}const s=i.counter.getLastSuccesses();const o=i.counter.getLastFailures();if(s+o<n){continue}const a=s/(s+o);m("Checking candidate "+r+" successRate="+a);if(a<u){const n=Math.random()*100;m("Candidate "+r+" randomNumber="+n+" enforcement_percentage="+t.enforcement_percentage);if(n<t.enforcement_percentage){m("Ejecting candidate "+r);this.eject(i,e)}}}}runFailurePercentageCheck(e){if(!this.latestConfig){return}const t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t){return}m("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let n=0;for(const e of this.addressMap.values()){const r=e.counter.getLastSuccesses();const i=e.counter.getLastFailures();if(r+i>=t.request_volume){n+=1}}if(n<t.minimum_hosts){return}for(const[n,r]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent()){break}const i=r.counter.getLastSuccesses();const s=r.counter.getLastFailures();m("Candidate successes="+i+" failures="+s);if(i+s<t.request_volume){continue}const o=s*100/(s+i);if(o>t.threshold){const i=Math.random()*100;m("Candidate "+n+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage);if(i<t.enforcement_percentage){m("Ejecting candidate "+n);this.eject(r,e)}}}}eject(e,t){e.currentEjectionTimestamp=new Date;e.ejectionTimeMultiplier+=1;for(const t of e.subchannelWrappers){t.eject()}}uneject(e){e.currentEjectionTimestamp=null;for(const t of e.subchannelWrappers){t.uneject()}}switchAllBuckets(){for(const e of this.addressMap.values()){e.counter.switchBuckets()}}startTimer(e){var t,n;this.ejectionTimer=setTimeout(()=>this.runChecks(),e);(n=(t=this.ejectionTimer).unref)===null||n===void 0?void 0:n.call(t)}runChecks(){const e=new Date;m("Ejection timer running");this.switchAllBuckets();if(!this.latestConfig){return}this.timerStartTime=e;this.startTimer(this.latestConfig.getIntervalMs());this.runSuccessRateCheck(e);this.runFailurePercentageCheck(e);for(const[e,t]of this.addressMap.entries()){if(t.currentEjectionTimestamp===null){if(t.ejectionTimeMultiplier>0){t.ejectionTimeMultiplier-=1}}else{const n=this.latestConfig.getBaseEjectionTimeMs();const r=this.latestConfig.getMaxEjectionTimeMs();const i=new Date(t.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(n*t.ejectionTimeMultiplier,Math.max(n,r)));if(i<new Date){m("Unejecting "+e);this.uneject(t)}}}}updateAddressList(e,t,n){if(!(t instanceof S)){return}const r=new Set;for(const t of e){r.add((0,d.subchannelAddressToString)(t))}for(const e of r){if(!this.addressMap.has(e)){m("Adding map entry for "+e);this.addressMap.set(e,{counter:new R,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]})}}for(const e of this.addressMap.keys()){if(!r.has(e)){m("Removing map entry for "+e);this.addressMap.delete(e)}}const i=(0,c.getFirstUsableConfig)(t.getChildPolicy(),true);this.childBalancer.updateAddressList(e,i,n);if(t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig()){if(this.timerStartTime){m("Previous timer existed. Replacing timer");clearTimeout(this.ejectionTimer);const e=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(e)}else{m("Starting new timer");this.timerStartTime=new Date;this.startTimer(t.getIntervalMs());this.switchAllBuckets()}}else{m("Counting disabled. Cancelling timer.");this.timerStartTime=null;clearTimeout(this.ejectionTimer);for(const e of this.addressMap.values()){this.uneject(e);e.ejectionTimeMultiplier=0}}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer);this.childBalancer.destroy()}getTypeName(){return g}}t.OutlierDetectionLoadBalancer=O;function A(){if(y){(0,a.registerLoadBalancerType)(g,O,S)}}t.setup=A},4231:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=void 0;const r=n(91645);const i=n(93122);const s=n(99978);const o=n(98605);const a=n(57213);const c=n(63038);const u="ip_resolver";function l(e){c.trace(i.LogVerbosity.DEBUG,u,e)}const d="ipv4";const f="ipv6";const h=443;class p{constructor(e,t,n){var o;this.listener=t;this.addresses=[];this.error=null;this.hasReturnedResult=false;l("Resolver constructed for target "+(0,a.uriToString)(e));const c=[];if(!(e.scheme===d||e.scheme===f)){this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new s.Metadata};return}const u=e.path.split(",");for(const t of u){const n=(0,a.splitHostPort)(t);if(n===null){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata};return}if(e.scheme===d&&!(0,r.isIPv4)(n.host)||e.scheme===f&&!(0,r.isIPv6)(n.host)){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata};return}c.push({host:n.host,port:(o=n.port)!==null&&o!==void 0?o:h})}this.addresses=c;l("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){if(!this.hasReturnedResult){this.hasReturnedResult=true;process.nextTick(()=>{if(this.error){this.listener.onError(this.error)}else{this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}})}}destroy(){this.hasReturnedResult=false}static getDefaultAuthority(e){return e.path.split(",")[0]}}function m(){(0,o.registerResolver)(d,p);(0,o.registerResolver)(f,p)}t.setup=m},4871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{IconKeys:function(){return i},ViewportMetaKeys:function(){return r}});const r={width:"width",height:"height",initialScale:"initial-scale",minimumScale:"minimum-scale",maximumScale:"maximum-scale",viewportFit:"viewport-fit",userScalable:"user-scalable",interactiveWidget:"interactive-widget"};const i=["icon","shortcut","apple","other"]},4976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ChildLoadBalancerHandler=void 0;const r=n(30598);const i=n(20920);const s="child_load_balancer_helper";class o{constructor(e){this.channelControlHelper=e;this.currentChild=null;this.pendingChild=null;this.latestConfig=null;this.ChildPolicyHelper=class{constructor(e){this.parent=e;this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var n;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING){return}(n=this.parent.currentChild)===null||n===void 0?void 0:n.destroy();this.parent.currentChild=this.parent.pendingChild;this.parent.pendingChild=null}else if(!this.calledByCurrentChild()){return}this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=(e=this.parent.pendingChild)!==null&&e!==void 0?e:this.parent.currentChild;if(this.child===t){this.parent.channelControlHelper.requestReresolution()}}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,n){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){const e=new this.ChildPolicyHelper(this);const n=(0,r.createLoadBalancer)(t,e);e.setChild(n);if(this.currentChild===null){this.currentChild=n;i=this.currentChild}else{if(this.pendingChild){this.pendingChild.destroy()}this.pendingChild=n;i=this.pendingChild}}else{if(this.pendingChild===null){i=this.currentChild}else{i=this.pendingChild}}this.latestConfig=t;i.updateAddressList(e,t,n)}exitIdle(){if(this.currentChild){this.currentChild.exitIdle();if(this.pendingChild){this.pendingChild.exitIdle()}}}resetBackoff(){if(this.currentChild){this.currentChild.resetBackoff();if(this.pendingChild){this.pendingChild.resetBackoff()}}}destroy(){if(this.currentChild){this.currentChild.destroy();this.currentChild=null}if(this.pendingChild){this.pendingChild.destroy();this.pendingChild=null}}getTypeName(){return s}}t.ChildLoadBalancerHandler=o},6255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"interopDefault",{enumerable:true,get:function(){return n}});function n(e){return e.default||e}},6601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=t.PickFirstLoadBalancer=t.shuffled=t.PickFirstLoadBalancingConfig=void 0;const r=n(30598);const i=n(20920);const s=n(70757);const o=n(63038);const a=n(93122);const c="pick_first";function u(e){o.trace(a.LogVerbosity.DEBUG,c,e)}const l="pick_first";const d=250;class f{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return l}toJsonObject(){return{[l]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&!(typeof e.shuffleAddressList==="boolean")){throw new Error("pick_first config field shuffleAddressList must be a boolean if provided")}return new f(e.shuffleAddressList===true)}}t.PickFirstLoadBalancingConfig=f;class h{constructor(e){this.subchannel=e}pick(e){return{pickResultType:s.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function p(e){const t=e.slice();for(let e=t.length-1;e>1;e--){const n=Math.floor(Math.random()*(e+1));const r=t[e];t[e]=t[n];t[n]=r}return t}t.shuffled=p;class m{constructor(e){this.channelControlHelper=e;this.children=[];this.currentState=i.ConnectivityState.IDLE;this.currentSubchannelIndex=0;this.currentPick=null;this.subchannelStateListener=(e,t,n,r,i)=>{this.onSubchannelStateUpdate(e,t,n,i)};this.triedAllSubchannels=false;this.stickyTransientFailureMode=false;this.requestedResolutionSinceLastUpdate=false;this.lastError=null;this.latestAddressList=null;this.connectionDelayTimeout=setTimeout(()=>{},0);clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){if(this.currentPick){this.updateState(i.ConnectivityState.READY,new h(this.currentPick))}else if(this.children.length===0){this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))}else{if(this.stickyTransientFailureMode){this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`}))}else{this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}}}requestReresolution(){this.requestedResolutionSinceLastUpdate=true;this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(!this.allChildrenHaveReportedTF()){return}if(!this.requestedResolutionSinceLastUpdate){this.requestReresolution()}if(this.stickyTransientFailureMode){return}this.stickyTransientFailureMode=true;for(const{subchannel:e}of this.children){e.startConnecting()}this.calculateAndReportNewState()}removeCurrentPick(){if(this.currentPick!==null){const e=this.currentPick;this.currentPick=null;e.unref();e.removeConnectivityStateListener(this.subchannelStateListener);this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,n,r){var s;if((s=this.currentPick)===null||s===void 0?void 0:s.realSubchannelEquals(e)){if(n!==i.ConnectivityState.READY){this.removeCurrentPick();this.calculateAndReportNewState();this.requestReresolution()}return}for(const[t,s]of this.children.entries()){if(e.realSubchannelEquals(s.subchannel)){if(n===i.ConnectivityState.READY){this.pickSubchannel(s.subchannel)}if(n===i.ConnectivityState.TRANSIENT_FAILURE){s.hasReportedTransientFailure=true;if(r){this.lastError=r}this.maybeEnterStickyTransientFailureMode();if(t===this.currentSubchannelIndex){this.startNextSubchannelConnecting(t+1)}}s.subchannel.startConnecting();return}}}startNextSubchannelConnecting(e){clearTimeout(this.connectionDelayTimeout);if(this.triedAllSubchannels){return}for(const[t,n]of this.children.entries()){if(t>=e){const e=n.subchannel.getConnectivityState();if(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.CONNECTING){this.startConnecting(t);return}}}this.triedAllSubchannels=true;this.maybeEnterStickyTransientFailureMode()}startConnecting(e){var t,n;clearTimeout(this.connectionDelayTimeout);this.currentSubchannelIndex=e;if(this.children[e].subchannel.getConnectivityState()===i.ConnectivityState.IDLE){u("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress());process.nextTick(()=>{var t;(t=this.children[e])===null||t===void 0?void 0:t.subchannel.startConnecting()})}this.connectionDelayTimeout=(n=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},d)).unref)===null||n===void 0?void 0:n.call(t)}pickSubchannel(e){if(this.currentPick&&e.realSubchannelEquals(this.currentPick)){return}u("Pick subchannel with address "+e.getAddress());this.stickyTransientFailureMode=false;if(this.currentPick!==null){this.currentPick.unref();this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef());this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)}this.currentPick=e;e.ref();this.channelControlHelper.addChannelzChild(e.getChannelzRef());this.resetSubchannelList();clearTimeout(this.connectionDelayTimeout);this.calculateAndReportNewState()}updateState(e,t){u(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]);this.currentState=e;this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.children){if(!(this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick))){e.subchannel.removeConnectivityStateListener(this.subchannelStateListener)}e.subchannel.unref();this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef())}this.currentSubchannelIndex=0;this.children=[];this.triedAllSubchannels=false;this.requestedResolutionSinceLastUpdate=false}connectToAddressList(e){const t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:false}));for(const{subchannel:e}of t){e.ref();this.channelControlHelper.addChannelzChild(e.getChannelzRef())}this.resetSubchannelList();this.children=t;for(const{subchannel:e}of this.children){e.addConnectivityStateListener(this.subchannelStateListener);if(e.getConnectivityState()===i.ConnectivityState.READY){this.pickSubchannel(e);return}}for(const e of this.children){if(e.subchannel.getConnectivityState()===i.ConnectivityState.TRANSIENT_FAILURE){e.hasReportedTransientFailure=true}}this.startNextSubchannelConnecting(0);this.calculateAndReportNewState()}updateAddressList(e,t){if(!(t instanceof f)){return}if(t.getShuffleAddressList()){e=p(e)}this.latestAddressList=e;this.connectToAddressList(e)}exitIdle(){if(this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList){this.connectToAddressList(this.latestAddressList)}}resetBackoff(){}destroy(){this.resetSubchannelList();this.removeCurrentPick()}getTypeName(){return l}}t.PickFirstLoadBalancer=m;function g(){(0,r.registerLoadBalancerType)(l,m,f);(0,r.registerDefaultLoadBalancerType)(l)}t.setup=g},7308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{formatServerError:function(){return o},getStackWithoutErrorMessage:function(){return s}});const r=["useDeferredValue","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useReducer","useRef","useState","useSyncExternalStore","useTransition","experimental_useOptimistic","useOptimistic"];function i(e,t){e.message=t;if(e.stack){const n=e.stack.split("\n");n[0]=t;e.stack=n.join("\n")}}function s(e){const t=e.stack;if(!t)return"";return t.replace(/^[^\n]*\n/,"")}function o(e){if(typeof(e==null?void 0:e.message)!=="string")return;if(e.message.includes("Class extends value undefined is not a constructor or null")){const t="This might be caused by a React Class Component being rendered in a Server Component, React Class Components only works in Client Components. Read more: https://nextjs.org/docs/messages/class-component-in-server-component";if(e.message.includes(t))return;i(e,`${e.message}

${t}`);return}if(e.message.includes("createContext is not a function")){i(e,'createContext only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/context-in-server-component');return}for(const t of r){const n=new RegExp(`\\b${t}\\b.*is not a function`);if(n.test(e.message)){i(e,`${t} only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/react-client-hook-in-server-component`);return}}}},7797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{StaticGenBailoutError:function(){return i},isStaticGenBailoutError:function(){return s}});const r="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=r}}function s(e){if(typeof e!=="object"||e===null||!("code"in e)){return false}return e.code===r}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},8670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ROOT_SEGMENT_KEY:function(){return o},convertSegmentPathToStaticExportFilename:function(){return l},encodeChildSegmentKey:function(){return a},encodeSegment:function(){return s}});const i=n(35499);function s(e){if(typeof e==="string"){if(e.startsWith(i.PAGE_SEGMENT_KEY)){return i.PAGE_SEGMENT_KEY}const t=e==="/_not-found"?"_not-found":u(e);return t}const t=e[0];const n=e[1];const r=e[2];const s=u(t);const o=u(n);const a="$"+r+"$"+s+"$"+o;return a}const o="";function a(e,t,n){const r=t==="children"?n:"@"+u(t)+"/"+n;return e+"/"+r}const c=/^[a-zA-Z0-9\-_@]+$/;function u(e){if(c.test(e)){return e}const t=btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return"!"+t}function l(e){return"__next"+e.replace(/\//g,".")+".txt"}},8681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{isRequestAPICallableInsideAfter:function(){return u},throwForSearchParamsAccessInUseCache:function(){return c},throwWithStaticGenerationBailoutError:function(){return o},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return a}});const i=n(7797);const s=n(3295);function o(e,t){throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:false,configurable:true})}function a(e,t){throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:false,configurable:true})}function c(e){throw Object.defineProperty(new Error(`Route ${e} used "searchParams" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "searchParams" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E634",enumerable:false,configurable:true})}function u(){const e=s.afterTaskAsyncStorage.getStore();return(e==null?void 0:e.rootTaskSpawnPhase)==="action"}},8704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return s},getAccessFallbackErrorTypeByStatus:function(){return c},getAccessFallbackHTTPStatus:function(){return a},isHTTPAccessFallbackError:function(){return o}});const r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401};const i=new Set(Object.values(r));const s="NEXT_HTTP_ERROR_FALLBACK";function o(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}const[t,n]=e.digest.split(";");return t===s&&i.has(Number(n))}function a(e){const t=e.digest.split(";")[1];return Number(t)}function c(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},8707:function(e,t,n){"use strict";var r=t;r.asPromise=n(75108);r.base64=n(35108);r.EventEmitter=n(84553);r.float=n(13127);r.inquire=n(89644);r.utf8=n(61996);r.pool=n(83273);r.LongBits=n(31156);r.isNode=Boolean(typeof global!=="undefined"&&global&&global.process&&global.process.versions&&global.process.versions.node);r.global=r.isNode&&global||typeof window!=="undefined"&&window||typeof self!=="undefined"&&self||this;r.emptyArray=Object.freeze?Object.freeze([]):[];r.emptyObject=Object.freeze?Object.freeze({}):{};r.isInteger=Number.isInteger||function e(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e};r.isString=function e(e){return typeof e==="string"||e instanceof String};r.isObject=function e(e){return e&&typeof e==="object"};r.isset=r.isSet=function e(e,t){var n=e[t];if(n!=null&&e.hasOwnProperty(t))return typeof n!=="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0;return false};r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}();r._Buffer_from=null;r._Buffer_allocUnsafe=null;r.newBuffer=function e(e){return typeof e==="number"?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):typeof Uint8Array==="undefined"?e:new Uint8Array(e)};r.Array=typeof Uint8Array!=="undefined"?Uint8Array:Array;r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long");r.key2Re=/^true|false|0|1$/;r.key32Re=/^-?(?:0|[1-9][0-9]*)$/;r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;r.longToHash=function e(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash};r.longFromHash=function e(e,t){var n=r.LongBits.fromHash(e);if(r.Long)return r.Long.fromBits(n.lo,n.hi,t);return n.toNumber(Boolean(t))};function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)if(e[r[i]]===undefined||!n)e[r[i]]=t[r[i]];return e}r.merge=i;r.lcFirst=function e(e){return e.charAt(0).toLowerCase()+e.substring(1)};function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}});if(Error.captureStackTrace)Error.captureStackTrace(this,t);else Object.defineProperty(this,"stack",{value:new Error().stack||""});if(n)i(this,n)}t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:true,enumerable:false,configurable:true},name:{get:function t(){return e},set:undefined,enumerable:false,configurable:true},toString:{value:function e(){return this.name+": "+this.message},writable:true,enumerable:false,configurable:true}});return t}r.newError=s;r.ProtocolError=s("ProtocolError");r.oneOfGetter=function e(e){var t={};for(var n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(t[e[n]]===1&&this[e[n]]!==undefined&&this[e[n]]!==null)return e[n]}};r.oneOfSetter=function e(e){return function(t){for(var n=0;n<e.length;++n)if(e[n]!==t)delete this[e[n]]}};r.toJSONOptions={longs:String,enums:String,bytes:String,json:true};r._configure=function(){var e=r.Buffer;if(!e){r._Buffer_from=r._Buffer_allocUnsafe=null;return}r._Buffer_from=e.from!==Uint8Array.from&&e.from||function t(t,n){return new e(t,n)};r._Buffer_allocUnsafe=e.allocUnsafe||function t(t){return new e(t)}}},8719:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{isRequestAPICallableInsideAfter:function(){return u},throwForSearchParamsAccessInUseCache:function(){return c},throwWithStaticGenerationBailoutError:function(){return o},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return a}});const i=n(80023);const s=n(3295);function o(e,t){throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:false,configurable:true})}function a(e,t){throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:false,configurable:true})}function c(e){throw Object.defineProperty(new Error(`Route ${e} used "searchParams" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "searchParams" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E634",enumerable:false,configurable:true})}function u(){const e=s.afterTaskAsyncStorage.getStore();return(e==null?void 0:e.rootTaskSpawnPhase)==="action"}},8730:(e,t,n)=>{"use strict";n.d(t,{DX:()=>a,TL:()=>o});var r=n(43210);var i=n(98599);var s=n(60687);function o(e){const t=c(e);const n=r.forwardRef((e,n)=>{const{children:i,...o}=e;const a=r.Children.toArray(i);const c=a.find(f);if(c){const e=c.props.children;const i=a.map(t=>{if(t===c){if(r.Children.count(e)>1)return r.Children.only(null);return r.isValidElement(e)?e.props.children:null}else{return t}});return(0,s.jsx)(t,{...o,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,s.jsx)(t,{...o,ref:n,children:i})});n.displayName=`${e}.Slot`;return n}var a=o("Slot");function c(e){const t=r.forwardRef((e,t)=>{const{children:n,...s}=e;if(r.isValidElement(n)){const e=p(n);const o=h(s,n.props);if(n.type!==r.Fragment){o.ref=t?(0,i.t)(t,e):e}return r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null});t.displayName=`${e}.SlotClone`;return t}var u=Symbol("radix.slottable");function l(e){const t=({children:e})=>{return jsx(Fragment2,{children:e})};t.displayName=`${e}.Slottable`;t.__radixId=u;return t}var d=null&&l("Slottable");function f(e){return r.isValidElement(e)&&typeof e.type==="function"&&"__radixId"in e.type&&e.type.__radixId===u}function h(e,t){const n={...t};for(const r in t){const i=e[r];const s=t[r];const o=/^on[A-Z]/.test(r);if(o){if(i&&s){n[r]=(...e)=>{const t=s(...e);i(...e);return t}}else if(i){n[r]=i}}else if(r==="style"){n[r]={...i,...s}}else if(r==="className"){n[r]=[i,s].filter(Boolean).join(" ")}}return{...e,...n}}function p(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get;let n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.ref}t=Object.getOwnPropertyDescriptor(e,"ref")?.get;n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.props.ref}return e.props.ref||e.ref}},8920:(e,t,n)=>{"use strict";e.exports=i;var r=n(8707);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function e(e){return this.$type.create(e)};i.encode=function e(e,t){return this.$type.encode(e,t)};i.encodeDelimited=function e(e,t){return this.$type.encodeDelimited(e,t)};i.decode=function e(e){return this.$type.decode(e)};i.decodeDelimited=function e(e){return this.$type.decodeDelimited(e)};i.verify=function e(e){return this.$type.verify(e)};i.fromObject=function e(e){return this.$type.fromObject(e)};i.toObject=function e(e,t){return this.$type.toObject(e,t)};i.prototype.toJSON=function e(){return this.$type.toObject(this,r.toJSONOptions)}},9034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"addLocale",{enumerable:true,get:function(){return s}});const r=n(47348);const i=n(2829);function s(e,t,n,s){if(!t||t===n)return e;const o=e.toLowerCase();if(!s){if((0,i.pathHasPrefix)(o,"/api"))return e;if((0,i.pathHasPrefix)(o,"/"+t.toLowerCase()))return e}return(0,r.addPathPrefix)(e,"/"+t)}},9221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createPrerenderSearchParamsForClientPage:function(){return g},createSearchParamsFromClient:function(){return h},createServerSearchParamsForMetadata:function(){return p},createServerSearchParamsForServerPage:function(){return m},makeErroringExoticSearchParamsForUseCache:function(){return S}});const i=n(83717);const s=n(54717);const o=n(63033);const a=n(75539);const c=n(18238);const u=n(14768);const l=n(84627);const d=n(8681);const f=n(52825);function h(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(t,n);default:}}return v(e,t)}const p=m;function m(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(t,n);default:}}return v(e,t)}function g(e){if(e.forceStatic){return Promise.resolve({})}const t=o.workUnitAsyncStorage.getStore();if(t&&t.type==="prerender"){return(0,c.makeHangingPromise)(t.renderSignal,"`searchParams`")}return Promise.resolve({})}function y(e,t){if(e.forceStatic){return Promise.resolve({})}if(t.type==="prerender"){return E(e.route,t)}return w(e,t)}function v(e,t){if(t.forceStatic){return Promise.resolve({})}else{if(false){}else{return T(e,t)}}}const b=new WeakMap;const _=new WeakMap;function E(e,t){const n=b.get(t);if(n){return n}const r=(0,c.makeHangingPromise)(t.renderSignal,"`searchParams`");const o=new Proxy(r,{get(n,o,a){if(Object.hasOwn(r,o)){return i.ReflectAdapter.get(n,o,a)}switch(o){case"then":{const e="`await searchParams`, `searchParams.then`, or similar";(0,s.annotateDynamicAccess)(e,t);return i.ReflectAdapter.get(n,o,a)}case"status":{const e="`use(searchParams)`, `searchParams.status`, or similar";(0,s.annotateDynamicAccess)(e,t);return i.ReflectAdapter.get(n,o,a)}default:{if(typeof o==="string"&&!l.wellKnownProperties.has(o)){const n=(0,l.describeStringPropertyAccess)("searchParams",o);const r=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}return i.ReflectAdapter.get(n,o,a)}}},has(n,r){if(typeof r==="string"){const n=(0,l.describeHasCheckingStringProperty)("searchParams",r);const i=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}return i.ReflectAdapter.has(n,r)},ownKeys(){const n="`{...searchParams}`, `Object.keys(searchParams)`, or similar";const r=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}});b.set(t,o);return o}function w(e,t){const n=b.get(e);if(n){return n}const r={};const o=Promise.resolve(r);const a=new Proxy(o,{get(n,r,a){if(Object.hasOwn(o,r)){return i.ReflectAdapter.get(n,r,a)}switch(r){case"then":{const n="`await searchParams`, `searchParams.then`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return}case"status":{const n="`use(searchParams)`, `searchParams.status`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return}default:{if(typeof r==="string"&&!l.wellKnownProperties.has(r)){const n=(0,l.describeStringPropertyAccess)("searchParams",r);if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}}return i.ReflectAdapter.get(n,r,a)}}},has(n,r){if(typeof r==="string"){const n=(0,l.describeHasCheckingStringProperty)("searchParams",r);if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return false}return i.ReflectAdapter.has(n,r)},ownKeys(){const n="`{...searchParams}`, `Object.keys(searchParams)`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}}});b.set(e,a);return a}function S(e){const t=_.get(e);if(t){return t}const n=Promise.resolve({});const r=new Proxy(n,{get(t,r,s){if(Object.hasOwn(n,r)){return i.ReflectAdapter.get(t,r,s)}if(typeof r==="string"&&(r==="then"||!l.wellKnownProperties.has(r))){(0,d.throwForSearchParamsAccessInUseCache)(e.route)}return i.ReflectAdapter.get(t,r,s)},has(t,n){if(typeof n==="string"&&(n==="then"||!l.wellKnownProperties.has(n))){(0,d.throwForSearchParamsAccessInUseCache)(e.route)}return i.ReflectAdapter.has(t,n)},ownKeys(){(0,d.throwForSearchParamsAccessInUseCache)(e.route)}});_.set(e,r);return r}function T(e,t){const n=b.get(e);if(n){return n}const r=Promise.resolve(e);b.set(e,r);Object.keys(e).forEach(n=>{if(!l.wellKnownProperties.has(n)){Object.defineProperty(r,n,{get(){const r=o.workUnitAsyncStorage.getStore();(0,s.trackDynamicDataInDynamicRender)(t,r);return e[n]},set(e){Object.defineProperty(r,n,{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true})}});return r}function C(e,t){const n=b.get(e);if(n){return n}const r=new Set;const a=[];let c=false;const u=new Proxy(e,{get(e,n,r){if(typeof n==="string"&&c){if(t.dynamicShouldError){const e=(0,l.describeStringPropertyAccess)("searchParams",n);(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}const e=o.workUnitAsyncStorage.getStore();(0,s.trackDynamicDataInDynamicRender)(t,e)}return i.ReflectAdapter.get(e,n,r)},has(e,n){if(typeof n==="string"){if(t.dynamicShouldError){const e=(0,l.describeHasCheckingStringProperty)("searchParams",n);(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}}return Reflect.has(e,n)},ownKeys(e){if(t.dynamicShouldError){const e="`{...searchParams}`, `Object.keys(searchParams)`, or similar";(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}return Reflect.ownKeys(e)}});const h=new Promise(t=>(0,f.scheduleImmediate)(()=>t(e)));h.then(()=>{c=true});Object.keys(e).forEach(e=>{if(l.wellKnownProperties.has(e)){a.push(e)}else{r.add(e);Object.defineProperty(h,e,{get(){return u[e]},set(t){Object.defineProperty(h,e,{value:t,writable:true,enumerable:true})},enumerable:true,configurable:true})}});const p=new Proxy(h,{get(e,n,s){if(n==="then"&&t.dynamicShouldError){const e="`searchParams.then`";(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}if(typeof n==="string"){if(!l.wellKnownProperties.has(n)&&(r.has(n)||Reflect.has(e,n)===false)){const e=(0,l.describeStringPropertyAccess)("searchParams",n);R(t.route,e)}}return i.ReflectAdapter.get(e,n,s)},set(e,t,n,i){if(typeof t==="string"){r.delete(t)}return Reflect.set(e,t,n,i)},has(e,n){if(typeof n==="string"){if(!l.wellKnownProperties.has(n)&&(r.has(n)||Reflect.has(e,n)===false)){const e=(0,l.describeHasCheckingStringProperty)("searchParams",n);R(t.route,e)}}return Reflect.has(e,n)},ownKeys(e){const n="`Object.keys(searchParams)` or similar";R(t.route,n,a);return Reflect.ownKeys(e)}});b.set(e,p);return p}function R(e,t,n){if(n&&n.length>0){O(e,t,n)}else{I(e,t)}const r=o.workUnitAsyncStorage.getStore();if(r&&r.type==="request"&&r.prerenderPhase===true){const e=r;(0,s.trackSynchronousRequestDataAccessInDev)(e)}}const I=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(A);const O=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(P);function A(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`searchParams\` should be awaited before using its properties. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E249",enumerable:false,configurable:true})}function P(e,t,n){const r=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${r}used ${t}. `+`\`searchParams\` should be awaited before using its properties. `+`The following properties were not available through enumeration `+`because they conflict with builtin or well-known property names: `+`${N(n)}. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E2",enumerable:false,configurable:true})}function N(e){switch(e.length){case 0:throw Object.defineProperty(new a.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:false,configurable:true});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let n=0;n<e.length-1;n++){t+=`\`${e[n]}\`, `}t+=`, and \`${e[e.length-1]}\``;return t}}}},9510:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var r=n(43210);var i=n(11273);var s=n(98599);var o=n(8730);var a=n(60687);function c(e){const t=e+"CollectionProvider";const[n,c]=(0,i.A)(t);const[u,l]=n(t,{collectionRef:{current:null},itemMap:new Map});const d=e=>{const{scope:t,children:n}=e;const i=r.useRef(null);const s=r.useRef(new Map).current;return(0,a.jsx)(u,{scope:t,itemMap:s,collectionRef:i,children:n})};d.displayName=t;const f=e+"CollectionSlot";const h=(0,o.TL)(f);const p=r.forwardRef((e,t)=>{const{scope:n,children:r}=e;const i=l(f,n);const o=(0,s.s)(t,i.collectionRef);return(0,a.jsx)(h,{ref:o,children:r})});p.displayName=f;const m=e+"CollectionItemSlot";const g="data-radix-collection-item";const y=(0,o.TL)(m);const v=r.forwardRef((e,t)=>{const{scope:n,children:i,...o}=e;const c=r.useRef(null);const u=(0,s.s)(t,c);const d=l(m,n);r.useEffect(()=>{d.itemMap.set(c,{ref:c,...o});return()=>void d.itemMap.delete(c)});return(0,a.jsx)(y,{...{[g]:""},ref:u,children:i})});v.displayName=m;function b(t){const n=l(e+"CollectionConsumer",t);const i=r.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${g}]`));const r=Array.from(n.itemMap.values());const i=r.sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return i},[n.collectionRef,n.itemMap]);return i}return[{Provider:d,Slot:p,ItemSlot:v},b,c]}var u=new WeakMap;var l=class e extends Map{#e;constructor(e){super(e);this.#e=[...super.keys()];u.set(this,true)}set(e,t){if(u.get(this)){if(this.has(e)){this.#e[this.#e.indexOf(e)]=e}else{this.#e.push(e)}}super.set(e,t);return this}insert(e,t,n){const r=this.has(t);const i=this.#e.length;const s=h(e);let o=s>=0?s:i+s;const a=o<0||o>=i?-1:o;if(a===this.size||r&&a===this.size-1||a===-1){this.set(t,n);return this}const c=this.size+(r?0:1);if(s<0){o++}const u=[...this.#e];let l;let d=false;for(let e=o;e<c;e++){if(o===e){let i=u[e];if(u[e]===t){i=u[e+1]}if(r){this.delete(t)}l=this.get(i);this.set(t,n)}else{if(!d&&u[e-1]===t){d=true}const n=u[d?e:e-1];const r=l;l=this.get(n);this.delete(n);this.set(n,r)}}return this}with(t,n,r){const i=new e(this);i.insert(t,n,r);return i}before(e){const t=this.#e.indexOf(e)-1;if(t<0){return void 0}return this.entryAt(t)}setBefore(e,t,n){const r=this.#e.indexOf(e);if(r===-1){return this}return this.insert(r,t,n)}after(e){let t=this.#e.indexOf(e);t=t===-1||t===this.size-1?-1:t+1;if(t===-1){return void 0}return this.entryAt(t)}setAfter(e,t,n){const r=this.#e.indexOf(e);if(r===-1){return this}return this.insert(r+1,t,n)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){this.#e=[];return super.clear()}delete(e){const t=super.delete(e);if(t){this.#e.splice(this.#e.indexOf(e),1)}return t}deleteAt(e){const t=this.keyAt(e);if(t!==void 0){return this.delete(t)}return false}at(e){const t=d(this.#e,e);if(t!==void 0){return this.get(t)}}entryAt(e){const t=d(this.#e,e);if(t!==void 0){return[t,this.get(t)]}}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return d(this.#e,e)}from(e,t){const n=this.indexOf(e);if(n===-1){return void 0}let r=n+t;if(r<0)r=0;if(r>=this.size)r=this.size-1;return this.at(r)}keyFrom(e,t){const n=this.indexOf(e);if(n===-1){return void 0}let r=n+t;if(r<0)r=0;if(r>=this.size)r=this.size-1;return this.keyAt(r)}find(e,t){let n=0;for(const r of this){if(Reflect.apply(e,t,[r,n,this])){return r}n++}return void 0}findIndex(e,t){let n=0;for(const r of this){if(Reflect.apply(e,t,[r,n,this])){return n}n++}return-1}filter(t,n){const r=[];let i=0;for(const e of this){if(Reflect.apply(t,n,[e,i,this])){r.push(e)}i++}return new e(r)}map(t,n){const r=[];let i=0;for(const e of this){r.push([e[0],Reflect.apply(t,n,[e,i,this])]);i++}return new e(r)}reduce(...e){const[t,n]=e;let r=0;let i=n??this.at(0);for(const n of this){if(r===0&&e.length===1){i=n}else{i=Reflect.apply(t,this,[i,n,r,this])}r++}return i}reduceRight(...e){const[t,n]=e;let r=n??this.at(-1);for(let n=this.size-1;n>=0;n--){const i=this.at(n);if(n===this.size-1&&e.length===1){r=i}else{r=Reflect.apply(t,this,[r,i,n,this])}}return r}toSorted(t){const n=[...this.entries()].sort(t);return new e(n)}toReversed(){const t=new e;for(let e=this.size-1;e>=0;e--){const n=this.keyAt(e);const r=this.get(n);t.set(n,r)}return t}toSpliced(...t){const n=[...this.entries()];n.splice(...t);return new e(n)}slice(t,n){const r=new e;let i=this.size-1;if(t===void 0){return r}if(t<0){t=t+this.size}if(n!==void 0&&n>0){i=n-1}for(let e=t;e<=i;e++){const t=this.keyAt(e);const n=this.get(t);r.set(t,n)}return r}every(e,t){let n=0;for(const r of this){if(!Reflect.apply(e,t,[r,n,this])){return false}n++}return true}some(e,t){let n=0;for(const r of this){if(Reflect.apply(e,t,[r,n,this])){return true}n++}return false}};function d(e,t){if("at"in Array.prototype){return Array.prototype.at.call(e,t)}const n=f(e,t);return n===-1?void 0:e[n]}function f(e,t){const n=e.length;const r=h(t);const i=r>=0?r:n+r;return i<0||i>=n?-1:i}function h(e){return e!==e||e===0?0:Math.trunc(e)}function p(e){const t=e+"CollectionProvider";const[n,r]=createContextScope2(t);const[i,s]=n(t,{collectionElement:null,collectionRef:{current:null},collectionRefObject:{current:null},itemMap:new l,setItemMap:()=>void 0});const o=({state:e,...t})=>{return e?jsx2(c,{...t,state:e}):jsx2(a,{...t})};o.displayName=t;const a=e=>{const t=_();return jsx2(c,{...e,state:t})};a.displayName=t+"Init";const c=e=>{const{scope:t,children:n,state:r}=e;const s=React2.useRef(null);const[o,a]=React2.useState(null);const c=useComposedRefs2(s,a);const[u,l]=r;React2.useEffect(()=>{if(!o)return;const e=v(()=>{});e.observe(o,{childList:true,subtree:true});return()=>{e.disconnect()}},[o]);return jsx2(i,{scope:t,itemMap:u,setItemMap:l,collectionRef:c,collectionRefObject:s,collectionElement:o,children:n})};c.displayName=t+"Impl";const u=e+"CollectionSlot";const d=createSlot2(u);const f=React2.forwardRef((e,t)=>{const{scope:n,children:r}=e;const i=s(u,n);const o=useComposedRefs2(t,i.collectionRef);return jsx2(d,{ref:o,children:r})});f.displayName=u;const h=e+"CollectionItemSlot";const p="data-radix-collection-item";const g=createSlot2(h);const b=React2.forwardRef((e,t)=>{const{scope:n,children:r,...i}=e;const o=React2.useRef(null);const[a,c]=React2.useState(null);const u=useComposedRefs2(t,o,c);const d=s(h,n);const{setItemMap:f}=d;const v=React2.useRef(i);if(!m(v.current,i)){v.current=i}const b=v.current;React2.useEffect(()=>{const e=b;f(t=>{if(!a){return t}if(!t.has(a)){t.set(a,{...e,element:a});return t.toSorted(y)}return t.set(a,{...e,element:a}).toSorted(y)});return()=>{f(e=>{if(!a||!e.has(a)){return e}e.delete(a);return new l(e)})}},[a,b,f]);return jsx2(g,{...{[p]:""},ref:u,children:r})});b.displayName=h;function _(){return React2.useState(new l)}function E(t){const{itemMap:n}=s(e+"CollectionConsumer",t);return n}const w={createCollectionScope:r,useCollection:E,useInitCollection:_};return[{Provider:o,Slot:f,ItemSlot:b},w]}function m(e,t){if(e===t)return true;if(typeof e!=="object"||typeof t!=="object")return false;if(e==null||t==null)return false;const n=Object.keys(e);const r=Object.keys(t);if(n.length!==r.length)return false;for(const r of n){if(!Object.prototype.hasOwnProperty.call(t,r))return false;if(e[r]!==t[r])return false}return true}function g(e,t){return!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function y(e,t){return!e[1].element||!t[1].element?0:g(e[1].element,t[1].element)?-1:1}function v(e){const t=new MutationObserver(t=>{for(const n of t){if(n.type==="childList"){e();return}}});return t}},9608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"bailoutToClientRendering",{enumerable:true,get:function(){return s}});const r=n(81208);const i=n(29294);function s(e){const t=i.workAsyncStorage.getStore();if(t==null?void 0:t.forceStatic)return;if(t==null?void 0:t.isStaticGeneration)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},9977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{ACTION_HEADER:function(){return i},FLIGHT_HEADERS:function(){return d},NEXT_DID_POSTPONE_HEADER:function(){return p},NEXT_HMR_REFRESH_HEADER:function(){return c},NEXT_IS_PRERENDER_HEADER:function(){return y},NEXT_REWRITTEN_PATH_HEADER:function(){return m},NEXT_REWRITTEN_QUERY_HEADER:function(){return g},NEXT_ROUTER_PREFETCH_HEADER:function(){return o},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return a},NEXT_ROUTER_STALE_TIME_HEADER:function(){return h},NEXT_ROUTER_STATE_TREE_HEADER:function(){return s},NEXT_RSC_UNION_QUERY:function(){return f},NEXT_URL:function(){return u},RSC_CONTENT_TYPE_HEADER:function(){return l},RSC_HEADER:function(){return r}});const r="RSC";const i="Next-Action";const s="Next-Router-State-Tree";const o="Next-Router-Prefetch";const a="Next-Router-Segment-Prefetch";const c="Next-HMR-Refresh";const u="Next-Url";const l="text/x-component";const d=[r,s,o,c,a];const f="_rsc";const h="x-nextjs-stale-time";const p="x-nextjs-postponed";const m="x-nextjs-rewritten-path";const g="x-nextjs-rewritten-query";const y="x-nextjs-prerender";if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},10449:(e,t,n)=>{"use strict";e.exports=n(94041).vendored.contexts.HooksClientContext},10561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getSubchannelPool=t.SubchannelPool=void 0;const r=n(18735);const i=n(32090);const s=n(98387);const o=n(57213);const a=n(96202);const c=1e4;class u{constructor(){this.pool=Object.create(null);this.cleanupTimer=null}unrefUnusedSubchannels(){let e=true;for(const t in this.pool){const n=this.pool[t];const r=n.filter(e=>!e.subchannel.unrefIfOneRef());if(r.length>0){e=false}this.pool[t]=r}if(e&&this.cleanupTimer!==null){clearInterval(this.cleanupTimer);this.cleanupTimer=null}}ensureCleanupTask(){var e,t;if(this.cleanupTimer===null){this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},c);(t=(e=this.cleanupTimer).unref)===null||t===void 0?void 0:t.call(e)}}getOrCreateSubchannel(e,t,n,c){this.ensureCleanupTask();const u=(0,o.uriToString)(e);if(u in this.pool){const e=this.pool[u];for(const i of e){if((0,s.subchannelAddressEqual)(t,i.subchannelAddress)&&(0,r.channelOptionsEqual)(n,i.channelArguments)&&c._equals(i.channelCredentials)){return i.subchannel}}}const l=new i.Subchannel(e,t,n,c,new a.Http2SubchannelConnector(e));if(!(u in this.pool)){this.pool[u]=[]}this.pool[u].push({subchannelAddress:t,channelArguments:n,channelCredentials:c,subchannel:l});l.ref();return l}}t.SubchannelPool=u;const l=new u;function d(e){if(e){return l}else{return new u}}t.getSubchannelPool=d},11264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{callServer:function(){return c},useServerActionDispatcher:function(){return a}});const i=n(43210);const s=n(59154);let o=null;function a(e){const t=(0,i.useCallback)(t=>{(0,i.startTransition)(()=>{e({...t,type:s.ACTION_SERVER_ACTION})})},[e]);o=t}async function c(e,t){const n=o;if(!n){throw Object.defineProperty(new Error("Invariant: missing action dispatcher."),"__NEXT_ERROR_CODE",{value:"E507",enumerable:false,configurable:true})}return new Promise((r,i)=>{n({actionId:e,actionArgs:t,resolve:r,reject:i})})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},11273:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,q:()=>s});var r=n(43210);var i=n(60687);function s(e,t){const n=r.createContext(t);const s=e=>{const{children:t,...s}=e;const o=r.useMemo(()=>s,Object.values(s));return(0,i.jsx)(n.Provider,{value:o,children:t})};s.displayName=e+"Provider";function o(i){const s=r.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,o]}function o(e,t=[]){let n=[];function s(t,s){const o=r.createContext(s);const a=n.length;n=[...n,s];const c=t=>{const{scope:n,children:s,...c}=t;const u=n?.[e]?.[a]||o;const l=r.useMemo(()=>c,Object.values(c));return(0,i.jsx)(u.Provider,{value:l,children:s})};c.displayName=t+"Provider";function u(n,i){const c=i?.[e]?.[a]||o;const u=r.useContext(c);if(u)return u;if(s!==void 0)return s;throw new Error(`\`${n}\` must be used within \`${t}\``)}return[c,u]}const c=()=>{const t=n.map(e=>{return r.createContext(e)});return function n(n){const i=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};c.scopeName=e;return[s,a(c,...t)]}function a(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function e(e){const i=n.reduce((t,{useScope:n,scopeName:r})=>{const i=n(e);const s=i[`__scope${r}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};n.scopeName=t.scopeName;return n}},11448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"findSourceMapURL",{enumerable:true,get:function(){return i}});const n=false||"";const r=""+n+"/__nextjs_source-map";const i=false?0:undefined;if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},11804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{AppLinksMeta:function(){return c},OpenGraphMetadata:function(){return s},TwitterMetadata:function(){return a}});const i=n(80407);function s({openGraph:e}){var t,n,r;if(!e){return null}let s;if("type"in e){const t=e.type;switch(t){case"website":s=[(0,i.Meta)({property:"og:type",content:"website"})];break;case"article":var o,a,c;s=[(0,i.Meta)({property:"og:type",content:"article"}),(0,i.Meta)({property:"article:published_time",content:(o=e.publishedTime)==null?void 0:o.toString()}),(0,i.Meta)({property:"article:modified_time",content:(a=e.modifiedTime)==null?void 0:a.toString()}),(0,i.Meta)({property:"article:expiration_time",content:(c=e.expirationTime)==null?void 0:c.toString()}),(0,i.MultiMeta)({propertyPrefix:"article:author",contents:e.authors}),(0,i.Meta)({property:"article:section",content:e.section}),(0,i.MultiMeta)({propertyPrefix:"article:tag",contents:e.tags})];break;case"book":s=[(0,i.Meta)({property:"og:type",content:"book"}),(0,i.Meta)({property:"book:isbn",content:e.isbn}),(0,i.Meta)({property:"book:release_date",content:e.releaseDate}),(0,i.MultiMeta)({propertyPrefix:"book:author",contents:e.authors}),(0,i.MultiMeta)({propertyPrefix:"book:tag",contents:e.tags})];break;case"profile":s=[(0,i.Meta)({property:"og:type",content:"profile"}),(0,i.Meta)({property:"profile:first_name",content:e.firstName}),(0,i.Meta)({property:"profile:last_name",content:e.lastName}),(0,i.Meta)({property:"profile:username",content:e.username}),(0,i.Meta)({property:"profile:gender",content:e.gender})];break;case"music.song":var u;s=[(0,i.Meta)({property:"og:type",content:"music.song"}),(0,i.Meta)({property:"music:duration",content:(u=e.duration)==null?void 0:u.toString()}),(0,i.MultiMeta)({propertyPrefix:"music:album",contents:e.albums}),(0,i.MultiMeta)({propertyPrefix:"music:musician",contents:e.musicians})];break;case"music.album":s=[(0,i.Meta)({property:"og:type",content:"music.album"}),(0,i.MultiMeta)({propertyPrefix:"music:song",contents:e.songs}),(0,i.MultiMeta)({propertyPrefix:"music:musician",contents:e.musicians}),(0,i.Meta)({property:"music:release_date",content:e.releaseDate})];break;case"music.playlist":s=[(0,i.Meta)({property:"og:type",content:"music.playlist"}),(0,i.MultiMeta)({propertyPrefix:"music:song",contents:e.songs}),(0,i.MultiMeta)({propertyPrefix:"music:creator",contents:e.creators})];break;case"music.radio_station":s=[(0,i.Meta)({property:"og:type",content:"music.radio_station"}),(0,i.MultiMeta)({propertyPrefix:"music:creator",contents:e.creators})];break;case"video.movie":s=[(0,i.Meta)({property:"og:type",content:"video.movie"}),(0,i.MultiMeta)({propertyPrefix:"video:actor",contents:e.actors}),(0,i.MultiMeta)({propertyPrefix:"video:director",contents:e.directors}),(0,i.MultiMeta)({propertyPrefix:"video:writer",contents:e.writers}),(0,i.Meta)({property:"video:duration",content:e.duration}),(0,i.Meta)({property:"video:release_date",content:e.releaseDate}),(0,i.MultiMeta)({propertyPrefix:"video:tag",contents:e.tags})];break;case"video.episode":s=[(0,i.Meta)({property:"og:type",content:"video.episode"}),(0,i.MultiMeta)({propertyPrefix:"video:actor",contents:e.actors}),(0,i.MultiMeta)({propertyPrefix:"video:director",contents:e.directors}),(0,i.MultiMeta)({propertyPrefix:"video:writer",contents:e.writers}),(0,i.Meta)({property:"video:duration",content:e.duration}),(0,i.Meta)({property:"video:release_date",content:e.releaseDate}),(0,i.MultiMeta)({propertyPrefix:"video:tag",contents:e.tags}),(0,i.Meta)({property:"video:series",content:e.series})];break;case"video.tv_show":s=[(0,i.Meta)({property:"og:type",content:"video.tv_show"})];break;case"video.other":s=[(0,i.Meta)({property:"og:type",content:"video.other"})];break;default:const n=t;throw Object.defineProperty(new Error(`Invalid OpenGraph type: ${n}`),"__NEXT_ERROR_CODE",{value:"E237",enumerable:false,configurable:true})}}return(0,i.MetaFilter)([(0,i.Meta)({property:"og:determiner",content:e.determiner}),(0,i.Meta)({property:"og:title",content:(t=e.title)==null?void 0:t.absolute}),(0,i.Meta)({property:"og:description",content:e.description}),(0,i.Meta)({property:"og:url",content:(n=e.url)==null?void 0:n.toString()}),(0,i.Meta)({property:"og:site_name",content:e.siteName}),(0,i.Meta)({property:"og:locale",content:e.locale}),(0,i.Meta)({property:"og:country_name",content:e.countryName}),(0,i.Meta)({property:"og:ttl",content:(r=e.ttl)==null?void 0:r.toString()}),(0,i.MultiMeta)({propertyPrefix:"og:image",contents:e.images}),(0,i.MultiMeta)({propertyPrefix:"og:video",contents:e.videos}),(0,i.MultiMeta)({propertyPrefix:"og:audio",contents:e.audio}),(0,i.MultiMeta)({propertyPrefix:"og:email",contents:e.emails}),(0,i.MultiMeta)({propertyPrefix:"og:phone_number",contents:e.phoneNumbers}),(0,i.MultiMeta)({propertyPrefix:"og:fax_number",contents:e.faxNumbers}),(0,i.MultiMeta)({propertyPrefix:"og:locale:alternate",contents:e.alternateLocale}),...s?s:[]])}function o({app:e,type:t}){var n,r;return[(0,i.Meta)({name:`twitter:app:name:${t}`,content:e.name}),(0,i.Meta)({name:`twitter:app:id:${t}`,content:e.id[t]}),(0,i.Meta)({name:`twitter:app:url:${t}`,content:(r=e.url)==null?void 0:(n=r[t])==null?void 0:n.toString()})]}function a({twitter:e}){var t;if(!e)return null;const{card:n}=e;return(0,i.MetaFilter)([(0,i.Meta)({name:"twitter:card",content:n}),(0,i.Meta)({name:"twitter:site",content:e.site}),(0,i.Meta)({name:"twitter:site:id",content:e.siteId}),(0,i.Meta)({name:"twitter:creator",content:e.creator}),(0,i.Meta)({name:"twitter:creator:id",content:e.creatorId}),(0,i.Meta)({name:"twitter:title",content:(t=e.title)==null?void 0:t.absolute}),(0,i.Meta)({name:"twitter:description",content:e.description}),(0,i.MultiMeta)({namePrefix:"twitter:image",contents:e.images}),...n==="player"?e.players.flatMap(e=>[(0,i.Meta)({name:"twitter:player",content:e.playerUrl.toString()}),(0,i.Meta)({name:"twitter:player:stream",content:e.streamUrl.toString()}),(0,i.Meta)({name:"twitter:player:width",content:e.width}),(0,i.Meta)({name:"twitter:player:height",content:e.height})]):[],...n==="app"?[o({app:e.app,type:"iphone"}),o({app:e.app,type:"ipad"}),o({app:e.app,type:"googleplay"})]:[]])}function c({appLinks:e}){if(!e)return null;return(0,i.MetaFilter)([(0,i.MultiMeta)({propertyPrefix:"al:ios",contents:e.ios}),(0,i.MultiMeta)({propertyPrefix:"al:iphone",contents:e.iphone}),(0,i.MultiMeta)({propertyPrefix:"al:ipad",contents:e.ipad}),(0,i.MultiMeta)({propertyPrefix:"al:android",contents:e.android}),(0,i.MultiMeta)({propertyPrefix:"al:windows_phone",contents:e.windows_phone}),(0,i.MultiMeta)({propertyPrefix:"al:windows",contents:e.windows}),(0,i.MultiMeta)({propertyPrefix:"al:windows_universal",contents:e.windows_universal}),(0,i.MultiMeta)({propertyPrefix:"al:web",contents:e.web})])}},11860:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(62688);const i=(0,r.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},11959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"normalizeLocalePath",{enumerable:true,get:function(){return r}});const n=new WeakMap;function r(e,t){if(!t)return{pathname:e};let r=n.get(t);if(!r){r=t.map(e=>e.toLowerCase());n.set(t,r)}let i;const s=e.split("/",2);if(!s[1])return{pathname:e};const o=s[1].toLowerCase();const a=r.indexOf(o);if(a<0)return{pathname:e};i=t[a];e=e.slice(i.length+1)||"/";return{pathname:e,detectedLocale:i}}},12089:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/Users/joaquin/gesticom_2.0/frontend/node_modules/next/dist/client/components/metadata/async-metadata.js")},12630:(e,t,n)=>{"use strict";e.exports=o;var r=n(64824);((o.prototype=Object.create(r.prototype)).constructor=o).className="OneOf";var i=n(73267),s=n(93107);function o(e,t,n,i){if(!Array.isArray(t)){n=t;t=undefined}r.call(this,e,n);if(!(t===undefined||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[];this.fieldsArray=[];this.comment=i}o.fromJSON=function e(e,t){return new o(e,t.oneof,t.options,t.comment)};o.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])};function a(e){if(e.parent){for(var t=0;t<e.fieldsArray.length;++t)if(!e.fieldsArray[t].parent)e.parent.add(e.fieldsArray[t])}}o.prototype.add=function e(e){if(!(e instanceof i))throw TypeError("field must be a Field");if(e.parent&&e.parent!==this.parent)e.parent.remove(e);this.oneof.push(e.name);this.fieldsArray.push(e);e.partOf=this;a(this);return this};o.prototype.remove=function e(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);this.fieldsArray.splice(t,1);t=this.oneof.indexOf(e.name);if(t>-1)this.oneof.splice(t,1);e.partOf=null;return this};o.prototype.onAdd=function e(e){r.prototype.onAdd.call(this,e);var t=this;for(var n=0;n<this.oneof.length;++n){var i=e.get(this.oneof[n]);if(i&&!i.partOf){i.partOf=t;t.fieldsArray.push(i)}}a(this)};o.prototype.onRemove=function e(e){for(var t=0,n;t<this.fieldsArray.length;++t)if((n=this.fieldsArray[t]).parent)n.parent.remove(n);r.prototype.onRemove.call(this,e)};Object.defineProperty(o.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1){return false}var e=this.fieldsArray[0];return e.options!=null&&e.options["proto3_optional"]===true}});o.d=function e(){var e=new Array(arguments.length),t=0;while(t<arguments.length)e[t]=arguments[t++];return function t(t,n){s.decorateType(t.constructor).add(new o(n,e));Object.defineProperty(t,n,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},12776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{handleHardNavError:function(){return o},useNavFailureHandler:function(){return a}});const i=n(43210);const s=n(57391);function o(e){if(e&&"undefined"!=="undefined"&&0&&0){}return false}function a(){if(false){}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},12907:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},13127:e=>{"use strict";e.exports=t(t);function t(e){if(typeof Float32Array!=="undefined")(function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=n[3]===128;function i(e,r,i){t[0]=e;r[i]=n[0];r[i+1]=n[1];r[i+2]=n[2];r[i+3]=n[3]}function s(e,r,i){t[0]=e;r[i]=n[3];r[i+1]=n[2];r[i+2]=n[1];r[i+3]=n[0]}e.writeFloatLE=r?i:s;e.writeFloatBE=r?s:i;function o(e,r){n[0]=e[r];n[1]=e[r+1];n[2]=e[r+2];n[3]=e[r+3];return t[0]}function a(e,r){n[3]=e[r];n[2]=e[r+1];n[1]=e[r+2];n[0]=e[r+3];return t[0]}e.readFloatLE=r?o:a;e.readFloatBE=r?a:o})();else(function(){function t(e,t,n,r){var i=t<0?1:0;if(i)t=-t;if(t===0)e(1/t>0?0:0x80000000,n,r);else if(isNaN(t))e(0x7fc00000,n,r);else if(t>34028234663852886e22)e((i<<31|0x7f800000)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2),o=Math.round(t*Math.pow(2,-s)*8388608)&8388607;e((i<<31|s+127<<23|o)>>>0,n,r)}}e.writeFloatLE=t.bind(null,n);e.writeFloatBE=t.bind(null,r);function o(e,t,n){var r=e(t,n),i=(r>>31)*2+1,s=r>>>23&255,o=r&8388607;return s===255?o?NaN:i*Infinity:s===0?i*1401298464324817e-60*o:i*Math.pow(2,s-150)*(o+8388608)}e.readFloatLE=o.bind(null,i);e.readFloatBE=o.bind(null,s)})();if(typeof Float64Array!=="undefined")(function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=n[7]===128;function i(e,r,i){t[0]=e;r[i]=n[0];r[i+1]=n[1];r[i+2]=n[2];r[i+3]=n[3];r[i+4]=n[4];r[i+5]=n[5];r[i+6]=n[6];r[i+7]=n[7]}function s(e,r,i){t[0]=e;r[i]=n[7];r[i+1]=n[6];r[i+2]=n[5];r[i+3]=n[4];r[i+4]=n[3];r[i+5]=n[2];r[i+6]=n[1];r[i+7]=n[0]}e.writeDoubleLE=r?i:s;e.writeDoubleBE=r?s:i;function o(e,r){n[0]=e[r];n[1]=e[r+1];n[2]=e[r+2];n[3]=e[r+3];n[4]=e[r+4];n[5]=e[r+5];n[6]=e[r+6];n[7]=e[r+7];return t[0]}function a(e,r){n[7]=e[r];n[6]=e[r+1];n[5]=e[r+2];n[4]=e[r+3];n[3]=e[r+4];n[2]=e[r+5];n[1]=e[r+6];n[0]=e[r+7];return t[0]}e.readDoubleLE=r?o:a;e.readDoubleBE=r?a:o})();else(function(){function t(e,t,n,r,i,s){var o=r<0?1:0;if(o)r=-r;if(r===0){e(0,i,s+t);e(1/r>0?0:0x80000000,i,s+n)}else if(isNaN(r)){e(0,i,s+t);e(0x7ff80000,i,s+n)}else if(r>17976931348623157e292){e(0,i,s+t);e((o<<31|0x7ff00000)>>>0,i,s+n)}else{var a;if(r<22250738585072014e-324){a=r/5e-324;e(a>>>0,i,s+t);e((o<<31|a/0x100000000)>>>0,i,s+n)}else{var c=Math.floor(Math.log(r)/Math.LN2);if(c===1024)c=1023;a=r*Math.pow(2,-c);e(a*0x10000000000000>>>0,i,s+t);e((o<<31|c+1023<<20|a*1048576&1048575)>>>0,i,s+n)}}}e.writeDoubleLE=t.bind(null,n,0,4);e.writeDoubleBE=t.bind(null,r,4,0);function o(e,t,n,r,i){var s=e(r,i+t),o=e(r,i+n);var a=(o>>31)*2+1,c=o>>>20&2047,u=0x100000000*(o&1048575)+s;return c===2047?u?NaN:a*Infinity:c===0?a*5e-324*u:a*Math.pow(2,c-1075)*(u+0x10000000000000)}e.readDoubleLE=o.bind(null,i,0,4);e.readDoubleBE=o.bind(null,s,4,0)})();return e}function n(e,t,n){t[n]=e&255;t[n+1]=e>>>8&255;t[n+2]=e>>>16&255;t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24;t[n+1]=e>>>16&255;t[n+2]=e>>>8&255;t[n+3]=e&255}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}},13495:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(43210);function i(e){const t=r.useRef(e);r.useEffect(()=>{t.current=e});return r.useMemo(()=>(...e)=>t.current?.(...e),[])}},13634:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>u});const r=[];var i;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["VERBOSE"]=1]="VERBOSE";e[e["INFO"]=2]="INFO";e[e["WARN"]=3]="WARN";e[e["ERROR"]=4]="ERROR";e[e["SILENT"]=5]="SILENT"})(i||(i={}));const s={"debug":i.DEBUG,"verbose":i.VERBOSE,"info":i.INFO,"warn":i.WARN,"error":i.ERROR,"silent":i.SILENT};const o=i.INFO;const a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"};const c=(e,t,...n)=>{if(t<e.logLevel){return}const r=new Date().toISOString();const i=a[t];if(i){console[i](`[${r}]  ${e.name}:`,...n)}else{throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)}};class u{constructor(e){this.name=e;this._logLevel=o;this._logHandler=c;this._userLogHandler=null;r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i)){throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``)}this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==="string"?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=="function"){throw new TypeError("Value assigned to `logHandler` must be a function")}this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e);this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e);this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e);this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e);this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e);this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function d(e,t){for(const n of r){let r=null;if(t&&t.level){r=s[t.level]}if(e===null){n.userLogHandler=null}else{n.userLogHandler=(t,n,...s)=>{const o=s.map(e=>{if(e==null){return null}else if(typeof e==="string"){return e}else if(typeof e==="number"||typeof e==="boolean"){return e.toString()}else if(e instanceof Error){return e.message}else{try{return JSON.stringify(e)}catch(e){return null}}}).filter(e=>e).join(" ");if(n>=(r??t.logLevel)){e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}}}},14077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"matchSegment",{enumerable:true,get:function(){return n}});const n=(e,t)=>{if(typeof e==="string"){if(typeof t==="string"){return e===t}return false}if(typeof t==="string"){return false}return e[0]===t[0]&&e[1]===t[1]};if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},14114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"IconsMetadata",{enumerable:true,get:function(){return a}});const r=n(37413);const i=n(80407);function s({icon:e}){const{url:t,rel:n="icon",...i}=e;return(0,r.jsx)("link",{rel:n,href:t.toString(),...i})}function o({rel:e,icon:t}){if(typeof t==="object"&&!(t instanceof URL)){if(!t.rel&&e)t.rel=e;return s({icon:t})}else{const n=t.toString();return(0,r.jsx)("link",{rel:e,href:n})}}function a({icons:e}){if(!e)return null;const t=e.shortcut;const n=e.icon;const r=e.apple;const a=e.other;return(0,i.MetaFilter)([t?t.map(e=>o({rel:"shortcut icon",icon:e})):null,n?n.map(e=>o({rel:"icon",icon:e})):null,r?r.map(e=>o({rel:"apple-touch-icon",icon:e})):null,a?a.map(e=>s({icon:e})):null])}},14163:(e,t,n)=>{"use strict";n.d(t,{hO:()=>u,sG:()=>c});var r=n(43210);var i=n(51215);var s=n(8730);var o=n(60687);var a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"];var c=a.reduce((e,t)=>{const n=(0,s.TL)(`Primitive.${t}`);const i=r.forwardRef((e,r)=>{const{asChild:i,...s}=e;const a=i?n:t;if(typeof window!=="undefined"){window[Symbol.for("radix-ui")]=true}return(0,o.jsx)(a,{...s,ref:r})});i.displayName=`Primitive.${t}`;return{...e,[t]:i}},{});function u(e,t){if(e)i.flushSync(()=>e.dispatchEvent(t))}var l=null&&c},14768:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:true,get:function(){return l}});const r=s(n(43210));function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=i(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set)){Object.defineProperty(r,o,a)}else{r[o]=e[o]}}}r.default=e;if(n){n.set(e,r)}return r}const o={current:null};const a=typeof r.cache==="function"?r.cache:e=>e;const c=false?0:console.warn;const u=a(e=>{try{c(o.current)}finally{o.current=null}});function l(e){return function t(...n){const r=e(...n);if(false){var i}else{c(r)}}}},14778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;const r=n(93122);const i=n(99978);const s=n(63038);const o="retrying_call";class a{constructor(e,t,n){this.maxTokens=e;this.tokenRatio=t;if(n){this.tokens=n.tokens*(e/n.maxTokens)}else{this.tokens=e}}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}t.RetryThrottler=a;class c{constructor(e,t){this.totalLimit=e;this.limitPerCall=t;this.totalAllocated=0;this.allocatedPerCall=new Map}allocate(e,t){var n;const r=(n=this.allocatedPerCall.get(t))!==null&&n!==void 0?n:0;if(this.limitPerCall-r<e||this.totalLimit-this.totalAllocated<e){return false}this.allocatedPerCall.set(t,r+e);this.totalAllocated+=e;return true}free(e,t){var n;if(this.totalAllocated<e){throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`)}this.totalAllocated-=e;const r=(n=this.allocatedPerCall.get(t))!==null&&n!==void 0?n:0;if(r<e){throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${r}`)}this.allocatedPerCall.set(t,r-e)}freeAll(e){var t;const n=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<n){throw new Error(`Invalid buffer allocation state: call ${e} allocated ${n} > total allocated ${this.totalAllocated}`)}this.totalAllocated-=n;this.allocatedPerCall.delete(e)}}t.MessageBufferTracker=c;const u="grpc-previous-rpc-attempts";class l{constructor(e,t,n,r,i,s,o,a,c){this.channel=e;this.callConfig=t;this.methodName=n;this.host=r;this.credentials=i;this.deadline=s;this.callNumber=o;this.bufferTracker=a;this.retryThrottler=c;this.listener=null;this.initialMetadata=null;this.underlyingCalls=[];this.writeBuffer=[];this.writeBufferOffset=0;this.readStarted=false;this.transparentRetryUsed=false;this.attempts=0;this.hedgingTimer=null;this.committedCallIndex=null;this.initialRetryBackoffSec=0;this.nextRetryBackoffSec=0;if(t.methodConfig.retryPolicy){this.state="RETRY";const e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1))}else if(t.methodConfig.hedgingPolicy){this.state="HEDGING"}else{this.state="TRANSPARENT_ONLY"}}getCallNumber(){return this.callNumber}trace(e){s.trace(r.LogVerbosity.DEBUG,o,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"');this.bufferTracker.freeAll(this.callNumber);this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length;this.writeBuffer=[];process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0?void 0:t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"');this.reportStatus({code:e,details:t,metadata:new i.Metadata});for(const{call:n}of this.underlyingCalls){n.cancelWithStatus(e,t)}}getPeer(){if(this.committedCallIndex!==null){return this.underlyingCalls[this.committedCallIndex].call.getPeer()}else{return"unknown"}}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:false}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED"){return}const e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){const e=this.getBufferEntry(t);if(e.allocated){this.bufferTracker.free(e.message.message.length,this.callNumber)}}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset);this.writeBufferOffset=e}commitCall(e){if(this.state==="COMMITTED"){return}if(this.underlyingCalls[e].state==="COMPLETED"){return}this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e);this.state="COMMITTED";this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++){if(t===e){continue}if(this.underlyingCalls[t].state==="COMPLETED"){continue}this.underlyingCalls[t].state="COMPLETED";this.underlyingCalls[t].call.cancelWithStatus(r.Status.CANCELLED,"Discarded in favor of other hedged attempt")}this.clearSentMessages()}commitCallWithMostMessages(){if(this.state==="COMMITTED"){return}let e=-1;let t=-1;for(const[n,r]of this.underlyingCalls.entries()){if(r.state==="ACTIVE"&&r.nextMessageToSend>e){e=r.nextMessageToSend;t=n}}if(t===-1){this.state="TRANSPARENT_ONLY"}else{this.commitCall(t)}}isStatusCodeInList(e,t){return e.some(e=>e===t||e.toString().toLowerCase()===r.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;const t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t){return 0}const n=Math.random()*this.nextRetryBackoffSec*1e3;const r=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,r);return n}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(false);return}const n=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(n.maxAttempts,5)){t(false);return}let r;if(e===null){r=this.getNextRetryBackoffMs()}else if(e<0){this.state="TRANSPARENT_ONLY";t(false);return}else{r=e;this.nextRetryBackoffSec=this.initialRetryBackoffSec}setTimeout(()=>{var e,n;if(this.state!=="RETRY"){t(false);return}if((n=(e=this.retryThrottler)===null||e===void 0?void 0:e.canRetryCall())!==null&&n!==void 0?n:true){t(true);this.attempts+=1;this.startNewAttempt()}},r)}countActiveCalls(){let e=0;for(const t of this.underlyingCalls){if((t===null||t===void 0?void 0:t.state)==="ACTIVE"){e+=1}}return e}handleProcessedStatus(e,t,n){var r,i,s;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t);this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((r=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&r!==void 0?r:[],e.code)){(i=this.retryThrottler)===null||i===void 0?void 0:i.addCallFailed();let r;if(n===null){r=0}else if(n<0){this.state="TRANSPARENT_ONLY";this.commitCall(t);this.reportStatus(e);return}else{r=n}setTimeout(()=>{this.maybeStartHedgingAttempt();if(this.countActiveCalls()===0){this.commitCall(t);this.reportStatus(e)}},r)}else{this.commitCall(t);this.reportStatus(e)}break;case"RETRY":if(this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)){(s=this.retryThrottler)===null||s===void 0?void 0:s.addCallFailed();this.maybeRetryCall(n,n=>{if(!n){this.commitCall(t);this.reportStatus(e)}})}else{this.commitCall(t);this.reportStatus(e)}break}}getPushback(e){const t=e.get("grpc-retry-pushback-ms");if(t.length===0){return null}try{return parseInt(t[0])}catch(e){return-1}}handleChildStatus(e,t){var n;if(this.underlyingCalls[t].state==="COMPLETED"){return}this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state);this.underlyingCalls[t].state="COMPLETED";if(e.code===r.Status.OK){(n=this.retryThrottler)===null||n===void 0?void 0:n.addCallSucceeded();this.commitCall(t);this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}const i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":if(this.transparentRetryUsed){this.handleProcessedStatus(e,t,i)}else{this.transparentRetryUsed=true;this.startNewAttempt()}break;case"DROP":this.commitCall(t);this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"){return}if(!this.callConfig.methodConfig.hedgingPolicy){return}const e=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(e.maxAttempts,5)){return}this.attempts+=1;this.startNewAttempt();this.maybeStartHedgingTimer()}maybeStartHedgingTimer(){var e,t,n;if(this.hedgingTimer){clearTimeout(this.hedgingTimer)}if(this.state!=="HEDGING"){return}if(!this.callConfig.methodConfig.hedgingPolicy){return}const r=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){return}const i=(e=r.hedgingDelay)!==null&&e!==void 0?e:"0s";const s=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},s*1e3);(n=(t=this.hedgingTimer).unref)===null||n===void 0?void 0:n.call(t)}startNewAttempt(){const e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);const t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});const n=this.attempts-1;const r=this.initialMetadata.clone();if(n>0){r.set(u,`${n}`)}let i=false;e.start(r,{onReceiveMetadata:r=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]");this.commitCall(t);i=true;if(n>0){r.set(u,`${n}`)}if(this.underlyingCalls[t].state==="ACTIVE"){this.listener.onReceiveMetadata(r)}},onReceiveMessage:n=>{this.trace("Received message from child ["+e.getCallNumber()+"]");this.commitCall(t);if(this.underlyingCalls[t].state==="ACTIVE"){this.listener.onReceiveMessage(n)}},onReceiveStatus:r=>{this.trace("Received status from child ["+e.getCallNumber()+"]");if(!i&&n>0){r.metadata.set(u,`${n}`)}this.handleChildStatus(r,t)}});this.sendNextChildMessage(t);if(this.readStarted){e.startRead()}}start(e,t){this.trace("start called");this.listener=t;this.initialMetadata=e;this.attempts+=1;this.startNewAttempt();this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,n;const r=this.underlyingCalls[e];const i=r.nextMessageToSend;(n=(t=this.getBufferEntry(i)).callback)===null||n===void 0?void 0:n.call(t);this.clearSentMessages();r.nextMessageToSend+=1;this.sendNextChildMessage(e)}sendNextChildMessage(e){const t=this.underlyingCalls[e];if(t.state==="COMPLETED"){return}if(this.getBufferEntry(t.nextMessageToSend)){const n=this.getBufferEntry(t.nextMessageToSend);switch(n.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},n.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1;t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var n;this.trace("write() called with message of length "+t.length);const r={message:t,flags:e.flags};const i=this.getNextBufferIndex();const s={entryType:"MESSAGE",message:r,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};this.writeBuffer.push(s);if(s.allocated){(n=e.callback)===null||n===void 0?void 0:n.call(e);for(const[e,n]of this.underlyingCalls.entries()){if(n.state==="ACTIVE"&&n.nextMessageToSend===i){n.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},t)}}}else{this.commitCallWithMostMessages();if(this.committedCallIndex===null){return}const n=this.underlyingCalls[this.committedCallIndex];s.callback=e.callback;if(n.state==="ACTIVE"&&n.nextMessageToSend===i){n.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}}startRead(){this.trace("startRead called");this.readStarted=true;for(const e of this.underlyingCalls){if((e===null||e===void 0?void 0:e.state)==="ACTIVE"){e.call.startRead()}}}halfClose(){this.trace("halfClose called");const e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:false});for(const t of this.underlyingCalls){if((t===null||t===void 0?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e){t.nextMessageToSend+=1;t.call.halfClose()}}}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}t.RetryingCall=l},14823:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{AppRenderSpan:function(){return u},AppRouteRouteHandlersSpan:function(){return f},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return i},LogSpanAllowList:function(){return g},MiddlewareSpan:function(){return p},NextNodeServerSpan:function(){return o},NextServerSpan:function(){return s},NextVanillaSpanAllowlist:function(){return m},NodeSpan:function(){return d},RenderSpan:function(){return c},ResolveMetadataSpan:function(){return h},RouterSpan:function(){return l},StartServerSpan:function(){return a}});var r=function(e){e["handleRequest"]="BaseServer.handleRequest";e["run"]="BaseServer.run";e["pipe"]="BaseServer.pipe";e["getStaticHTML"]="BaseServer.getStaticHTML";e["render"]="BaseServer.render";e["renderToResponseWithComponents"]="BaseServer.renderToResponseWithComponents";e["renderToResponse"]="BaseServer.renderToResponse";e["renderToHTML"]="BaseServer.renderToHTML";e["renderError"]="BaseServer.renderError";e["renderErrorToResponse"]="BaseServer.renderErrorToResponse";e["renderErrorToHTML"]="BaseServer.renderErrorToHTML";e["render404"]="BaseServer.render404";return e}(r||{});var i=function(e){e["loadDefaultErrorComponents"]="LoadComponents.loadDefaultErrorComponents";e["loadComponents"]="LoadComponents.loadComponents";return e}(i||{});var s=function(e){e["getRequestHandler"]="NextServer.getRequestHandler";e["getServer"]="NextServer.getServer";e["getServerRequestHandler"]="NextServer.getServerRequestHandler";e["createServer"]="createServer.createServer";return e}(s||{});var o=function(e){e["compression"]="NextNodeServer.compression";e["getBuildId"]="NextNodeServer.getBuildId";e["createComponentTree"]="NextNodeServer.createComponentTree";e["clientComponentLoading"]="NextNodeServer.clientComponentLoading";e["getLayoutOrPageModule"]="NextNodeServer.getLayoutOrPageModule";e["generateStaticRoutes"]="NextNodeServer.generateStaticRoutes";e["generateFsStaticRoutes"]="NextNodeServer.generateFsStaticRoutes";e["generatePublicRoutes"]="NextNodeServer.generatePublicRoutes";e["generateImageRoutes"]="NextNodeServer.generateImageRoutes.route";e["sendRenderResult"]="NextNodeServer.sendRenderResult";e["proxyRequest"]="NextNodeServer.proxyRequest";e["runApi"]="NextNodeServer.runApi";e["render"]="NextNodeServer.render";e["renderHTML"]="NextNodeServer.renderHTML";e["imageOptimizer"]="NextNodeServer.imageOptimizer";e["getPagePath"]="NextNodeServer.getPagePath";e["getRoutesManifest"]="NextNodeServer.getRoutesManifest";e["findPageComponents"]="NextNodeServer.findPageComponents";e["getFontManifest"]="NextNodeServer.getFontManifest";e["getServerComponentManifest"]="NextNodeServer.getServerComponentManifest";e["getRequestHandler"]="NextNodeServer.getRequestHandler";e["renderToHTML"]="NextNodeServer.renderToHTML";e["renderError"]="NextNodeServer.renderError";e["renderErrorToHTML"]="NextNodeServer.renderErrorToHTML";e["render404"]="NextNodeServer.render404";e["startResponse"]="NextNodeServer.startResponse";e["route"]="route";e["onProxyReq"]="onProxyReq";e["apiResolver"]="apiResolver";e["internalFetch"]="internalFetch";return e}(o||{});var a=function(e){e["startServer"]="startServer.startServer";return e}(a||{});var c=function(e){e["getServerSideProps"]="Render.getServerSideProps";e["getStaticProps"]="Render.getStaticProps";e["renderToString"]="Render.renderToString";e["renderDocument"]="Render.renderDocument";e["createBodyResult"]="Render.createBodyResult";return e}(c||{});var u=function(e){e["renderToString"]="AppRender.renderToString";e["renderToReadableStream"]="AppRender.renderToReadableStream";e["getBodyResult"]="AppRender.getBodyResult";e["fetch"]="AppRender.fetch";return e}(u||{});var l=function(e){e["executeRoute"]="Router.executeRoute";return e}(l||{});var d=function(e){e["runHandler"]="Node.runHandler";return e}(d||{});var f=function(e){e["runHandler"]="AppRouteRouteHandlers.runHandler";return e}(f||{});var h=function(e){e["generateMetadata"]="ResolveMetadata.generateMetadata";e["generateViewport"]="ResolveMetadata.generateViewport";return e}(h||{});var p=function(e){e["execute"]="Middleware.execute";return e}(p||{});const m=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"];const g=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},15048:(e,t,n)=>{"use strict";n.d(t,{MF:()=>eI,j6:()=>eg,xZ:()=>e_,om:()=>em,Sx:()=>eP,Dk:()=>eN,Wp:()=>eO,KO:()=>eD});var r=n(89495);var i=n(13634);var s=n(52122);const o=(e,t)=>t.some(t=>e instanceof t);let a;let c;function u(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d=new WeakMap;const f=new WeakMap;const h=new WeakMap;const p=new WeakMap;const m=new WeakMap;function g(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i);e.removeEventListener("error",s)};const i=()=>{t(w(e.result));r()};const s=()=>{n(e.error);r()};e.addEventListener("success",i);e.addEventListener("error",s)});t.then(t=>{if(t instanceof IDBCursor){d.set(t,e)}}).catch(()=>{});m.set(t,e);return t}function y(e){if(f.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i);e.removeEventListener("error",s);e.removeEventListener("abort",s)};const i=()=>{t();r()};const s=()=>{n(e.error||new DOMException("AbortError","AbortError"));r()};e.addEventListener("complete",i);e.addEventListener("error",s);e.addEventListener("abort",s)});f.set(e,t)}let v={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return f.get(e);if(t==="objectStoreNames"){return e.objectStoreNames||h.get(e)}if(t==="store"){return n.objectStoreNames[1]?undefined:n.objectStore(n.objectStoreNames[0])}}return w(e[t])},set(e,t,n){e[t]=n;return true},has(e,t){if(e instanceof IDBTransaction&&(t==="done"||t==="store")){return true}return t in e}};function b(e){v=e(v)}function _(e){if(e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)){return function(t,...n){const r=e.call(S(this),t,...n);h.set(r,t.sort?t.sort():[t]);return w(r)}}if(l().includes(e)){return function(...t){e.apply(S(this),t);return w(d.get(this))}}return function(...t){return w(e.apply(S(this),t))}}function E(e){if(typeof e==="function")return _(e);if(e instanceof IDBTransaction)y(e);if(o(e,u()))return new Proxy(e,v);return e}function w(e){if(e instanceof IDBRequest)return g(e);if(p.has(e))return p.get(e);const t=E(e);if(t!==e){p.set(e,t);m.set(t,e)}return t}const S=e=>m.get(e);function T(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t);const a=w(o);if(r){o.addEventListener("upgradeneeded",e=>{r(w(o.result),e.oldVersion,e.newVersion,w(o.transaction),e)})}if(n){o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e))}a.then(e=>{if(s)e.addEventListener("close",()=>s());if(i){e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}}).catch(()=>{});return a}function C(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);if(t){n.addEventListener("blocked",e=>t(e.oldVersion,e))}return wrap(n).then(()=>undefined)}const R=["get","getKey","getAll","getAllKeys","count"];const I=["put","add","delete","clear"];const O=new Map;function A(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==="string")){return}if(O.get(t))return O.get(t);const n=t.replace(/FromIndex$/,"");const r=t!==n;const i=I.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R.includes(n))){return}const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;if(r)o=o.index(t.shift());return(await Promise.all([o[n](...t),i&&s.done]))[0]};O.set(t,s);return s}b(e=>({...e,get:(t,n,r)=>A(t,n)||e.get(t,n,r),has:(t,n)=>!!A(t,n)||e.has(t,n)}));class P{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if(N(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else{return null}}).filter(e=>e).join(" ")}}function N(e){const t=e.getComponent();return t?.type==="VERSION"}const x="@firebase/app";const D="0.14.5";const k=new i.Vy("@firebase/app");const M="@firebase/app-compat";const L="@firebase/analytics-compat";const j="@firebase/analytics";const F="@firebase/app-check-compat";const B="@firebase/app-check";const U="@firebase/auth";const V="@firebase/auth-compat";const z="@firebase/database";const q="@firebase/data-connect";const G="@firebase/database-compat";const $="@firebase/functions";const H="@firebase/functions-compat";const W="@firebase/installations";const K="@firebase/installations-compat";const Q="@firebase/messaging";const Y="@firebase/messaging-compat";const X="@firebase/performance";const J="@firebase/performance-compat";const Z="@firebase/remote-config";const ee="@firebase/remote-config-compat";const et="@firebase/storage";const en="@firebase/storage-compat";const er="@firebase/firestore";const ei="@firebase/ai";const es="@firebase/firestore-compat";const eo="firebase";const ea="12.5.0";const ec="[DEFAULT]";const eu={[x]:"fire-core",[M]:"fire-core-compat",[j]:"fire-analytics",[L]:"fire-analytics-compat",[B]:"fire-app-check",[F]:"fire-app-check-compat",[U]:"fire-auth",[V]:"fire-auth-compat",[z]:"fire-rtdb",[q]:"fire-data-connect",[G]:"fire-rtdb-compat",[$]:"fire-fn",[H]:"fire-fn-compat",[W]:"fire-iid",[K]:"fire-iid-compat",[Q]:"fire-fcm",[Y]:"fire-fcm-compat",[X]:"fire-perf",[J]:"fire-perf-compat",[Z]:"fire-rc",[ee]:"fire-rc-compat",[et]:"fire-gcs",[en]:"fire-gcs-compat",[er]:"fire-fst",[es]:"fire-fst-compat",[ei]:"fire-vertex","fire-js":"fire-js",[eo]:"fire-js-all"};const el=new Map;const ed=new Map;const ef=new Map;function eh(e,t){try{e.container.addComponent(t)}catch(n){k.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ep(e,t){e.container.addOrOverwriteComponent(t)}function em(e){const t=e.name;if(ef.has(t)){k.debug(`There were multiple attempts to register component ${t}.`);return false}ef.set(t,e);for(const t of el.values()){eh(t,e)}for(const t of ed.values()){eh(t,e)}return true}function eg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:true});if(n){void n.triggerHeartbeat()}return e.container.getProvider(t)}function ey(e,t,n=ec){eg(e,t).clearInstance(n)}function ev(e){return e.options!==undefined}function eb(e){if(ev(e)){return false}return"authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e}function e_(e){if(e===null||e===undefined){return false}return e.settings!==undefined}function eE(){ef.clear()}const ew={["no-app"]:"No Firebase App '{$appName}' has been created - "+"call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a "+"Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."};const eS=new s.FA("app","Firebase",ew);class eT{constructor(e,t,n){this._isDeleted=false;this._options={...e};this._config={...t};this._name=t.name;this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled;this._container=n;this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){this.checkDestroyed();return this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed();this._automaticDataCollectionEnabled=e}get name(){this.checkDestroyed();return this._name}get options(){this.checkDestroyed();return this._options}get config(){this.checkDestroyed();return this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted){throw eS.create("app-deleted",{appName:this._name})}}}function eC(e,t){const n=(0,s.u)(e.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);return}const r=JSON.parse(n).exp;if(r===undefined){console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3;const o=new Date().getTime();const a=i-o;if(a<=0){console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}}class eR extends eT{constructor(e,t,n,r){const i=t.automaticDataCollectionEnabled!==undefined?t.automaticDataCollectionEnabled:true;const s={name:n,automaticDataCollectionEnabled:i};if(e.apiKey!==undefined){super(e,s,r)}else{const t=e;super(t.options,s,r)}this._serverConfig={automaticDataCollectionEnabled:i,...t};if(this._serverConfig.authIdToken){eC(this._serverConfig.authIdToken,"authIdToken")}if(this._serverConfig.appCheckToken){eC(this._serverConfig.appCheckToken,"appCheckToken")}this._finalizationRegistry=null;if(typeof FinalizationRegistry!=="undefined"){this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})}this._refCount=0;this.incRefCount(this._serverConfig.releaseOnDeref);this._serverConfig.releaseOnDeref=undefined;t.releaseOnDeref=undefined;eD(x,D,"serverapp")}toJSON(){return undefined}get refCount(){return this._refCount}incRefCount(e){if(this.isDeleted){return}this._refCount++;if(e!==undefined&&this._finalizationRegistry!==null){this._finalizationRegistry.register(e,this)}}decRefCount(){if(this.isDeleted){return 0}return--this._refCount}automaticCleanup(){void ex(this)}get settings(){this.checkDestroyed();return this._serverConfig}checkDestroyed(){if(this.isDeleted){throw eS.create("server-app-deleted")}}}const eI=ea;function eO(e,t={}){let n=e;if(typeof t!=="object"){const e=t;t={name:e}}const i={name:ec,automaticDataCollectionEnabled:true,...t};const o=i.name;if(typeof o!=="string"||!o){throw eS.create("bad-app-name",{appName:String(o)})}n||(n=(0,s.T9)());if(!n){throw eS.create("no-options")}const a=el.get(o);if(a){if((0,s.bD)(n,a.options)&&(0,s.bD)(i,a.config)){return a}else{throw eS.create("duplicate-app",{appName:o})}}const c=new r.h1(o);for(const e of ef.values()){c.addComponent(e)}const u=new eT(n,i,c);el.set(o,u);return u}function eA(e,t={}){if(isBrowser()&&!isWebWorker()){throw eS.create("invalid-server-app-environment")}let n;let r=t||{};if(e){if(ev(e)){n=e.options}else if(eb(e)){r=e}else{n=e}}if(r.automaticDataCollectionEnabled===undefined){r.automaticDataCollectionEnabled=true}n||(n=getDefaultAppConfig());if(!n){throw eS.create("no-options")}const i={...r,...n};if(i.releaseOnDeref!==undefined){delete i.releaseOnDeref}const s=e=>{return[...e].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0)};if(r.releaseOnDeref!==undefined){if(typeof FinalizationRegistry==="undefined"){throw eS.create("finalization-registry-not-supported",{})}}const o=""+s(JSON.stringify(i));const a=ed.get(o);if(a){a.incRefCount(r.releaseOnDeref);return a}const c=new ComponentContainer(o);for(const e of ef.values()){c.addComponent(e)}const u=new eR(n,r,o,c);ed.set(o,u);return u}function eP(e=ec){const t=el.get(e);if(!t&&e===ec&&(0,s.T9)()){return eO()}if(!t){throw eS.create("no-app",{appName:e})}return t}function eN(){return Array.from(el.values())}async function ex(e){let t=false;const n=e.name;if(el.has(n)){t=true;el.delete(n)}else if(ed.has(n)){const r=e;if(r.decRefCount()<=0){ed.delete(n);t=true}}if(t){await Promise.all(e.container.getProviders().map(e=>e.delete()));e.isDeleted=true}}function eD(e,t,n){let i=eu[e]??e;if(n){i+=`-${n}`}const s=i.match(/\s|\//);const o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];if(s){e.push(`library name "${i}" contains illegal characters (whitespace or "/")`)}if(s&&o){e.push("and")}if(o){e.push(`version name "${t}" contains illegal characters (whitespace or "/")`)}k.warn(e.join(" "));return}em(new r.uA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function ek(e,t){if(e!==null&&typeof e!=="function"){throw eS.create("invalid-log-argument")}setUserLogHandler(e,t)}function eM(e){setLogLevel$1(e)}const eL="firebase-heartbeat-database";const ej=1;const eF="firebase-heartbeat-store";let eB=null;function eU(){if(!eB){eB=T(eL,ej,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(eF)}catch(e){console.warn(e)}}}}).catch(e=>{throw eS.create("idb-open",{originalErrorMessage:e.message})})}return eB}async function eV(e){try{const t=await eU();const n=t.transaction(eF);const r=await n.objectStore(eF).get(eq(e));await n.done;return r}catch(e){if(e instanceof s.g){k.warn(e.message)}else{const t=eS.create("idb-get",{originalErrorMessage:e?.message});k.warn(t.message)}}}async function ez(e,t){try{const n=await eU();const r=n.transaction(eF,"readwrite");const i=r.objectStore(eF);await i.put(t,eq(e));await r.done}catch(e){if(e instanceof s.g){k.warn(e.message)}else{const t=eS.create("idb-set",{originalErrorMessage:e?.message});k.warn(t.message)}}}function eq(e){return`${e.name}!${e.options.appId}`}const eG=1024;const e$=30;class eH{constructor(e){this.container=e;this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eQ(t);this._heartbeatsCachePromise=this._storage.read().then(e=>{this._heartbeatsCache=e;return e})}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate();const t=e.getPlatformInfoString();const n=eW();if(this._heartbeatsCache?.heartbeats==null){this._heartbeatsCache=await this._heartbeatsCachePromise;if(this._heartbeatsCache?.heartbeats==null){return}}if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n)){return}else{this._heartbeatsCache.heartbeats.push({date:n,agent:t});if(this._heartbeatsCache.heartbeats.length>e$){const e=eX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}}return this._storage.overwrite(this._heartbeatsCache)}catch(e){k.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null){await this._heartbeatsCachePromise}if(this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0){return""}const e=eW();const{heartbeatsToSend:t,unsentEntries:n}=eK(this._heartbeatsCache.heartbeats);const r=(0,s.Uj)(JSON.stringify({version:2,heartbeats:t}));this._heartbeatsCache.lastSentHeartbeatDate=e;if(n.length>0){this._heartbeatsCache.heartbeats=n;await this._storage.overwrite(this._heartbeatsCache)}else{this._heartbeatsCache.heartbeats=[];void this._storage.overwrite(this._heartbeatsCache)}return r}catch(e){k.warn(e);return""}}}function eW(){const e=new Date;return e.toISOString().substring(0,10)}function eK(e,t=eG){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(!e){n.push({agent:i.agent,dates:[i.date]});if(eY(n)>t){n.pop();break}}else{e.dates.push(i.date);if(eY(n)>t){e.dates.pop();break}}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eQ{constructor(e){this.app=e;this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!(0,s.zW)()){return false}else{return(0,s.eX)().then(()=>true).catch(()=>false)}}async read(){const e=await this._canUseIndexedDBPromise;if(!e){return{heartbeats:[]}}else{const e=await eV(this.app);if(e?.heartbeats){return e}else{return{heartbeats:[]}}}}async overwrite(e){const t=await this._canUseIndexedDBPromise;if(!t){return}else{const t=await this.read();return ez(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){const t=await this._canUseIndexedDBPromise;if(!t){return}else{const t=await this.read();return ez(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function eY(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}function eX(e){if(e.length===0){return-1}let t=0;let n=e[0].date;for(let r=1;r<e.length;r++){if(e[r].date<n){n=e[r].date;t=r}}return t}function eJ(e){em(new r.uA("platform-logger",e=>new P(e),"PRIVATE"));em(new r.uA("heartbeat",e=>new eH(e),"PRIVATE"));eD(x,D,e);eD(x,D,"esm2020");eD("fire-js","")}eJ("")},15102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{djb2Hash:function(){return r},hexHash:function(){return i}});function r(e){let t=5381;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)+t+r&0xffffffff}return t>>>0}function i(e){return r(e).toString(36).slice(0,5)}},16042:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/Users/joaquin/gesticom_2.0/frontend/node_modules/next/dist/client/components/client-segment.js")},16189:(e,t,n)=>{"use strict";var r=n(65773);var i=n.n(r);if(n.o(r,"useRouter"))n.d(t,{useRouter:function(){return r.useRouter}})},16444:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/Users/joaquin/gesticom_2.0/frontend/node_modules/next/dist/client/components/client-page.js")},16497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getNextCallNumber=void 0;let n=0;function r(){return n++}t.getNextCallNumber=r},16973:(e,t,n)=>{"use strict";e.exports=c;var r=n(32110),i=n(93107);function s(e,t){return e.name+": "+t+(e.repeated&&t!=="array"?"[]":e.map&&t!=="object"?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,n,i){if(t.resolvedType){if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",s(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),a=0;a<o.length;++a)e("case %i:",t.resolvedType.values[o[a]]);e("break")("}")}else{e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}")}}else{switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(t,"buffer"));break}}return e}function a(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",s(t,"boolean key"));break}return e}function c(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected");var n=e.oneofsArray,r={};if(n.length)t("var p={}");for(var c=0;c<e.fieldsArray.length;++c){var u=e._fieldsArray[c].resolve(),l="m"+i.safeProp(u.name);if(u.optional)t("if(%s!=null&&m.hasOwnProperty(%j)){",l,u.name);if(u.map){t("if(!util.isObject(%s))",l)("return%j",s(u,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){");a(t,u,"k[i]");o(t,u,c,l+"[k[i]]")("}")}else if(u.repeated){t("if(!Array.isArray(%s))",l)("return%j",s(u,"array"))("for(var i=0;i<%s.length;++i){",l);o(t,u,c,l+"[i]")("}")}else{if(u.partOf){var d=i.safeProp(u.partOf.name);if(r[u.partOf.name]===1)t("if(p%s===1)",d)("return%j",u.partOf.name+": multiple values");r[u.partOf.name]=1;t("p%s=1",d)}o(t,u,c,l)}if(u.optional)t("}")}return t("return null")}},17017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"addPathSuffix",{enumerable:true,get:function(){return i}});const r=n(18631);function i(e,t){if(!e.startsWith("/")||!t){return e}const{pathname:n,query:i,hash:s}=(0,r.parsePath)(e);return""+n+t+i+s}},17388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getSegmentValue",{enumerable:true,get:function(){return n}});function n(e){return Array.isArray(e)?e[1]:e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},17757:(e,t,n)=>{"use strict";e.exports=o;var r=n(75108),i=n(89644);var s=i("fs");function o(e,t,n){if(typeof t==="function"){n=t;t={}}else if(!t)t={};if(!n)return r(o,this,e,t);if(!t.xhr&&s&&s.readFile)return s.readFile(e,function r(r,i){return r&&typeof XMLHttpRequest!=="undefined"?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))});return o.xhr(e,t,n)}o.xhr=function e(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function e(){if(r.readyState!==4)return undefined;if(r.status!==0&&r.status!==200)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(r.responseText.charCodeAt(i)&255)}return n(null,typeof Uint8Array!=="undefined"?new Uint8Array(e):e)}return n(null,r.responseText)};if(t.binary){if("overrideMimeType"in r)r.overrideMimeType("text/plain; charset=x-user-defined");r.responseType="arraybuffer"}r.open("GET",e);r.send()}},17819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StatusBuilder=void 0;class n{constructor(){this.code=null;this.details=null;this.metadata=null}withCode(e){this.code=e;return this}withDetails(e){this.details=e;return this}withMetadata(e){this.metadata=e;return this}build(){const e={};if(this.code!==null){e.code=this.code}if(this.details!==null){e.details=this.details}if(this.metadata!==null){e.metadata=this.metadata}return e}}t.StatusBuilder=n},17974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"RedirectStatusCode",{enumerable:true,get:function(){return n}});var n=function(e){e[e["SeeOther"]=303]="SeeOther";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";return e}({});if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},18238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{isHangingPromiseRejectionError:function(){return r},makeHangingPromise:function(){return o}});function r(e){if(typeof e!=="object"||e===null||!("digest"in e)){return false}return e.digest===i}const i="HANGING_PROMISE_REJECTION";class s extends Error{constructor(e){super(`During prerendering, ${e} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${e} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`),this.expression=e,this.digest=i}}function o(e,t){const n=new Promise((n,r)=>{e.addEventListener("abort",()=>{r(new s(t))},{once:true})});n.catch(a);return n}function a(){}},18631:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"parsePath",{enumerable:true,get:function(){return n}});function n(e){const t=e.indexOf("#");const n=e.indexOf("?");const r=n>-1&&(t<0||n<t);if(r||t>-1){return{pathname:e.substring(0,r?n:t),query:r?e.substring(n,t>-1?t:undefined):"",hash:t>-1?e.slice(t):""}}return{pathname:e,query:"",hash:""}}},18735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.channelOptionsEqual=t.recognizedOptions=void 0;t.recognizedOptions={"grpc.ssl_target_name_override":true,"grpc.primary_user_agent":true,"grpc.secondary_user_agent":true,"grpc.default_authority":true,"grpc.keepalive_time_ms":true,"grpc.keepalive_timeout_ms":true,"grpc.keepalive_permit_without_calls":true,"grpc.service_config":true,"grpc.max_concurrent_streams":true,"grpc.initial_reconnect_backoff_ms":true,"grpc.max_reconnect_backoff_ms":true,"grpc.use_local_subchannel_pool":true,"grpc.max_send_message_length":true,"grpc.max_receive_message_length":true,"grpc.enable_http_proxy":true,"grpc.enable_channelz":true,"grpc.dns_min_time_between_resolutions_ms":true,"grpc.enable_retries":true,"grpc.per_rpc_retry_buffer_size":true,"grpc.retry_buffer_size":true,"grpc.max_connection_age_ms":true,"grpc.max_connection_age_grace_ms":true,"grpc-node.max_session_memory":true,"grpc.service_config_disable_resolution":true,"grpc.client_idle_timeout_ms":true,"grpc-node.tls_enable_trace":true};function n(e,t){const n=Object.keys(e).sort();const r=Object.keys(t).sort();if(n.length!==r.length){return false}for(let i=0;i<n.length;i+=1){if(n[i]!==r[i]){return false}if(e[n[i]]!==t[r[i]]){return false}}return true}t.channelOptionsEqual=n},19357:(e,t,n)=>{"use strict";e.exports=n(94041).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},19780:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addAdminServicesToServer=t.registerAdminService=void 0;const n=[];function r(e,t){n.push({getServiceDefinition:e,getHandlers:t})}t.registerAdminService=r;function i(e){for(const{getServiceDefinition:t,getHandlers:r}of n){e.addService(t(),r())}}t.addAdminServicesToServer=i},20040:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}}')},20653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BaseFilter=void 0;class n{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}t.BaseFilter=n},20884:(e,t,n)=>{"use strict";var r=n(46033),i={stream:!0};function s(e,t){if(e){var n=e[t[0]];if(e=n&&n[t[2]])n=e.name;else{e=n&&n["*"];if(!e)throw Error('Could not find the module "'+t[0]+'" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.');n=t[2]}return 4===t.length?[e.id,e.chunks,n,1]:[e.id,e.chunks,n]}return t}function o(e,t){var n="",r=e[t];if(r)n=r.name;else{var i=t.lastIndexOf("#");-1!==i&&(n=t.slice(i+1),r=e[t.slice(0,i)]);if(!r)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return r.async?[r.id,r.chunks,n,1]:[r.id,r.chunks,n]}var a=new Map;function c(e){var t=globalThis.__next_require__(e);if("function"!==typeof t.then||"fulfilled"===t.status)return null;t.then(function(e){t.status="fulfilled";t.value=e},function(e){t.status="rejected";t.reason=e});return t}function u(){}function l(e){for(var t=e[1],r=[],i=0;i<t.length;){var s=t[i++];t[i++];var o=a.get(s);if(void 0===o){o=n.e(s);r.push(o);var l=a.set.bind(a,s,null);o.then(l,u);a.set(s,o)}else null!==o&&r.push(o)}return 4===e.length?0===r.length?c(e[0]):Promise.all(r).then(function(){return c(e[0])}):0<r.length?Promise.all(r):null}function d(e){var t=globalThis.__next_require__(e[0]);if(4===e.length&&"function"===typeof t.then)if("fulfilled"===t.status)t=t.value;else throw t.reason;return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:t[e[2]]}function f(e,t,n){if(null!==e)for(var r=1;r<t.length;r+=2){var i=n,s=h.d,o=s.X,a=e.prefix+t[r];var c=e.crossOrigin;c="string"===typeof c?"use-credentials"===c?c:"":void 0;o.call(s,a,{crossOrigin:c,nonce:i})}}var h=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,p=Symbol.for("react.transitional.element"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(e){if(null===e||"object"!==typeof e)return null;e=g&&e[g]||e["@@iterator"];return"function"===typeof e?e:null}var v=Symbol.asyncIterator,b=Array.isArray,_=Object.getPrototypeOf,E=Object.prototype,w=new WeakMap;function S(e){return Number.isFinite(e)?0===e&&-Infinity===1/e?"$-0":e:Infinity===e?"$Infinity":-Infinity===e?"$-Infinity":"$NaN"}function T(e,t,n,r,i){function s(e,n){n=new Blob([new Uint8Array(n.buffer,n.byteOffset,n.byteLength)]);var r=f++;null===g&&(g=new FormData);g.append(t+r,n);return"$"+e+r.toString(16)}function o(e){function n(c){c.done?(c=f++,s.append(t+c,new Blob(a)),s.append(t+o,'"$o'+c.toString(16)+'"'),s.append(t+o,"C"),h--,0===h&&r(s)):(a.push(c.value),e.read(new Uint8Array(1024)).then(n,i))}null===g&&(g=new FormData);var s=g;h++;var o=f++,a=[];e.read(new Uint8Array(1024)).then(n,i);return"$r"+o.toString(16)}function a(e){function n(a){if(a.done)s.append(t+o,"C"),h--,0===h&&r(s);else try{var c=JSON.stringify(a.value,l);s.append(t+o,c);e.read().then(n,i)}catch(e){i(e)}}null===g&&(g=new FormData);var s=g;h++;var o=f++;e.read().then(n,i);return"$R"+o.toString(16)}function c(e){try{var t=e.getReader({mode:"byob"})}catch(t){return a(e.getReader())}return o(t)}function u(e,n){function s(e){if(e.done){if(void 0===e.value)o.append(t+a,"C");else try{var c=JSON.stringify(e.value,l);o.append(t+a,"C"+c)}catch(e){i(e);return}h--;0===h&&r(o)}else try{var u=JSON.stringify(e.value,l);o.append(t+a,u);n.next().then(s,i)}catch(e){i(e)}}null===g&&(g=new FormData);var o=g;h++;var a=f++;e=e===n;n.next().then(s,i);return"$"+(e?"x":"X")+a.toString(16)}function l(e,o){if(null===o)return null;if("object"===typeof o){switch(o.$$typeof){case p:if(void 0!==n&&-1===e.indexOf(":")){var a=T.get(this);if(void 0!==a)return n.set(a+":"+e,o),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case m:a=o._payload;var R=o._init;null===g&&(g=new FormData);h++;try{var I=R(a),O=f++,A=d(I,O);g.append(t+O,A);return"$"+O.toString(16)}catch(e){if("object"===typeof e&&null!==e&&"function"===typeof e.then){h++;var P=f++;a=function(){try{var e=d(o,P),n=g;n.append(t+P,e);h--;0===h&&r(n)}catch(e){i(e)}};e.then(a,a);return"$"+P.toString(16)}i(e);return null}finally{h--}}if("function"===typeof o.then){null===g&&(g=new FormData);h++;var N=f++;o.then(function(e){try{var n=d(e,N);e=g;e.append(t+N,n);h--;0===h&&r(e)}catch(e){i(e)}},i);return"$@"+N.toString(16)}a=T.get(o);if(void 0!==a)if(C===o)C=null;else return a;else-1===e.indexOf(":")&&(a=T.get(this),void 0!==a&&(e=a+":"+e,T.set(o,e),void 0!==n&&n.set(e,o)));if(b(o))return o;if(o instanceof FormData){null===g&&(g=new FormData);var x=g;e=f++;var D=t+e+"_";o.forEach(function(e,t){x.append(D+t,e)});return"$K"+e.toString(16)}if(o instanceof Map)return e=f++,a=d(Array.from(o),e),null===g&&(g=new FormData),g.append(t+e,a),"$Q"+e.toString(16);if(o instanceof Set)return e=f++,a=d(Array.from(o),e),null===g&&(g=new FormData),g.append(t+e,a),"$W"+e.toString(16);if(o instanceof ArrayBuffer)return e=new Blob([o]),a=f++,null===g&&(g=new FormData),g.append(t+a,e),"$A"+a.toString(16);if(o instanceof Int8Array)return s("O",o);if(o instanceof Uint8Array)return s("o",o);if(o instanceof Uint8ClampedArray)return s("U",o);if(o instanceof Int16Array)return s("S",o);if(o instanceof Uint16Array)return s("s",o);if(o instanceof Int32Array)return s("L",o);if(o instanceof Uint32Array)return s("l",o);if(o instanceof Float32Array)return s("G",o);if(o instanceof Float64Array)return s("g",o);if(o instanceof BigInt64Array)return s("M",o);if(o instanceof BigUint64Array)return s("m",o);if(o instanceof DataView)return s("V",o);if("function"===typeof Blob&&o instanceof Blob)return null===g&&(g=new FormData),e=f++,g.append(t+e,o),"$B"+e.toString(16);if(e=y(o))return a=e.call(o),a===o?(e=f++,a=d(Array.from(a),e),null===g&&(g=new FormData),g.append(t+e,a),"$i"+e.toString(16)):Array.from(a);if("function"===typeof ReadableStream&&o instanceof ReadableStream)return c(o);e=o[v];if("function"===typeof e)return u(o,e.call(o));e=_(o);if(e!==E&&(null===e||null!==_(e))){if(void 0===n)throw Error("Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.");return"$T"}return o}if("string"===typeof o){if("Z"===o[o.length-1]&&this[e]instanceof Date)return"$D"+o;e="$"===o[0]?"$"+o:o;return e}if("boolean"===typeof o)return o;if("number"===typeof o)return S(o);if("undefined"===typeof o)return"$undefined";if("function"===typeof o){a=w.get(o);if(void 0!==a)return e=JSON.stringify(a,l),null===g&&(g=new FormData),a=f++,g.set(t+a,e),"$F"+a.toString(16);if(void 0!==n&&-1===e.indexOf(":")&&(a=T.get(this),void 0!==a))return n.set(a+":"+e,o),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"===typeof o){if(void 0!==n&&-1===e.indexOf(":")&&(a=T.get(this),void 0!==a))return n.set(a+":"+e,o),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"===typeof o)return"$n"+o.toString(10);throw Error("Type "+typeof o+" is not supported as an argument to a Server Function.")}function d(e,t){"object"===typeof e&&null!==e&&(t="$"+t.toString(16),T.set(e,t),void 0!==n&&n.set(t,e));C=e;return JSON.stringify(e,l)}var f=1,h=0,g=null,T=new WeakMap,C=e,R=d(e,0);null===g?r(R):(g.set(t+"0",R),0===h&&r(g));return function(){0<h&&(h=0,null===g?r(R):r(g))}}var C=new WeakMap;function R(e){var t,n,r=new Promise(function(e,r){t=e;n=r});T(e,"",void 0,function(e){if("string"===typeof e){var n=new FormData;n.append("0",e);e=n}r.status="fulfilled";r.value=e;t(e)},function(e){r.status="rejected";r.reason=e;n(e)});return r}function I(e){var t=w.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var n=null;if(null!==t.bound){n=C.get(t);n||(n=R(t),C.set(t,n));if("rejected"===n.status)throw n.reason;if("fulfilled"!==n.status)throw n;t=n.value;var r=new FormData;t.forEach(function(t,n){r.append("$ACTION_"+e+":"+n,t)});n=r;t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:n}}function O(e,t){var n=w.get(this);if(!n)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(n.id!==e)return!1;var r=n.bound;if(null===r)return 0===t;switch(r.status){case"fulfilled":return r.value.length===t;case"pending":throw r;case"rejected":throw r.reason;default:throw"string"!==typeof r.status&&(r.status="pending",r.then(function(e){r.status="fulfilled";r.value=e},function(e){r.status="rejected";r.reason=e})),r}}function A(e,t,n,r){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===r?I:function(){var e=w.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;null===t&&(t=Promise.resolve([]));return r(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:O},bind:{value:x}});w.set(e,{id:t,bound:n})}var P=Function.prototype.bind,N=Array.prototype.slice;function x(){var e=P.apply(this,arguments),t=w.get(this);if(t){var n=N.call(arguments,1),r=null;r=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(n)}):Promise.resolve(n);Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:O},bind:{value:x}});w.set(e,{id:t.id,bound:r})}return e}function D(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return s?"fulfilled"===s.status?t(i,s.value.concat(e)):Promise.resolve(s).then(function(n){return t(i,n.concat(e))}):t(i,e)}var i=e.id,s=e.bound;A(r,i,s,n);return r}function k(e,t,n){function r(){var n=Array.prototype.slice.call(arguments);return t(e,n)}A(r,e,null,n);return r}function M(e,t,n,r){this.status=e;this.value=t;this.reason=n;this._response=r}M.prototype=Object.create(Promise.prototype);M.prototype.then=function(e,t){switch(this.status){case"resolved_model":H(this);break;case"resolved_module":W(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e));t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t&&t(this.reason)}};function L(e){switch(e.status){case"resolved_model":H(e);break;case"resolved_module":W(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":throw e;default:throw e.reason}}function j(e){return new M("pending",null,null,e)}function F(e,t){for(var n=0;n<e.length;n++)(0,e[n])(t)}function B(e,t,n){switch(e.status){case"fulfilled":F(t,e.value);break;case"pending":case"blocked":if(e.value)for(var r=0;r<t.length;r++)e.value.push(t[r]);else e.value=t;if(e.reason){if(n)for(t=0;t<n.length;t++)e.reason.push(n[t])}else e.reason=n;break;case"rejected":n&&F(n,e.reason)}}function U(e,t){if("pending"!==e.status&&"blocked"!==e.status)e.reason.error(t);else{var n=e.reason;e.status="rejected";e.reason=t;null!==n&&F(n,t)}}function V(e,t,n){return new M("resolved_model",(n?'{"done":true,"value":':'{"done":false,"value":')+t+"}",null,e)}function z(e,t,n){q(e,(n?'{"done":true,"value":':'{"done":false,"value":')+t+"}")}function q(e,t){if("pending"!==e.status)e.reason.enqueueModel(t);else{var n=e.value,r=e.reason;e.status="resolved_model";e.value=t;null!==n&&(H(e),B(e,n,r))}}function G(e,t){if("pending"===e.status||"blocked"===e.status){var n=e.value,r=e.reason;e.status="resolved_module";e.value=t;null!==n&&(W(e),B(e,n,r))}}var $=null;function H(e){var t=$;$=null;var n=e.value;e.status="blocked";e.value=null;e.reason=null;try{var r=JSON.parse(n,e._response._fromJSON),i=e.value;null!==i&&(e.value=null,e.reason=null,F(i,r));if(null!==$){if($.errored)throw $.value;if(0<$.deps){$.value=r;$.chunk=e;return}}e.status="fulfilled";e.value=r}catch(t){e.status="rejected",e.reason=t}finally{$=t}}function W(e){try{var t=d(e.value);e.status="fulfilled";e.value=t}catch(t){e.status="rejected",e.reason=t}}function K(e,t){e._closed=!0;e._closedReason=t;e._chunks.forEach(function(e){"pending"===e.status&&U(e,t)})}function Q(e){return{$$typeof:m,_payload:e,_init:L}}function Y(e,t){var n=e._chunks,r=n.get(t);r||(r=e._closed?new M("rejected",null,e._closedReason,e):j(e),n.set(t,r));return r}function X(e,t,n,r,i,s){function o(e){for(var u=1;u<s.length;u++){for(;e.$$typeof===m;)if(e=e._payload,e===c.chunk)e=c.value;else if("fulfilled"===e.status)e=e.value;else{s.splice(0,u-1);e.then(o,a);return}e=e[s[u]]}u=i(r,e,t,n);t[n]=u;""===n&&null===c.value&&(c.value=u);if(t[0]===p&&"object"===typeof c.value&&null!==c.value&&c.value.$$typeof===p)switch(e=c.value,n){case"3":e.props=u}c.deps--;0===c.deps&&(u=c.chunk,null!==u&&"blocked"===u.status&&(e=u.value,u.status="fulfilled",u.value=c.value,null!==e&&F(e,c.value)))}function a(e){if(!c.errored){c.errored=!0;c.value=e;var t=c.chunk;null!==t&&"blocked"===t.status&&U(t,e)}}if($){var c=$;c.deps++}else c=$={parent:null,chunk:null,value:null,deps:1,errored:!1};e.then(o,a);return null}function J(e,t,n,r){if(!e._serverReferenceConfig)return D(t,e._callServer,e._encodeFormAction);var i=o(e._serverReferenceConfig,t.id),s=l(i);if(s)t.bound&&(s=Promise.all([s,t.bound]));else if(t.bound)s=Promise.resolve(t.bound);else return s=d(i),A(s,t.id,t.bound,e._encodeFormAction),s;if($){var a=$;a.deps++}else a=$={parent:null,chunk:null,value:null,deps:1,errored:!1};s.then(function(){var s=d(i);if(t.bound){var o=t.bound.value.slice(0);o.unshift(null);s=s.bind.apply(s,o)}A(s,t.id,t.bound,e._encodeFormAction);n[r]=s;""===r&&null===a.value&&(a.value=s);if(n[0]===p&&"object"===typeof a.value&&null!==a.value&&a.value.$$typeof===p)switch(o=a.value,r){case"3":o.props=s}a.deps--;0===a.deps&&(s=a.chunk,null!==s&&"blocked"===s.status&&(o=s.value,s.status="fulfilled",s.value=a.value,null!==o&&F(o,a.value)))},function(e){if(!a.errored){a.errored=!0;a.value=e;var t=a.chunk;null!==t&&"blocked"===t.status&&U(t,e)}});return null}function Z(e,t,n,r,i){t=t.split(":");var s=parseInt(t[0],16);s=Y(e,s);switch(s.status){case"resolved_model":H(s);break;case"resolved_module":W(s)}switch(s.status){case"fulfilled":var o=s.value;for(s=1;s<t.length;s++){for(;o.$$typeof===m;)if(o=o._payload,"fulfilled"===o.status)o=o.value;else return X(o,n,r,e,i,t.slice(s-1));o=o[t[s]]}return i(e,o,n,r);case"pending":case"blocked":return X(s,n,r,e,i,t);default:return $?($.errored=!0,$.value=s.reason):$={parent:null,chunk:null,value:s.reason,deps:0,errored:!0},null}}function ee(e,t){return new Map(t)}function et(e,t){return new Set(t)}function en(e,t){return new Blob(t.slice(1),{type:t[0]})}function er(e,t){e=new FormData;for(var n=0;n<t.length;n++)e.append(t[n][0],t[n][1]);return e}function ei(e,t){return t[Symbol.iterator]()}function es(e,t){return t}function eo(e,t,n,r){if("$"===r[0]){if("$"===r)return null!==$&&"0"===n&&($={parent:$,chunk:null,value:null,deps:0,errored:!1}),p;switch(r[1]){case"$":return r.slice(1);case"L":return t=parseInt(r.slice(2),16),e=Y(e,t),Q(e);case"@":if(2===r.length)return new Promise(function(){});t=parseInt(r.slice(2),16);return Y(e,t);case"S":return Symbol.for(r.slice(2));case"F":return r=r.slice(2),Z(e,r,t,n,J);case"T":t="$"+r.slice(2);e=e._tempRefs;if(null==e)throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return e.get(t);case"Q":return r=r.slice(2),Z(e,r,t,n,ee);case"W":return r=r.slice(2),Z(e,r,t,n,et);case"B":return r=r.slice(2),Z(e,r,t,n,en);case"K":return r=r.slice(2),Z(e,r,t,n,er);case"Z":return eg();case"i":return r=r.slice(2),Z(e,r,t,n,ei);case"I":return Infinity;case"-":return"$-0"===r?-0:-Infinity;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(r.slice(2)));case"n":return BigInt(r.slice(2));default:return r=r.slice(1),Z(e,r,t,n,es)}}return r}function ea(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function ec(e,t,n,r,i,s,o){var a=new Map;this._bundlerConfig=e;this._serverReferenceConfig=t;this._moduleLoading=n;this._callServer=void 0!==r?r:ea;this._encodeFormAction=i;this._nonce=s;this._chunks=a;this._stringDecoder=new TextDecoder;this._fromJSON=null;this._rowLength=this._rowTag=this._rowID=this._rowState=0;this._buffer=[];this._closed=!1;this._closedReason=null;this._tempRefs=o;this._fromJSON=e_(this)}function eu(e,t,n){var r=e._chunks,i=r.get(t);i&&"pending"!==i.status?i.reason.enqueueValue(n):r.set(t,new M("fulfilled",n,null,e))}function el(e,t,n){var r=e._chunks,i=r.get(t);n=JSON.parse(n,e._fromJSON);var o=s(e._bundlerConfig,n);f(e._moduleLoading,n[1],e._nonce);if(n=l(o)){if(i){var a=i;a.status="blocked"}else a=new M("blocked",null,null,e),r.set(t,a);n.then(function(){return G(a,o)},function(e){return U(a,e)})}else i?G(i,o):r.set(t,new M("resolved_module",o,null,e))}function ed(e,t,n,r){var i=e._chunks,s=i.get(t);s?"pending"===s.status&&(e=s.value,s.status="fulfilled",s.value=n,s.reason=r,null!==e&&F(e,s.value)):i.set(t,new M("fulfilled",n,r,e))}function ef(e,t,n){var r=null;n=new ReadableStream({type:n,start:function(e){r=e}});var i=null;ed(e,t,n,{enqueueValue:function(e){null===i?r.enqueue(e):i.then(function(){r.enqueue(e)})},enqueueModel:function(t){if(null===i){var n=new M("resolved_model",t,null,e);H(n);"fulfilled"===n.status?r.enqueue(n.value):(n.then(function(e){return r.enqueue(e)},function(e){return r.error(e)}),i=n)}else{n=i;var s=j(e);s.then(function(e){return r.enqueue(e)},function(e){return r.error(e)});i=s;n.then(function(){i===s&&(i=null);q(s,t)})}},close:function(){if(null===i)r.close();else{var e=i;i=null;e.then(function(){return r.close()})}},error:function(e){if(null===i)r.error(e);else{var t=i;i=null;t.then(function(){return r.error(e)})}}})}function eh(){return this}function ep(e){e={next:e};e[v]=eh;return e}function em(e,t,n){var r=[],i=!1,s=0,o={};o=(o[v]=function(){var t=0;return ep(function(n){if(void 0!==n)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(t===r.length){if(i)return new M("fulfilled",{done:!0,value:void 0},null,e);r[t]=j(e)}return r[t++]})},o);ed(e,t,n?o[v]():o,{enqueueValue:function(t){if(s===r.length)r[s]=new M("fulfilled",{done:!1,value:t},null,e);else{var n=r[s],i=n.value,o=n.reason;n.status="fulfilled";n.value={done:!1,value:t};null!==i&&B(n,i,o)}s++},enqueueModel:function(t){s===r.length?r[s]=V(e,t,!1):z(r[s],t,!1);s++},close:function(t){i=!0;s===r.length?r[s]=V(e,t,!0):z(r[s],t,!0);for(s++;s<r.length;)z(r[s++],'"$undefined"',!0)},error:function(t){i=!0;for(s===r.length&&(r[s]=j(e));s<r.length;)U(r[s++],t)}})}function eg(){var e=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.");e.stack="Error: "+e.message;return e}function ey(e,t){for(var n=e.length,r=t.length,i=0;i<n;i++)r+=e[i].byteLength;r=new Uint8Array(r);for(var s=i=0;s<n;s++){var o=e[s];r.set(o,i);i+=o.byteLength}r.set(t,i);return r}function ev(e,t,n,r,i,s){n=0===n.length&&0===r.byteOffset%s?r:ey(n,r);i=new i(n.buffer,n.byteOffset,n.byteLength/s);eu(e,t,i)}function eb(e,t,n,r,s){switch(n){case 65:eu(e,t,ey(r,s).buffer);return;case 79:ev(e,t,r,s,Int8Array,1);return;case 111:eu(e,t,0===r.length?s:ey(r,s));return;case 85:ev(e,t,r,s,Uint8ClampedArray,1);return;case 83:ev(e,t,r,s,Int16Array,2);return;case 115:ev(e,t,r,s,Uint16Array,2);return;case 76:ev(e,t,r,s,Int32Array,4);return;case 108:ev(e,t,r,s,Uint32Array,4);return;case 71:ev(e,t,r,s,Float32Array,4);return;case 103:ev(e,t,r,s,Float64Array,8);return;case 77:ev(e,t,r,s,BigInt64Array,8);return;case 109:ev(e,t,r,s,BigUint64Array,8);return;case 86:ev(e,t,r,s,DataView,1);return}for(var o=e._stringDecoder,a="",c=0;c<r.length;c++)a+=o.decode(r[c],i);r=a+=o.decode(s);switch(n){case 73:el(e,t,r);break;case 72:t=r[0];r=r.slice(1);e=JSON.parse(r,e._fromJSON);r=h.d;switch(t){case"D":r.D(e);break;case"C":"string"===typeof e?r.C(e):r.C(e[0],e[1]);break;case"L":t=e[0];n=e[1];3===e.length?r.L(t,n,e[2]):r.L(t,n);break;case"m":"string"===typeof e?r.m(e):r.m(e[0],e[1]);break;case"X":"string"===typeof e?r.X(e):r.X(e[0],e[1]);break;case"S":"string"===typeof e?r.S(e):r.S(e[0],0===e[1]?void 0:e[1],3===e.length?e[2]:void 0);break;case"M":"string"===typeof e?r.M(e):r.M(e[0],e[1])}break;case 69:n=JSON.parse(r);r=eg();r.digest=n.digest;n=e._chunks;(s=n.get(t))?U(s,r):n.set(t,new M("rejected",null,r,e));break;case 84:n=e._chunks;(s=n.get(t))&&"pending"!==s.status?s.reason.enqueueValue(r):n.set(t,new M("fulfilled",r,null,e));break;case 78:case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:ef(e,t,void 0);break;case 114:ef(e,t,"bytes");break;case 88:em(e,t,!1);break;case 120:em(e,t,!0);break;case 67:(e=e._chunks.get(t))&&"fulfilled"===e.status&&e.reason.close(""===r?'"$undefined"':r);break;default:n=e._chunks,(s=n.get(t))?q(s,r):n.set(t,new M("resolved_model",r,null,e))}}function e_(e){return function(t,n){if("string"===typeof n)return eo(e,this,t,n);if("object"===typeof n&&null!==n){if(n[0]===p){if(t={$$typeof:p,type:n[1],key:n[2],ref:null,props:n[3]},null!==$){if(n=$,$=n.parent,n.errored)t=new M("rejected",null,n.value,e),t=Q(t);else if(0<n.deps){var r=new M("blocked",null,null,e);n.value=t;n.chunk=r;t=Q(r)}}}else t=n;return t}return n}}function eE(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function ew(e){return new ec(e.serverConsumerManifest.moduleMap,e.serverConsumerManifest.serverModuleMap,e.serverConsumerManifest.moduleLoading,eE,e.encodeFormAction,"string"===typeof e.nonce?e.nonce:void 0,e&&e.temporaryReferences?e.temporaryReferences:void 0)}function eS(e,t){function n(t){var s=t.value;if(t.done)K(e,Error("Connection closed."));else{var o=0,a=e._rowState;t=e._rowID;for(var c=e._rowTag,u=e._rowLength,l=e._buffer,d=s.length;o<d;){var f=-1;switch(a){case 0:f=s[o++];58===f?a=1:t=t<<4|(96<f?f-87:f-48);continue;case 1:a=s[o];84===a||65===a||79===a||111===a||85===a||83===a||115===a||76===a||108===a||71===a||103===a||77===a||109===a||86===a?(c=a,a=2,o++):64<a&&91>a||35===a||114===a||120===a?(c=a,a=3,o++):(c=0,a=3);continue;case 2:f=s[o++];44===f?a=4:u=u<<4|(96<f?f-87:f-48);continue;case 3:f=s.indexOf(10,o);break;case 4:f=o+u,f>s.length&&(f=-1)}var h=s.byteOffset+o;if(-1<f)u=new Uint8Array(s.buffer,h,f-o),eb(e,t,c,l,u),o=f,3===a&&o++,u=t=c=a=0,l.length=0;else{s=new Uint8Array(s.buffer,h,s.byteLength-o);l.push(s);u-=s.byteLength;break}}e._rowState=a;e._rowID=t;e._rowTag=c;e._rowLength=u;return i.read().then(n).catch(r)}}function r(t){K(e,t)}var i=t.getReader();i.read().then(n).catch(r)}t.createFromFetch=function(e,t){var n=ew(t);e.then(function(e){eS(n,e.body)},function(e){K(n,e)});return Y(n,0)};t.createFromReadableStream=function(e,t){t=ew(t);eS(t,e);return Y(t,0)};t.createServerReference=function(e){return k(e,eE)};t.createTemporaryReferenceSet=function(){return new Map};t.encodeReply=function(e,t){return new Promise(function(n,r){var i=T(e,"",t&&t.temporaryReferences?t.temporaryReferences:void 0,n,r);if(t&&t.signal){var s=t.signal;if(s.aborted)i(s.reason);else{var o=function(){i(s.reason);s.removeEventListener("abort",o)};s.addEventListener("abort",o)}}})};t.registerServerReference=function(e,t,n){A(e,t,null,n);return e}},20920:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ConnectivityState=void 0;var n;(function(e){e[e["IDLE"]=0]="IDLE";e[e["CONNECTING"]=1]="CONNECTING";e[e["READY"]=2]="READY";e[e["TRANSIENT_FAILURE"]=3]="TRANSIENT_FAILURE";e[e["SHUTDOWN"]=4]="SHUTDOWN"})(n||(t.ConnectivityState=n={}))},21709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{bootstrap:function(){return u},error:function(){return d},event:function(){return m},info:function(){return p},prefixes:function(){return o},ready:function(){return h},trace:function(){return g},wait:function(){return l},warn:function(){return f},warnOnce:function(){return v}});const i=n(75317);const s=n(38522);const o={wait:(0,i.white)((0,i.bold)("")),error:(0,i.red)((0,i.bold)("")),warn:(0,i.yellow)((0,i.bold)("")),ready:"",info:(0,i.white)((0,i.bold)(" ")),event:(0,i.green)((0,i.bold)("")),trace:(0,i.magenta)((0,i.bold)("\xbb"))};const a={log:"log",warn:"warn",error:"error"};function c(e,...t){if((t[0]===""||t[0]===undefined)&&t.length===1){t.shift()}const n=e in a?a[e]:"log";const r=o[e];if(t.length===0){console[n]("")}else{if(t.length===1&&typeof t[0]==="string"){console[n](" "+r+" "+t[0])}else{console[n](" "+r,...t)}}}function u(...e){console.log("   "+e.join(" "))}function l(...e){c("wait",...e)}function d(...e){c("error",...e)}function f(...e){c("warn",...e)}function h(...e){c("ready",...e)}function p(...e){c("info",...e)}function m(...e){c("event",...e)}function g(...e){c("trace",...e)}const y=new s.LRUCache(1e4,e=>e.length);function v(...e){const t=e.join(" ");if(!y.has(t)){y.set(t,t);f(...e)}}},22113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{DynamicServerError:function(){return i},isDynamicServerError:function(){return s}});const r="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function s(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}return e.digest===r}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},22142:(e,t,n)=>{"use strict";e.exports=n(94041).vendored.contexts.AppRouterContext},22487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;const r=n(21820);const i=n(93122);const s=n(30598);const o=/^\d+(\.\d{1,9})?s$/;const a="node";function c(e){if("service"in e&&e.service!==""){if(typeof e.service!=="string"){throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof e.service}`)}if("method"in e&&e.method!==""){if(typeof e.method!=="string"){throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof e.service}`)}return{service:e.service,method:e.method}}else{return{service:e.service}}}else{if("method"in e&&e.method!==undefined){throw new Error(`Invalid method config name: method set with empty or unset service`)}return{}}}function u(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2){throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2")}if(!("initialBackoff"in e)||typeof e.initialBackoff!=="string"||!o.test(e.initialBackoff)){throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s")}if(!("maxBackoff"in e)||typeof e.maxBackoff!=="string"||!o.test(e.maxBackoff)){throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s")}if(!("backoffMultiplier"in e)||typeof e.backoffMultiplier!=="number"||e.backoffMultiplier<=0){throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0")}if(!("retryableStatusCodes"in e&&Array.isArray(e.retryableStatusCodes))){throw new Error("Invalid method config retry policy: retryableStatusCodes is required")}if(e.retryableStatusCodes.length===0){throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty")}for(const t of e.retryableStatusCodes){if(typeof t==="number"){if(!Object.values(i.Status).includes(t)){throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}}else if(typeof t==="string"){if(!Object.values(i.Status).includes(t.toUpperCase())){throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}}else{throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number")}}return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}function l(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2){throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2")}if("hedgingDelay"in e&&(typeof e.hedgingDelay!=="string"||!o.test(e.hedgingDelay))){throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s")}if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes)){for(const t of e.nonFatalStatusCodes){if(typeof t==="number"){if(!Object.values(i.Status).includes(t)){throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}}else if(typeof t==="string"){if(!Object.values(i.Status).includes(t.toUpperCase())){throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}}else{throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number")}}}const t={maxAttempts:e.maxAttempts};if(e.hedgingDelay){t.hedgingDelay=e.hedgingDelay}if(e.nonFatalStatusCodes){t.nonFatalStatusCodes=e.nonFatalStatusCodes}return t}function d(e){var t;const n={name:[]};if(!("name"in e)||!Array.isArray(e.name)){throw new Error("Invalid method config: invalid name array")}for(const t of e.name){n.name.push(c(t))}if("waitForReady"in e){if(typeof e.waitForReady!=="boolean"){throw new Error("Invalid method config: invalid waitForReady")}n.waitForReady=e.waitForReady}if("timeout"in e){if(typeof e.timeout==="object"){if(!("seconds"in e.timeout)||!(typeof e.timeout.seconds==="number")){throw new Error("Invalid method config: invalid timeout.seconds")}if(!("nanos"in e.timeout)||!(typeof e.timeout.nanos==="number")){throw new Error("Invalid method config: invalid timeout.nanos")}n.timeout=e.timeout}else if(typeof e.timeout==="string"&&o.test(e.timeout)){const r=e.timeout.substring(0,e.timeout.length-1).split(".");n.timeout={seconds:r[0]|0,nanos:((t=r[1])!==null&&t!==void 0?t:0)|0}}else{throw new Error("Invalid method config: invalid timeout")}}if("maxRequestBytes"in e){if(typeof e.maxRequestBytes!=="number"){throw new Error("Invalid method config: invalid maxRequestBytes")}n.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if(typeof e.maxResponseBytes!=="number"){throw new Error("Invalid method config: invalid maxRequestBytes")}n.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e){throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified")}else{n.retryPolicy=u(e.retryPolicy)}}else if("hedgingPolicy"in e){n.hedgingPolicy=l(e.hedgingPolicy)}return n}function f(e){if(!("maxTokens"in e)||typeof e.maxTokens!=="number"||e.maxTokens<=0||e.maxTokens>1e3){throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]")}if(!("tokenRatio"in e)||typeof e.tokenRatio!=="number"||e.tokenRatio<=0){throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0")}return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}t.validateRetryThrottling=f;function h(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if(typeof e.loadBalancingPolicy==="string"){t.loadBalancingPolicy=e.loadBalancingPolicy}else{throw new Error("Invalid service config: invalid loadBalancingPolicy")}}if("loadBalancingConfig"in e){if(Array.isArray(e.loadBalancingConfig)){for(const n of e.loadBalancingConfig){t.loadBalancingConfig.push((0,s.validateLoadBalancingConfig)(n))}}else{throw new Error("Invalid service config: invalid loadBalancingConfig")}}if("methodConfig"in e){if(Array.isArray(e.methodConfig)){for(const n of e.methodConfig){t.methodConfig.push(d(n))}}}if("retryThrottling"in e){t.retryThrottling=f(e.retryThrottling)}const n=[];for(const e of t.methodConfig){for(const t of e.name){for(const e of n){if(t.service===e.service&&t.method===e.method){throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`)}}n.push(t)}}return t}t.validateServiceConfig=h;function p(e){if(!("serviceConfig"in e)){throw new Error("Invalid service config choice: missing service config")}const t={serviceConfig:h(e.serviceConfig)};if("clientLanguage"in e){if(Array.isArray(e.clientLanguage)){t.clientLanguage=[];for(const n of e.clientLanguage){if(typeof n==="string"){t.clientLanguage.push(n)}else{throw new Error("Invalid service config choice: invalid clientLanguage")}}}else{throw new Error("Invalid service config choice: invalid clientLanguage")}}if("clientHostname"in e){if(Array.isArray(e.clientHostname)){t.clientHostname=[];for(const n of e.clientHostname){if(typeof n==="string"){t.clientHostname.push(n)}else{throw new Error("Invalid service config choice: invalid clientHostname")}}}else{throw new Error("Invalid service config choice: invalid clientHostname")}}if("percentage"in e){if(typeof e.percentage==="number"&&0<=e.percentage&&e.percentage<=100){t.percentage=e.percentage}else{throw new Error("Invalid service config choice: invalid percentage")}}const n=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e){if(!n.includes(t)){throw new Error(`Invalid service config choice: unexpected field ${t}`)}}return t}function m(e,t){if(!Array.isArray(e)){throw new Error("Invalid service config list")}for(const n of e){const e=p(n);if(typeof e.percentage==="number"&&t>e.percentage){continue}if(Array.isArray(e.clientHostname)){let t=false;for(const n of e.clientHostname){if(n===r.hostname()){t=true}}if(!t){continue}}if(Array.isArray(e.clientLanguage)){let t=false;for(const n of e.clientLanguage){if(n===a){t=true}}if(!t){continue}}return e.serviceConfig}throw new Error("No matching service config found")}function g(e,t){for(const n of e){if(n.length>0&&n[0].startsWith("grpc_config=")){const e=n.join("").substring("grpc_config=".length);const r=JSON.parse(e);return m(r,t)}}return null}t.extractAndSelectServiceConfig=g},22586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{getComponentTypeModule:function(){return o},getLayoutOrPageModule:function(){return s}});const i=n(35499);async function s(e){const{layout:t,page:n,defaultPage:r}=e[2];const s=typeof t!=="undefined";const o=typeof n!=="undefined";const a=typeof r!=="undefined"&&e[0]===i.DEFAULT_SEGMENT_KEY;let c=undefined;let u=undefined;let l=undefined;if(s){c=await t[0]();u="layout";l=t[1]}else if(o){c=await n[0]();u="page";l=n[1]}else if(a){c=await r[0]();u="page";l=r[1]}return{mod:c,modType:u,filePath:l}}async function o(e,t){const{[t]:n}=e[2];if(typeof n!=="undefined"){return await n[0]()}return undefined}},23158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{RequestCookies:function(){return i.RequestCookies},ResponseCookies:function(){return i.ResponseCookies},stringifyCookie:function(){return i.stringifyCookie}});const i=n(70635)},24207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{METADATA_BOUNDARY_NAME:function(){return r},OUTLET_BOUNDARY_NAME:function(){return s},VIEWPORT_BOUNDARY_NAME:function(){return i}});const r="__next_metadata_boundary__";const i="__next_viewport_boundary__";const s="__next_outlet_boundary__"},24224:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(49384);const i=e=>typeof e==="boolean"?`${e}`:e===0?"0":e;const s=r.$;const o=(e,t)=>n=>{var r;if((t===null||t===void 0?void 0:t.variants)==null)return s(e,n===null||n===void 0?void 0:n.class,n===null||n===void 0?void 0:n.className);const{variants:o,defaultVariants:a}=t;const c=Object.keys(o).map(e=>{const t=n===null||n===void 0?void 0:n[e];const r=a===null||a===void 0?void 0:a[e];if(t===null)return null;const s=i(t)||i(r);return o[e][s]});const u=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;if(r===undefined){return e}e[n]=r;return e},{});const l=t===null||t===void 0?void 0:(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...u}[t]):({...a,...u})[t]===n})?[...e,n,r]:e},[]);return s(e,c,l,n===null||n===void 0?void 0:n.class,n===null||n===void 0?void 0:n.className)}},25028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(43210);var i=n(51215);var s=n(14163);var o=n(66156);var a=n(60687);var c="Portal";var u=r.forwardRef((e,t)=>{const{container:n,...c}=e;const[u,l]=r.useState(false);(0,o.N)(()=>l(true),[]);const d=n||u&&globalThis?.document?.body;return d?i.createPortal((0,a.jsx)(s.sG.div,{...c,ref:t}),d):null});u.displayName=c;var l=null&&u},25585:(e,t,n)=>{"use strict";e.exports=o;var r=n(73267);((o.prototype=Object.create(r.prototype)).constructor=o).className="MapField";var i=n(61810),s=n(93107);function o(e,t,n,i,o,a){r.call(this,e,t,i,undefined,undefined,o,a);if(!s.isString(n))throw TypeError("keyType must be a string");this.keyType=n;this.resolvedKeyType=null;this.map=true}o.fromJSON=function e(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)};o.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])};o.prototype.resolve=function e(){if(this.resolved)return this;if(i.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)};o.d=function e(e,t,n){if(typeof n==="function")n=s.decorateType(n).name;else if(n&&typeof n==="object")n=s.decorateEnum(n).name;return function r(r,i){s.decorateType(r.constructor).add(new o(i,e,t,n))}}},25678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StreamDecoder=void 0;var n;(function(e){e[e["NO_DATA"]=0]="NO_DATA";e[e["READING_SIZE"]=1]="READING_SIZE";e[e["READING_MESSAGE"]=2]="READING_MESSAGE"})(n||(n={}));class r{constructor(e){this.maxReadMessageLength=e;this.readState=n.NO_DATA;this.readCompressFlag=Buffer.alloc(1);this.readPartialSize=Buffer.alloc(4);this.readSizeRemaining=4;this.readMessageSize=0;this.readPartialMessage=[];this.readMessageRemaining=0}write(e){let t=0;let r;const i=[];while(t<e.length){switch(this.readState){case n.NO_DATA:this.readCompressFlag=e.slice(t,t+1);t+=1;this.readState=n.READING_SIZE;this.readPartialSize.fill(0);this.readSizeRemaining=4;this.readMessageSize=0;this.readMessageRemaining=0;this.readPartialMessage=[];break;case n.READING_SIZE:r=Math.min(e.length-t,this.readSizeRemaining);e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+r);this.readSizeRemaining-=r;t+=r;if(this.readSizeRemaining===0){this.readMessageSize=this.readPartialSize.readUInt32BE(0);if(this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength){throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`)}this.readMessageRemaining=this.readMessageSize;if(this.readMessageRemaining>0){this.readState=n.READING_MESSAGE}else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=n.NO_DATA;i.push(e)}}break;case n.READING_MESSAGE:r=Math.min(e.length-t,this.readMessageRemaining);this.readPartialMessage.push(e.slice(t,t+r));this.readMessageRemaining-=r;t+=r;if(this.readMessageRemaining===0){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage);const t=Buffer.concat(e,this.readMessageSize+5);this.readState=n.NO_DATA;i.push(t)}break;default:throw new Error("Unexpected read state")}}return i}}t.StreamDecoder=r},26191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{NEXT_REQUEST_META:function(){return r},addRequestMeta:function(){return o},getRequestMeta:function(){return i},removeRequestMeta:function(){return a},setRequestMeta:function(){return s}});const r=Symbol.for("NextInternalRequestMeta");function i(e,t){const n=e[r]||{};return typeof t==="string"?n[t]:n}function s(e,t){e[r]=t;return t}function o(e,t,n){const r=i(e);r[t]=n;return s(e,r)}function a(e,t){const n=i(e);delete n[t];return s(e,n)}},26996:(e,t,n)=>{"use strict";e.exports=c;var r=n(8707);var i;var s=r.LongBits,o=r.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e;this.pos=0;this.len=e.length}var u=typeof Uint8Array!=="undefined"?function e(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function e(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};var l=function e(){return r.Buffer?function e(e){return(c.create=function e(e){return r.Buffer.isBuffer(e)?new i(e):u(e)})(e)}:u};c.create=l();c.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice;c.prototype.uint32=function e(){var e=0xffffffff;return function t(){e=(this.buf[this.pos]&127)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(this.buf[this.pos]&127)<<7)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(this.buf[this.pos]&127)<<14)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(this.buf[this.pos]&127)<<21)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(this.buf[this.pos]&15)<<28)>>>0;if(this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len){this.pos=this.len;throw a(this,10)}return e}}();c.prototype.int32=function e(){return this.uint32()|0};c.prototype.sint32=function e(){var e=this.uint32();return e>>>1^-(e&1)|0};function d(){var e=new s(0,0);var t=0;if(this.len-this.pos>4){for(;t<4;++t){e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0;e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0;if(this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0;return e}if(this.len-this.pos>4){for(;t<5;++t){e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}else{for(;t<5;++t){if(this.pos>=this.len)throw a(this);e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}throw Error("invalid varint encoding")}c.prototype.bool=function e(){return this.uint32()!==0};function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}c.prototype.fixed32=function e(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)};c.prototype.sfixed32=function e(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)|0};function h(){if(this.pos+8>this.len)throw a(this,8);return new s(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.prototype.float=function e(){if(this.pos+4>this.len)throw a(this,4);var e=r.float.readFloatLE(this.buf,this.pos);this.pos+=4;return e};c.prototype.double=function e(){if(this.pos+8>this.len)throw a(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);this.pos+=8;return e};c.prototype.bytes=function e(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);this.pos+=e;if(Array.isArray(this.buf))return this.buf.slice(t,n);if(t===n){var i=r.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,n)};c.prototype.string=function e(){var e=this.bytes();return o.read(e,0,e.length)};c.prototype.skip=function e(e){if(typeof e==="number"){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else{do{if(this.pos>=this.len)throw a(this)}while(this.buf[this.pos++]&128)}return this};c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while((e=this.uint32()&7)!==4){this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};c._configure=function(e){i=e;c.create=l();i._configure();var t=r.Long?"toLong":"toNumber";r.merge(c.prototype,{int64:function e(){return d.call(this)[t](false)},uint64:function e(){return d.call(this)[t](true)},sint64:function e(){return d.call(this).zzDecode()[t](false)},fixed64:function e(){return h.call(this)[t](true)},sfixed64:function e(){return h.call(this)[t](false)}})}},27236:(e,t,n)=>{"use strict";var r=t;r.Service=n(86984)},27408:(e,t,n)=>{"use strict";e.exports=T;T.filename=null;T.defaults={keepCase:false};var r=n(60158),i=n(82703),s=n(54351),o=n(73267),a=n(25585),c=n(12630),u=n(32110),l=n(3076),d=n(71202),f=n(64824),h=n(61810),p=n(93107);var m=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,_=/^-?0[0-7]+$/,E=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,S=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function T(e,t,n){if(!(t instanceof i)){n=t;t=new i}if(!n)n=T.defaults;var C=n.preferTrailingComment||false;var R=r(e,n.alternateCommentMode||false),I=R.next,O=R.push,A=R.peek,P=R.skip,N=R.cmnt;var x=true,D,k,M,L="proto2";var j=t;var F=[];var B={};var U=n.keepCase?function(e){return e}:p.camelCase;function V(){F.forEach(e=>{e._edition=L;Object.keys(B).forEach(t=>{if(e.getOption(t)!==undefined)return;e.setOption(t,B[t],true)})})}function z(e,t,n){var r=T.filename;if(!n)T.filename=null;return Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+R.line+")")}function q(){var e=[],t;do{if((t=I())!=='"'&&t!=="'")throw z(t);e.push(I());P(t);t=A()}while(t==='"'||t==="'");return e.join("")}function G(e){var t=I();switch(t){case"'":case'"':O(t);return q();case"true":case"TRUE":return true;case"false":case"FALSE":return false}try{return H(t,true)}catch(n){if(e&&S.test(t))return t;throw z(t,"value")}}function $(e,t){var n,r;do{if(t&&((n=A())==='"'||n==="'")){var i=q();e.push(i);if(L>=2023){throw z(i,"id")}}else{try{e.push([r=W(I()),P("to",true)?W(I()):r])}catch(r){if(t&&S.test(n)&&L>=2023){e.push(n)}else{throw r}}}}while(P(",",true));var s={options:undefined};s.setOption=function(e,t){if(this.options===undefined)this.options={};this.options[e]=t};Z(s,function e(e){if(e==="option"){ea(s,e);P(";")}else throw z(e)},function e(){ed(s)})}function H(e,t){var n=1;if(e.charAt(0)==="-"){n=-1;e=e.substring(1)}switch(e){case"inf":case"INF":case"Inf":return n*Infinity;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(m.test(e))return n*parseInt(e,10);if(y.test(e))return n*parseInt(e,16);if(b.test(e))return n*parseInt(e,8);if(E.test(e))return n*parseFloat(e);throw z(e,"number",t)}function W(e,t){switch(e){case"max":case"MAX":case"Max":return 0x1fffffff;case"0":return 0}if(!t&&e.charAt(0)==="-")throw z(e,"id");if(g.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(_.test(e))return parseInt(e,8);throw z(e,"id")}function K(){if(D!==undefined)throw z("package");D=I();if(!S.test(D))throw z(D,"name");j=j.define(D);P(";")}function Q(){var e=A();var t;switch(e){case"weak":t=M||(M=[]);I();break;case"public":I();default:t=k||(k=[]);break}e=q();P(";");t.push(e)}function Y(){P("=");L=q();if(L<2023)throw z(L,"syntax");P(";")}function X(){P("=");L=q();const e=["2023"];if(!e.includes(L))throw z(L,"edition");P(";")}function J(e,t){switch(t){case"option":ea(e,t);P(";");return true;case"message":ee(e,t);return true;case"enum":es(e,t);return true;case"service":ef(e,t);return true;case"extend":ep(e,t);return true}return false}function Z(e,t,n){var r=R.line;if(e){if(typeof e.comment!=="string"){e.comment=N()}e.filename=T.filename}if(P("{",true)){var i;while((i=I())!=="}")t(i);P(";",true)}else{if(n)n();P(";");if(e&&(typeof e.comment!=="string"||C))e.comment=N(r)||e.comment}}function ee(e,t){if(!w.test(t=I()))throw z(t,"type name");var n=new s(t);Z(n,function e(e){if(J(n,e))return;switch(e){case"map":er(n,e);break;case"required":if(L!=="proto2")throw z(e);case"repeated":et(n,e);break;case"optional":if(L==="proto3"){et(n,"proto3_optional")}else if(L!=="proto2"){throw z(e)}else{et(n,"optional")}break;case"oneof":ei(n,e);break;case"extensions":$(n.extensions||(n.extensions=[]));break;case"reserved":$(n.reserved||(n.reserved=[]),true);break;default:if(L==="proto2"||!S.test(e)){throw z(e)}O(e);et(n,"optional");break}});e.add(n);if(e===j){F.push(n)}}function et(e,t,n){var r=I();if(r==="group"){en(e,t);return}while(r.endsWith(".")||A().startsWith(".")){r+=I()}if(!S.test(r))throw z(r,"type");var i=I();if(!w.test(i))throw z(i,"name");i=U(i);P("=");var s=new o(i,W(I()),r,t,n);Z(s,function e(e){if(e==="option"){ea(s,e);P(";")}else throw z(e)},function e(){ed(s)});if(t==="proto3_optional"){var a=new c("_"+i);s.setOption("proto3_optional",true);a.add(s);e.add(a)}else{e.add(s)}if(e===j){F.push(s)}}function en(e,t){if(L>=2023){throw z("group")}var n=I();if(!w.test(n))throw z(n,"name");var r=p.lcFirst(n);if(n===r)n=p.ucFirst(n);P("=");var i=W(I());var a=new s(n);a.group=true;var c=new o(r,i,n,t);c.filename=T.filename;Z(a,function e(e){switch(e){case"option":ea(a,e);P(";");break;case"required":case"repeated":et(a,e);break;case"optional":if(L==="proto3"){et(a,"proto3_optional")}else{et(a,"optional")}break;case"message":ee(a,e);break;case"enum":es(a,e);break;case"reserved":$(a.reserved||(a.reserved=[]),true);break;default:throw z(e)}});e.add(a).add(c)}function er(e){P("<");var t=I();if(h.mapKey[t]===undefined)throw z(t,"type");P(",");var n=I();if(!S.test(n))throw z(n,"type");P(">");var r=I();if(!w.test(r))throw z(r,"name");P("=");var i=new a(U(r),W(I()),t,n);Z(i,function e(e){if(e==="option"){ea(i,e);P(";")}else throw z(e)},function e(){ed(i)});e.add(i)}function ei(e,t){if(!w.test(t=I()))throw z(t,"name");var n=new c(U(t));Z(n,function e(e){if(e==="option"){ea(n,e);P(";")}else{O(e);et(n,"optional")}});e.add(n)}function es(e,t){if(!w.test(t=I()))throw z(t,"name");var n=new u(t);Z(n,function e(e){switch(e){case"option":ea(n,e);P(";");break;case"reserved":$(n.reserved||(n.reserved=[]),true);if(n.reserved===undefined)n.reserved=[];break;default:eo(n,e)}});e.add(n);if(e===j){F.push(n)}}function eo(e,t){if(!w.test(t))throw z(t,"name");P("=");var n=W(I(),true),r={options:undefined};r.getOption=function(e){return this.options[e]};r.setOption=function(e,t){f.prototype.setOption.call(r,e,t)};r.setParsedOption=function(){return undefined};Z(r,function e(e){if(e==="option"){ea(r,e);P(";")}else throw z(e)},function e(){ed(r)});e.add(t,n,r.comment,r.parsedOptions||r.options)}function ea(e,t){var n;var r;var i=true;if(t==="option"){t=I()}while(t!=="="){if(t==="("){var s=I();P(")");t="("+s+")"}if(i){i=false;if(t.includes(".")&&!t.includes("(")){var o=t.split(".");n=o[0]+".";t=o[1];continue}n=t}else{r=r?r+=t:t}t=I()}var a=r?n.concat(r):n;var c=ec(e,a);r=r&&r[0]==="."?r.slice(1):r;n=n&&n[n.length-1]==="."?n.slice(0,-1):n;el(e,n,c,r)}function ec(e,t){if(P("{",true)){var n={};while(!P("}",true)){if(!w.test(em=I())){throw z(em,"name")}if(em===null){throw z(em,"end of input")}var r;var i=em;P(":",true);if(A()==="{"){r=ec(e,t+"."+em)}else if(A()==="["){r=[];var s;if(P("[",true)){do{s=G(true);r.push(s)}while(P(",",true));P("]");if(typeof s!=="undefined"){eu(e,t+"."+em,s)}}}else{r=G(true);eu(e,t+"."+em,r)}var o=n[i];if(o)r=[].concat(o).concat(r);n[i]=r;P(",",true);P(";",true)}return n}var a=G(true);eu(e,t,a);return a}function eu(e,t,n){if(j===e&&/^features\./.test(t)){B[t]=n;return}if(e.setOption)e.setOption(t,n)}function el(e,t,n,r){if(e.setParsedOption)e.setParsedOption(t,n,r)}function ed(e){if(P("[",true)){do{ea(e,"option")}while(P(",",true));P("]")}return e}function ef(e,t){if(!w.test(t=I()))throw z(t,"service name");var n=new l(t);Z(n,function e(e){if(J(n,e)){return}if(e==="rpc")eh(n,e);else throw z(e)});e.add(n);if(e===j){F.push(n)}}function eh(e,t){var n=N();var r=t;if(!w.test(t=I()))throw z(t,"name");var i=t,s,o,a,c;P("(");if(P("stream",true))o=true;if(!S.test(t=I()))throw z(t);s=t;P(")");P("returns");P("(");if(P("stream",true))c=true;if(!S.test(t=I()))throw z(t);a=t;P(")");var u=new d(i,r,s,a,o,c);u.comment=n;Z(u,function e(e){if(e==="option"){ea(u,e);P(";")}else throw z(e)});e.add(u)}function ep(e,t){if(!S.test(t=I()))throw z(t,"reference");var n=t;Z(null,function t(t){switch(t){case"required":case"repeated":et(e,t,n);break;case"optional":if(L==="proto3"){et(e,"proto3_optional",n)}else{et(e,"optional",n)}break;default:if(L==="proto2"||!S.test(t))throw z(t);O(t);et(e,"optional",n);break}})}var em;while((em=I())!==null){switch(em){case"package":if(!x)throw z(em);K();break;case"import":if(!x)throw z(em);Q();break;case"syntax":if(!x)throw z(em);Y();break;case"edition":if(!x)throw z(em);X();break;case"option":ea(j,em);P(";",true);break;default:if(J(j,em)){x=false;continue}throw z(em)}}V();T.filename=null;return{"package":D,"imports":k,weakImports:M,root:t}}},27603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;const r=n(29021);const i=n(33873);const s=n(68474);function o(e,t){const n=e.resolvePath;e.resolvePath=(e,s)=>{if(i.isAbsolute(s)){return s}for(const e of t){const t=i.join(e,s);try{r.accessSync(t,r.constants.R_OK);return t}catch(e){continue}}process.emitWarning(`${s} not found in any of the include paths ${t}`);return n(e,s)}}async function a(e,t){const n=new s.Root;t=t||{};if(!!t.includeDirs){if(!Array.isArray(t.includeDirs)){return Promise.reject(new Error("The includeDirs option must be an array"))}o(n,t.includeDirs)}const r=await n.load(e,t);r.resolveAll();return r}t.loadProtosWithOptions=a;function c(e,t){const n=new s.Root;t=t||{};if(!!t.includeDirs){if(!Array.isArray(t.includeDirs)){throw new Error("The includeDirs option must be an array")}o(n,t.includeDirs)}const r=n.loadSync(e,t);r.resolveAll();return r}t.loadProtosWithOptionsSync=c;function u(){const e=n(82566);const t=n(20040);const r=n(56271);const i=n(96138);s.common("api",e.nested.google.nested.protobuf.nested);s.common("descriptor",t.nested.google.nested.protobuf.nested);s.common("source_context",r.nested.google.nested.protobuf.nested);s.common("type",i.nested.google.nested.protobuf.nested)}t.addCommonProtos=u},27748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ResolvingLoadBalancer=void 0;const r=n(30598);const i=n(22487);const s=n(20920);const o=n(98605);const a=n(70757);const c=n(86693);const u=n(93122);const l=n(99978);const d=n(63038);const f=n(93122);const h=n(57213);const p=n(4976);const m="resolving_load_balancer";function g(e){d.trace(f.LogVerbosity.DEBUG,m,e)}const y=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function v(e,t,n,r){for(const i of n.name){switch(r){case"EMPTY":if(!i.service&&!i.method){return true}break;case"SERVICE":if(i.service===e&&!i.method){return true}break;case"SERVICE_AND_METHOD":if(i.service===e&&i.method===t){return true}}}return false}function b(e,t,n,r){for(const i of n){if(v(e,t,i,r)){return i}}return null}function _(e){return function t(t,n){var r,i;const s=t.split("/").filter(e=>e.length>0);const o=(r=s[0])!==null&&r!==void 0?r:"";const a=(i=s[1])!==null&&i!==void 0?i:"";if(e&&e.methodConfig){for(const t of y){const n=b(o,a,e.methodConfig,t);if(n){return{methodConfig:n,pickInformation:{},status:u.Status.OK,dynamicFilterFactories:[]}}}}return{methodConfig:{name:[]},pickInformation:{},status:u.Status.OK,dynamicFilterFactories:[]}}}class E{constructor(e,t,n,d,f){this.target=e;this.channelControlHelper=t;this.onSuccessfulResolution=d;this.onFailedResolution=f;this.latestChildState=s.ConnectivityState.IDLE;this.latestChildPicker=new a.QueuePicker(this);this.currentState=s.ConnectivityState.IDLE;this.previousServiceConfig=null;this.continueResolving=false;if(n["grpc.service_config"]){this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(n["grpc.service_config"]))}else{this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]}}this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this));this.childLoadBalancer=new p.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{if(this.backoffTimeout.isRunning()){g("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString());this.continueResolving=true}else{this.updateResolution()}},updateState:(e,t)=>{this.latestChildState=e;this.latestChildPicker=t;this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)});this.innerResolver=(0,o.createResolver)(e,{onSuccessfulResolution:(e,t,n,i,s)=>{var o;this.backoffTimeout.stop();this.backoffTimeout.reset();let a=null;if(t===null){if(n===null){this.previousServiceConfig=null;a=this.defaultServiceConfig}else{if(this.previousServiceConfig===null){this.handleResolutionFailure(n)}else{a=this.previousServiceConfig}}}else{a=t;this.previousServiceConfig=t}const c=(o=a===null||a===void 0?void 0:a.loadBalancingConfig)!==null&&o!==void 0?o:[];const d=(0,r.getFirstUsableConfig)(c,true);if(d===null){this.handleResolutionFailure({code:u.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new l.Metadata});return}this.childLoadBalancer.updateAddressList(e,d,s);const f=a!==null&&a!==void 0?a:this.defaultServiceConfig;this.onSuccessfulResolution(f,i!==null&&i!==void 0?i:_(f))},onError:e=>{this.handleResolutionFailure(e)}},n);const h={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new c.BackoffTimeout(()=>{if(this.continueResolving){this.updateResolution();this.continueResolving=false}else{this.updateState(this.latestChildState,this.latestChildPicker)}},h);this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution();if(this.currentState===s.ConnectivityState.IDLE){this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this))}this.backoffTimeout.runOnce()}updateState(e,t){g((0,h.uriToString)(this.target)+" "+s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[e]);if(e===s.ConnectivityState.IDLE){t=new a.QueuePicker(this)}this.currentState=e;this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){if(this.latestChildState===s.ConnectivityState.IDLE){this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e));this.onFailedResolution(e)}}exitIdle(){if(this.currentState===s.ConnectivityState.IDLE||this.currentState===s.ConnectivityState.TRANSIENT_FAILURE){if(this.backoffTimeout.isRunning()){this.continueResolving=true}else{this.updateResolution()}}this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset();this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy();this.innerResolver.destroy();this.backoffTimeout.reset();this.backoffTimeout.stop();this.latestChildState=s.ConnectivityState.IDLE;this.latestChildPicker=new a.QueuePicker(this);this.currentState=s.ConnectivityState.IDLE;this.previousServiceConfig=null;this.continueResolving=false}getTypeName(){return"resolving_load_balancer"}}t.ResolvingLoadBalancer=E},27924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ClientSegmentRoot",{enumerable:true,get:function(){return s}});const r=n(60687);const i=n(75539);function s(e){let{Component:t,slots:s,params:o,promise:a}=e;if(true){const{workAsyncStorage:e}=n(29294);let a;const c=e.getStore();if(!c){throw Object.defineProperty(new i.InvariantError("Expected workStore to exist when handling params in a client segment such as a Layout or Template."),"__NEXT_ERROR_CODE",{value:"E600",enumerable:false,configurable:true})}const{createParamsFromClient:u}=n(60824);a=u(o,c);return(0,r.jsx)(t,{...s,params:a})}else{}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},28827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{AsyncMetadata:function(){return o},AsyncMetadataOutlet:function(){return c}});const i=n(60687);const s=n(43210);const o=true?n(85429).ServerInsertMetadata:0;function a(e){let{promise:t}=e;const{error:n,digest:r}=(0,s.use)(t);if(n){if(r){;n.digest=r}throw n}return null}function c(e){let{promise:t}=e;return(0,i.jsx)(s.Suspense,{fallback:null,children:(0,i.jsx)(a,{promise:t})})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},28938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"collectSegmentData",{enumerable:true,get:function(){return d}});const r=n(37413);const i=n(52513);const s=n(93972);const o=n(77855);const a=n(44523);const c=n(8670);const u=n(62713);function l(e){const t=(0,u.getDigestForWellKnownError)(e);if(t){return t}}async function d(e,t,n,c,u,d){const h=new Map;try{await (0,i.createFromReadableStream)((0,o.streamFromBuffer)(t),{serverConsumerManifest:u});await (0,a.waitAtLeastOneReactRenderTask)()}catch{}const p=new AbortController;const m=async()=>{await (0,a.waitAtLeastOneReactRenderTask)();p.abort()};const g=[];const{prelude:y}=await (0,s.unstable_prerender)((0,r.jsx)(f,{shouldAssumePartialData:e,fullPageDataBuffer:t,fallbackRouteParams:d,serverConsumerManifest:u,clientModules:c,staleTime:n,segmentTasks:g,onCompletedProcessingRouteTree:m}),c,{signal:p.signal,onError:l});const v=await (0,o.streamToBuffer)(y);h.set("/_tree",v);for(const[e,t]of(await Promise.all(g))){h.set(e,t)}return h}async function f({shouldAssumePartialData:e,fullPageDataBuffer:t,fallbackRouteParams:n,serverConsumerManifest:r,clientModules:s,staleTime:a,segmentTasks:u,onCompletedProcessingRouteTree:l}){const d=await (0,i.createFromReadableStream)(y((0,o.streamFromBuffer)(t)),{serverConsumerManifest:r});const f=d.b;const p=d.f;if(p.length!==1&&p[0].length!==3){console.error("Internal Next.js error: InitialRSCPayload does not match the expected "+"shape for a prerendered page during segment prefetch generation.");return null}const m=p[0][0];const v=p[0][1];const b=p[0][2];const _=h(e,m,f,v,n,t,s,r,c.ROOT_SEGMENT_KEY,u);const E=e||await g(b,s);l();const w={buildId:f,tree:_,head:b,isHeadPartial:E,staleTime:a};return w}function h(e,t,n,r,i,s,o,u,l,d){let f=null;const g=t[1];const y=r!==null?r[2]:null;for(const t in g){const r=g[t];const a=r[0];const m=y!==null?y[t]:null;const v=(0,c.encodeChildSegmentKey)(l,t,Array.isArray(a)&&i!==null?p(a,i):(0,c.encodeSegment)(a));const b=h(e,r,n,m,i,s,o,u,v,d);if(f===null){f={}}f[t]=b}if(r!==null){d.push((0,a.waitAtLeastOneReactRenderTask)().then(()=>m(e,n,r,l,o)))}else{}return{segment:t[0],slots:f,isRootLayout:t[4]===true}}function p(e,t){const n=e[0];if(!t.has(n)){return(0,c.encodeSegment)(e)}const r=(0,c.encodeSegment)(e);const i=r.lastIndexOf("$");const s=r.substring(0,i+1)+`[${n}]`;return s}async function m(e,t,n,r,i){const u=n[1];const d=n[3];const f={buildId:t,rsc:u,loading:d,isPartial:e||await g(u,i)};const h=new AbortController;(0,a.waitAtLeastOneReactRenderTask)().then(()=>h.abort());const{prelude:p}=await (0,s.unstable_prerender)(f,i,{signal:h.signal,onError:l});const m=await (0,o.streamToBuffer)(p);if(r===c.ROOT_SEGMENT_KEY){return["/_index",m]}else{return[r,m]}}async function g(e,t){let n=false;const r=new AbortController;(0,a.waitAtLeastOneReactRenderTask)().then(()=>{n=true;r.abort()});await (0,s.unstable_prerender)(e,t,{signal:r.signal,onError(){}});return n}function y(e){const t=e.getReader();return new ReadableStream({async pull(e){while(true){const{done:n,value:r}=await t.read();if(!n){e.enqueue(r);continue}return}}})}},29169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"cloneResponse",{enumerable:true,get:function(){return n}});function n(e){if(!e.body){return[e,e]}const[t,n]=e.body.tee();const r=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(r,"url",{value:e.url});const i=new Response(n,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(i,"url",{value:e.url});return[r,i]}},29345:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/Users/joaquin/gesticom_2.0/frontend/node_modules/next/dist/client/components/layout-router.js")},30598:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0;function n(e,t){var n,r,i,s,o,a,c,u,l,d;return{createSubchannel:(r=(n=t.createSubchannel)===null||n===void 0?void 0:n.bind(t))!==null&&r!==void 0?r:e.createSubchannel.bind(e),updateState:(s=(i=t.updateState)===null||i===void 0?void 0:i.bind(t))!==null&&s!==void 0?s:e.updateState.bind(e),requestReresolution:(a=(o=t.requestReresolution)===null||o===void 0?void 0:o.bind(t))!==null&&a!==void 0?a:e.requestReresolution.bind(e),addChannelzChild:(u=(c=t.addChannelzChild)===null||c===void 0?void 0:c.bind(t))!==null&&u!==void 0?u:e.addChannelzChild.bind(e),removeChannelzChild:(d=(l=t.removeChannelzChild)===null||l===void 0?void 0:l.bind(t))!==null&&d!==void 0?d:e.removeChannelzChild.bind(e)}}t.createChildChannelControlHelper=n;const r={};let i=null;function s(e,t,n){r[e]={LoadBalancer:t,LoadBalancingConfig:n}}t.registerLoadBalancerType=s;function o(e){i=e}t.registerDefaultLoadBalancerType=o;function a(e,t){const n=e.getLoadBalancerName();if(n in r){return new r[n].LoadBalancer(t)}else{return null}}t.createLoadBalancer=a;function c(e){return e in r}t.isLoadBalancerNameRegistered=c;function u(e,t=false){for(const t of e){if(t.getLoadBalancerName()in r){return t}}if(t){if(i){return new r[i].LoadBalancingConfig}else{return null}}else{return null}}t.getFirstUsableConfig=u;function l(e){if(!(e!==null&&typeof e==="object")){throw new Error("Load balancing config must be an object")}const t=Object.keys(e);if(t.length!==1){throw new Error("Provided load balancing config has multiple conflicting entries")}const n=t[0];if(n in r){return r[n].LoadBalancingConfig.createFromJson(e[n])}else{throw new Error(`Unrecognized load balancing config name ${n}`)}}t.validateLoadBalancingConfig=l},30847:(e,t,n)=>{"use strict";e.exports=a;var r=n(32110),i=n(61810),s=n(93107);function o(e,t,n,r){return t.delimited?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}function a(e){var t=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()");var n,a;var c=e.fieldsArray.slice().sort(s.compareFieldsById);for(var n=0;n<c.length;++n){var u=c[n].resolve(),l=e._fieldsArray.indexOf(u),d=u.resolvedType instanceof r?"int32":u.type,f=i.basic[d];a="m"+s.safeProp(u.name);if(u.map){t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",a,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",a)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType);if(f===undefined)t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,a);else t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,d,a);t("}")("}")}else if(u.repeated){t("if(%s!=null&&%s.length){",a,a);if(u.packed&&i.packed[d]!==undefined){t("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",a)("w.%s(%s[i])",d,a)("w.ldelim()")}else{t("for(var i=0;i<%s.length;++i)",a);if(f===undefined)o(t,u,l,a+"[i]");else t("w.uint32(%i).%s(%s[i])",(u.id<<3|f)>>>0,d,a)}t("}")}else{if(u.optional)t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",a,u.name);if(f===undefined)o(t,u,l,a);else t("w.uint32(%i).%s(%s)",(u.id<<3|f)>>>0,d,a)}}return t("return w")}},30893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ClientPageRoot:function(){return d.ClientPageRoot},ClientSegmentRoot:function(){return f.ClientSegmentRoot},HTTPAccessFallbackBoundary:function(){return g.HTTPAccessFallbackBoundary},LayoutRouter:function(){return o.default},MetadataBoundary:function(){return b.MetadataBoundary},OutletBoundary:function(){return b.OutletBoundary},Postpone:function(){return E.Postpone},RenderFromTemplateContext:function(){return a.default},ViewportBoundary:function(){return b.ViewportBoundary},actionAsyncStorage:function(){return l.actionAsyncStorage},collectSegmentData:function(){return S.collectSegmentData},createMetadataComponents:function(){return y.createMetadataComponents},createPrerenderParamsForClientSegment:function(){return p.createPrerenderParamsForClientSegment},createPrerenderSearchParamsForClientPage:function(){return h.createPrerenderSearchParamsForClientPage},createServerParamsForMetadata:function(){return p.createServerParamsForMetadata},createServerParamsForServerSegment:function(){return p.createServerParamsForServerSegment},createServerSearchParamsForMetadata:function(){return h.createServerSearchParamsForMetadata},createServerSearchParamsForServerPage:function(){return h.createServerSearchParamsForServerPage},createTemporaryReferenceSet:function(){return i.createTemporaryReferenceSet},decodeAction:function(){return i.decodeAction},decodeFormState:function(){return i.decodeFormState},decodeReply:function(){return i.decodeReply},patchFetch:function(){return I},preconnect:function(){return _.preconnect},preloadFont:function(){return _.preloadFont},preloadStyle:function(){return _.preloadStyle},prerender:function(){return s.unstable_prerender},renderToReadableStream:function(){return i.renderToReadableStream},serverHooks:function(){return m},taintObjectReference:function(){return w.taintObjectReference},workAsyncStorage:function(){return c.workAsyncStorage},workUnitAsyncStorage:function(){return u.workUnitAsyncStorage}});const i=n(12907);const s=n(93972);const o=T(n(29345));const a=T(n(31307));const c=n(29294);const u=n(63033);const l=n(19121);const d=n(16444);const f=n(16042);const h=n(83091);const p=n(73102);const m=R(n(98479));const g=n(49477);const y=n(59521);const v=n(37719);n(88170);const b=n(46577);const _=n(72900);const E=n(61068);const w=n(96844);const S=n(28938);function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(C=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=C(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;if(o&&(o.get||o.set)){Object.defineProperty(r,s,o)}else{r[s]=e[s]}}}r.default=e;if(n){n.set(e,r)}return r}function I(){return(0,v.patchFetch)({workAsyncStorage:c.workAsyncStorage,workUnitAsyncStorage:u.workUnitAsyncStorage})}},30898:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{isNodeNextRequest:function(){return s},isNodeNextResponse:function(){return o},isWebNextRequest:function(){return r},isWebNextResponse:function(){return i}});const r=e=>"nodejs"==="edge";const i=e=>"nodejs"==="edge";const s=e=>"nodejs"!=="edge";const o=e=>"nodejs"!=="edge"},30948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CompressionFilterFactory=t.CompressionFilter=void 0;const r=n(74075);const i=n(75280);const s=n(93122);const o=n(20653);const a=n(63038);const c=e=>{return typeof e==="number"&&typeof i.CompressionAlgorithms[e]==="string"};class u{async writeMessage(e,t){let n=e;if(t){n=await this.compressMessage(n)}const r=Buffer.allocUnsafe(n.length+5);r.writeUInt8(t?1:0,0);r.writeUInt32BE(n.length,1);n.copy(r,5);return r}async readMessage(e){const t=e.readUInt8(0)===1;let n=e.slice(5);if(t){n=await this.decompressMessage(n)}return n}}class l extends u{async compressMessage(e){return e}async writeMessage(e,t){const n=Buffer.allocUnsafe(e.length+5);n.writeUInt8(0,0);n.writeUInt32BE(e.length,1);e.copy(n,5);return n}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class d extends u{constructor(e){super();this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,n)=>{r.deflate(e,(e,r)=>{if(e){n(e)}else{t(r)}})})}decompressMessage(e){return new Promise((t,n)=>{let i=0;const o=[];const a=r.createInflate();a.on("data",e=>{o.push(e);i+=e.byteLength;if(this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength){a.destroy();n({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`})}});a.on("end",()=>{t(Buffer.concat(o))});a.write(e);a.end()})}}class f extends u{constructor(e){super();this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,n)=>{r.gzip(e,(e,r)=>{if(e){n(e)}else{t(r)}})})}decompressMessage(e){return new Promise((t,n)=>{let i=0;const o=[];const a=r.createGunzip();a.on("data",e=>{o.push(e);i+=e.byteLength;if(this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength){a.destroy();n({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`})}});a.on("end",()=>{t(Buffer.concat(o))});a.write(e);a.end()})}}class h extends u{constructor(e){super();this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function p(e,t){switch(e){case"identity":return new l;case"deflate":return new d(t);case"gzip":return new f(t);default:return new h(e)}}class m extends o.BaseFilter{constructor(e,t){var n,r;super();this.sharedFilterConfig=t;this.sendCompression=new l;this.receiveCompression=new l;this.currentCompressionAlgorithm="identity";const o=e["grpc.default_compression_algorithm"];this.maxReceiveMessageLength=(n=e["grpc.max_receive_message_length"])!==null&&n!==void 0?n:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;if(o!==undefined){if(c(o)){const e=i.CompressionAlgorithms[o];const n=(r=t.serverSupportedEncodingHeader)===null||r===void 0?void 0:r.split(",");if(!n||n.includes(e)){this.currentCompressionAlgorithm=e;this.sendCompression=p(this.currentCompressionAlgorithm,-1)}}else{a.log(s.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${o}`)}}}async sendMetadata(e){const t=await e;t.set("grpc-accept-encoding","identity,deflate,gzip");t.set("accept-encoding","identity");if(this.currentCompressionAlgorithm==="identity"){t.remove("grpc-encoding")}else{t.set("grpc-encoding",this.currentCompressionAlgorithm)}return t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];if(typeof e==="string"){this.receiveCompression=p(e,this.maxReceiveMessageLength)}}e.remove("grpc-encoding");const n=e.get("grpc-accept-encoding")[0];if(n){this.sharedFilterConfig.serverSupportedEncodingHeader=n;const e=n.split(",");if(!e.includes(this.currentCompressionAlgorithm)){this.sendCompression=new l;this.currentCompressionAlgorithm="identity"}}e.remove("grpc-accept-encoding");return e}async sendMessage(e){var t;const n=await e;let r;if(this.sendCompression instanceof l){r=false}else{r=(((t=n.flags)!==null&&t!==void 0?t:0)&2)===0}return{message:await this.sendCompression.writeMessage(n.message,r),flags:n.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=m;class g{constructor(e,t){this.options=t;this.sharedFilterConfig={}}createFilter(){return new m(this.options,this.sharedFilterConfig)}}t.CompressionFilterFactory=g},30959:(e,t,n)=>{"use strict";var r;r={value:true};r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=t.ex=r=r=r=r=r=r=t.OS=t.z3=void 0;const i=n(35628);r={enumerable:true,get:function(){return i.CallCredentials}};const s=n(83232);r={enumerable:true,get:function(){return s.ChannelImplementation}};const o=n(75280);r={enumerable:true,get:function(){return o.CompressionAlgorithms}};const a=n(20920);r={enumerable:true,get:function(){return a.ConnectivityState}};const c=n(36551);r={enumerable:true,get:function(){return c.ChannelCredentials}};const u=n(40300);r={enumerable:true,get:function(){return u.Client}};const l=n(93122);r={enumerable:true,get:function(){return l.LogVerbosity}};r={enumerable:true,get:function(){return l.Status}};r={enumerable:true,get:function(){return l.Propagate}};const d=n(63038);const f=n(63865);Object.defineProperty(t,"ex",{enumerable:true,get:function(){return f.loadPackageDefinition}});r={enumerable:true,get:function(){return f.makeClientConstructor}};r={enumerable:true,get:function(){return f.makeClientConstructor}};const h=n(99978);Object.defineProperty(t,"OS",{enumerable:true,get:function(){return h.Metadata}});const p=n(68048);r={enumerable:true,get:function(){return p.Server}};const m=n(663);r={enumerable:true,get:function(){return m.ServerCredentials}};const g=n(17819);r={enumerable:true,get:function(){return g.StatusBuilder}};t.z3={combineChannelCredentials:(e,...t)=>{return t.reduce((e,t)=>e.compose(t),e)},combineCallCredentials:(e,...t)=>{return t.reduce((e,t)=>e.compose(t),e)},createInsecure:c.ChannelCredentials.createInsecure,createSsl:c.ChannelCredentials.createSsl,createFromSecureContext:c.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:i.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:i.CallCredentials.createFromGoogleCredential,createEmpty:i.CallCredentials.createEmpty};const y=e=>e.close();r=y;const v=(e,t,n)=>e.waitForReady(t,n);r=v;const b=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};r=b;const _=(e,t,n)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};r=_;const E=e=>{d.setLogger(e)};r=E;const w=e=>{d.setLoggerVerbosity(e)};r=w;const S=e=>{return u.Client.prototype.getChannel.call(e)};r=S;var T=n(90441);r={enumerable:true,get:function(){return T.ListenerBuilder}};r={enumerable:true,get:function(){return T.RequesterBuilder}};r={enumerable:true,get:function(){return T.InterceptingCall}};r={enumerable:true,get:function(){return T.InterceptorConfigurationError}};var C=n(37216);r={enumerable:true,get:function(){return C.getChannelzServiceDefinition}};r={enumerable:true,get:function(){return C.getChannelzHandlers}};var R=n(19780);r={enumerable:true,get:function(){return R.addAdminServicesToServer}};const I=n(43801);r=I;const O=n(42319);const A=n(73322);const P=n(4231);const N=n(6601);const x=n(58570);const D=n(4189);const k=n(37216);(()=>{O.setup();A.setup();P.setup();N.setup();x.setup();D.setup();k.setup()})()},31156:(e,t,n)=>{"use strict";e.exports=i;var r=n(8707);function i(e,t){this.lo=e>>>0;this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0};s.zzEncode=s.zzDecode=function(){return this};s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function e(e){if(e===0)return s;var t=e<0;if(t)e=-e;var n=e>>>0,r=(e-n)/0x100000000>>>0;if(t){r=~r>>>0;n=~n>>>0;if(++n>0xffffffff){n=0;if(++r>0xffffffff)r=0}}return new i(n,r)};i.from=function e(e){if(typeof e==="number")return i.fromNumber(e);if(r.isString(e)){if(r.Long)e=r.Long.fromString(e);else return i.fromNumber(parseInt(e,10))}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s};i.prototype.toNumber=function e(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;if(!t)n=n+1>>>0;return-(t+n*0x100000000)}return this.lo+this.hi*0x100000000};i.prototype.toLong=function e(e){return r.Long?new r.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function e(e){if(e===o)return s;return new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)};i.prototype.toHash=function e(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};i.prototype.zzEncode=function e(){var e=this.hi>>31;this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0;this.lo=(this.lo<<1^e)>>>0;return this};i.prototype.zzDecode=function e(){var e=-(this.lo&1);this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0;this.hi=(this.hi>>>1^e)>>>0;return this};i.prototype.length=function e(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},31162:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isNextRouterError",{enumerable:true,get:function(){return s}});const r=n(8704);const i=n(49026);function s(e){return(0,i.isRedirectError)(e)||(0,r.isHTTPAccessFallbackError)(e)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},31307:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/Users/joaquin/gesticom_2.0/frontend/node_modules/next/dist/client/components/render-from-template-context.js")},31355:(e,t,n)=>{"use strict";n.d(t,{lg:()=>T,qW:()=>g,bL:()=>S});var r=n(43210);var i=n(70569);var s=n(14163);var o=n(98599);var a=n(13495);function c(e,t=globalThis?.document){const n=(0,a.c)(e);r.useEffect(()=>{const e=e=>{if(e.key==="Escape"){n(e)}};t.addEventListener("keydown",e,{capture:true});return()=>t.removeEventListener("keydown",e,{capture:true})},[n,t])}var u=n(60687);var l="DismissableLayer";var d="dismissableLayer.update";var f="dismissableLayer.pointerDownOutside";var h="dismissableLayer.focusOutside";var p;var m=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var g=r.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=false,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:h,onDismiss:g,...y}=e;const v=r.useContext(m);const[w,S]=r.useState(null);const T=w?.ownerDocument??globalThis?.document;const[,C]=r.useState({});const R=(0,o.s)(t,e=>S(e));const I=Array.from(v.layers);const[O]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1);const A=I.indexOf(O);const P=w?I.indexOf(w):-1;const N=v.layersWithOutsidePointerEventsDisabled.size>0;const x=P>=A;const D=b(e=>{const t=e.target;const n=[...v.branches].some(e=>e.contains(t));if(!x||n)return;l?.(e);h?.(e);if(!e.defaultPrevented)g?.()},T);const k=_(e=>{const t=e.target;const n=[...v.branches].some(e=>e.contains(t));if(n)return;f?.(e);h?.(e);if(!e.defaultPrevented)g?.()},T);c(e=>{const t=P===v.layers.size-1;if(!t)return;a?.(e);if(!e.defaultPrevented&&g){e.preventDefault();g()}},T);r.useEffect(()=>{if(!w)return;if(n){if(v.layersWithOutsidePointerEventsDisabled.size===0){p=T.body.style.pointerEvents;T.body.style.pointerEvents="none"}v.layersWithOutsidePointerEventsDisabled.add(w)}v.layers.add(w);E();return()=>{if(n&&v.layersWithOutsidePointerEventsDisabled.size===1){T.body.style.pointerEvents=p}}},[w,T,n,v]);r.useEffect(()=>{return()=>{if(!w)return;v.layers.delete(w);v.layersWithOutsidePointerEventsDisabled.delete(w);E()}},[w,v]);r.useEffect(()=>{const e=()=>C({});document.addEventListener(d,e);return()=>document.removeEventListener(d,e)},[]);return(0,u.jsx)(s.sG.div,{...y,ref:R,style:{pointerEvents:N?x?"auto":"none":void 0,...e.style},onFocusCapture:(0,i.m)(e.onFocusCapture,k.onFocusCapture),onBlurCapture:(0,i.m)(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:(0,i.m)(e.onPointerDownCapture,D.onPointerDownCapture)})});g.displayName=l;var y="DismissableLayerBranch";var v=r.forwardRef((e,t)=>{const n=r.useContext(m);const i=r.useRef(null);const a=(0,o.s)(t,i);r.useEffect(()=>{const e=i.current;if(e){n.branches.add(e);return()=>{n.branches.delete(e)}}},[n.branches]);return(0,u.jsx)(s.sG.div,{...e,ref:a})});v.displayName=y;function b(e,t=globalThis?.document){const n=(0,a.c)(e);const i=r.useRef(false);const s=r.useRef(()=>{});r.useEffect(()=>{const e=e=>{if(e.target&&!i.current){let i=function(){w(f,n,o,{discrete:true})};var r=i;const o={originalEvent:e};if(e.pointerType==="touch"){t.removeEventListener("click",s.current);s.current=i;t.addEventListener("click",s.current,{once:true})}else{i()}}else{t.removeEventListener("click",s.current)}i.current=false};const r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r);t.removeEventListener("pointerdown",e);t.removeEventListener("click",s.current)}},[t,n]);return{onPointerDownCapture:()=>i.current=true}}function _(e,t=globalThis?.document){const n=(0,a.c)(e);const i=r.useRef(false);r.useEffect(()=>{const e=e=>{if(e.target&&!i.current){const t={originalEvent:e};w(h,n,t,{discrete:false})}};t.addEventListener("focusin",e);return()=>t.removeEventListener("focusin",e)},[t,n]);return{onFocusCapture:()=>i.current=true,onBlurCapture:()=>i.current=false}}function E(){const e=new CustomEvent(d);document.dispatchEvent(e)}function w(e,t,n,{discrete:r}){const i=n.originalEvent.target;const o=new CustomEvent(e,{bubbles:false,cancelable:true,detail:n});if(t)i.addEventListener(e,t,{once:true});if(r){(0,s.hO)(i,o)}else{i.dispatchEvent(o)}}var S=g;var T=v},32090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Subchannel=void 0;const r=n(20920);const i=n(86693);const s=n(63038);const o=n(93122);const a=n(57213);const c=n(98387);const u=n(37216);const l="subchannel";const d=~(1<<31);class f{constructor(e,t,n,s,o){var a;this.channelTarget=e;this.subchannelAddress=t;this.options=n;this.credentials=s;this.connector=o;this.connectivityState=r.ConnectivityState.IDLE;this.transport=null;this.continueConnecting=false;this.stateListeners=new Set;this.refcount=0;this.channelzEnabled=true;this.callTracker=new u.ChannelzCallTracker;this.childrenTracker=new u.ChannelzChildrenTracker;this.streamTracker=new u.ChannelzCallTracker;const l={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.handleBackoffTimer()},l);this.backoffTimeout.unref();this.subchannelAddressString=(0,c.subchannelAddressToString)(t);this.keepaliveTime=(a=n["grpc.keepalive_time_ms"])!==null&&a!==void 0?a:-1;if(n["grpc.enable_channelz"]===0){this.channelzEnabled=false}this.channelzTrace=new u.ChannelzTrace;this.channelzRef=(0,u.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Subchannel created")}this.trace("Subchannel constructed with options "+JSON.stringify(n,undefined,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){s.trace(o.LogVerbosity.DEBUG,l,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){s.trace(o.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){if(this.continueConnecting){this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.CONNECTING)}else{this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.IDLE)}}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop();this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){const t=Math.min(this.keepaliveTime,d);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{if(this.transitionToState([r.ConnectivityState.CONNECTING],r.ConnectivityState.READY)){this.transport=e;if(this.channelzEnabled){this.childrenTracker.refChild(e.getChannelzRef())}e.addDisconnectListener(e=>{this.transitionToState([r.ConnectivityState.READY],r.ConnectivityState.IDLE);if(e&&this.keepaliveTime>0){this.keepaliveTime*=2;s.log(o.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`)}})}else{e.shutdown()}},e=>{this.transitionToState([r.ConnectivityState.CONNECTING],r.ConnectivityState.TRANSIENT_FAILURE,`${e}`)})}transitionToState(e,t,n){var i,s;if(e.indexOf(this.connectivityState)===-1){return false}this.trace(r.ConnectivityState[this.connectivityState]+" -> "+r.ConnectivityState[t]);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+r.ConnectivityState[t])}const o=this.connectivityState;this.connectivityState=t;switch(t){case r.ConnectivityState.READY:this.stopBackoff();break;case r.ConnectivityState.CONNECTING:this.startBackoff();this.startConnectingInternal();this.continueConnecting=false;break;case r.ConnectivityState.TRANSIENT_FAILURE:if(this.channelzEnabled&&this.transport){this.childrenTracker.unrefChild(this.transport.getChannelzRef())}(i=this.transport)===null||i===void 0?void 0:i.shutdown();this.transport=null;if(!this.backoffTimeout.isRunning()){process.nextTick(()=>{this.handleBackoffTimer()})}break;case r.ConnectivityState.IDLE:if(this.channelzEnabled&&this.transport){this.childrenTracker.unrefChild(this.transport.getChannelzRef())}(s=this.transport)===null||s===void 0?void 0:s.shutdown();this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(const e of this.stateListeners){e(this,o,t,this.keepaliveTime,n)}return true}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1));this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1));this.refcount-=1;if(this.refcount===0){if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Shutting down")}if(this.channelzEnabled){(0,u.unregisterChannelzRef)(this.channelzRef)}process.nextTick(()=>{this.transitionToState([r.ConnectivityState.CONNECTING,r.ConnectivityState.READY],r.ConnectivityState.IDLE)})}}unrefIfOneRef(){if(this.refcount===1){this.unref();return true}return false}createCall(e,t,n,r){if(!this.transport){throw new Error("Cannot create call, subchannel not READY")}let i;if(this.channelzEnabled){this.callTracker.addCallStarted();this.streamTracker.addCallStarted();i={onCallEnd:e=>{if(e.code===o.Status.OK){this.callTracker.addCallSucceeded()}else{this.callTracker.addCallFailed()}}}}else{i={}}return this.transport.createCall(e,t,n,r,i)}startConnecting(){process.nextTick(()=>{if(!this.transitionToState([r.ConnectivityState.IDLE],r.ConnectivityState.CONNECTING)){if(this.connectivityState===r.ConnectivityState.TRANSIENT_FAILURE){this.continueConnecting=true}}})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset();this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e}}}t.Subchannel=f},32110:(e,t,n)=>{"use strict";e.exports=o;var r=n(64824);((o.prototype=Object.create(r.prototype)).constructor=o).className="Enum";var i=n(77968),s=n(93107);function o(e,t,n,i,s,o){r.call(this,e,n);if(t&&typeof t!=="object")throw TypeError("values must be an object");this.valuesById={};this.values=Object.create(this.valuesById);this.comment=i;this.comments=s||{};this.valuesOptions=o;this._valuesFeatures={};this.reserved=undefined;if(t){for(var a=Object.keys(t),c=0;c<a.length;++c)if(typeof t[a[c]]==="number")this.valuesById[this.values[a[c]]=t[a[c]]]=a[c]}}o.prototype._resolveFeatures=function e(e){e=this._edition||e;r.prototype._resolveFeatures.call(this,e);Object.keys(this.values).forEach(e=>{var t=Object.assign({},this._features);this._valuesFeatures[e]=Object.assign(t,this.valuesOptions&&this.valuesOptions[e]&&this.valuesOptions[e].features)});return this};o.fromJSON=function e(e,t){var n=new o(e,t.values,t.options,t.comment,t.comments);n.reserved=t.reserved;if(t.edition)n._edition=t.edition;n._defaultEdition="proto3";return n};o.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return s.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])};o.prototype.add=function e(e,t,n,r){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;if(r){if(this.valuesOptions===undefined)this.valuesOptions={};this.valuesOptions[e]=r||null}this.comments[e]=n||null;return this};o.prototype.remove=function e(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);delete this.valuesById[t];delete this.values[e];delete this.comments[e];if(this.valuesOptions)delete this.valuesOptions[e];return this};o.prototype.isReservedId=function e(e){return i.isReservedId(this.reserved,e)};o.prototype.isReservedName=function e(e){return i.isReservedName(this.reserved,e)}},33123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createRouterCacheKey",{enumerable:true,get:function(){return i}});const r=n(83913);function i(e,t){if(t===void 0)t=false;if(Array.isArray(e)){return e[0]+"|"+e[1]+"|"+e[2]}if(t&&e.startsWith(r.PAGE_SEGMENT_KEY)){return r.PAGE_SEGMENT_KEY}return e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},34346:e=>{"use strict";e.exports=n;var t=/\/|\./;function n(e,r){if(!t.test(e)){e="google/protobuf/"+e+".proto";r={nested:{google:{nested:{protobuf:{nested:r}}}}}}n[e]=r}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var r;n("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});n("timestamp",{Timestamp:r});n("empty",{Empty:{fields:{}}});n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});n.get=function e(e){return n[e]||null}},34436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createDedupeFetch",{enumerable:true,get:function(){return l}});const r=a(n(61120));const i=n(29169);const s=n(71617);function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=o(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;if(a&&(a.get||a.set)){Object.defineProperty(r,s,a)}else{r[s]=e[s]}}}r.default=e;if(n){n.set(e,r)}return r}const c='["GET",[],null,"follow",null,null,null,null]';function u(e){return JSON.stringify([e.method,Array.from(e.headers.entries()),e.mode,e.redirect,e.credentials,e.referrer,e.referrerPolicy,e.integrity])}function l(e){const t=r.cache(e=>[]);return function n(n,r){if(r&&r.signal){return e(n,r)}let o;let a;if(typeof n==="string"&&!r){a=c;o=n}else{const t=typeof n==="string"||n instanceof URL?new Request(n,r):n;if(t.method!=="GET"&&t.method!=="HEAD"||t.keepalive){return e(n,r)}a=u(t);o=t.url}const l=t(o);for(let e=0,t=l.length;e<t;e+=1){const[t,n]=l[e];if(t===a){return n.then(()=>{const t=l[e][2];if(!t)throw Object.defineProperty(new s.InvariantError("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:false,configurable:true});const[n,r]=(0,i.cloneResponse)(t);l[e][2]=r;return n})}}const d=e(n,r);const f=[a,d,null];l.push(f);return d.then(e=>{const[t,n]=(0,i.cloneResponse)(e);f[2]=n;return t})}}},34679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0;function n(...e){let t=Infinity;for(const n of e){const e=n instanceof Date?n.getTime():n;if(e<t){t=e}}return t}t.minDeadline=n;const r=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function i(e){const t=new Date().getTime();if(e instanceof Date){e=e.getTime()}const n=Math.max(e-t,0);for(const[e,t]of r){const r=n/t;if(r<1e8){return String(Math.ceil(r))+e}}throw new Error("Deadline is too far in the future")}t.getDeadlineTimeoutString=i;const s=0x7fffffff;function o(e){const t=e instanceof Date?e.getTime():e;const n=new Date().getTime();const r=t-n;if(r<0){return 0}else if(r>s){return Infinity}else{return r}}t.getRelativeTimeout=o;function a(e){if(e instanceof Date){return e.toISOString()}else{const t=new Date(e);if(Number.isNaN(t.getTime())){return""+e}else{return t.toISOString()}}}t.deadlineToString=a},34822:()=>{},35108:(e,t)=>{"use strict";var n=t;n.length=function e(e){var t=e.length;if(!t)return 0;var n=0;while(--t%4>1&&e.charAt(t)==="=")++n;return Math.ceil(e.length*3)/4-n};var r=new Array(64);var i=new Array(123);for(var s=0;s<64;)i[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function e(e,t,n){var i=null,s=[];var o=0,a=0,c;while(t<n){var u=e[t++];switch(a){case 0:s[o++]=r[u>>2];c=(u&3)<<4;a=1;break;case 1:s[o++]=r[c|u>>4];c=(u&15)<<2;a=2;break;case 2:s[o++]=r[c|u>>6];s[o++]=r[u&63];a=0;break}if(o>8191){(i||(i=[])).push(String.fromCharCode.apply(String,s));o=0}}if(a){s[o++]=r[c];s[o++]=61;if(a===1)s[o++]=61}if(i){if(o)i.push(String.fromCharCode.apply(String,s.slice(0,o)));return i.join("")}return String.fromCharCode.apply(String,s.slice(0,o))};var o="invalid encoding";n.decode=function e(e,t,n){var r=n;var s=0,a;for(var c=0;c<e.length;){var u=e.charCodeAt(c++);if(u===61&&s>1)break;if((u=i[u])===undefined)throw Error(o);switch(s){case 0:a=u;s=1;break;case 1:t[n++]=a<<2|(u&48)>>4;a=u;s=2;break;case 2:t[n++]=(a&15)<<4|(u&60)>>2;a=u;s=3;break;case 3:t[n++]=(a&3)<<6|u;s=0;break}}if(s===1)throw Error(o);return n-r};n.test=function e(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},35499:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{DEFAULT_SEGMENT_KEY:function(){return a},PAGE_SEGMENT_KEY:function(){return o},addSearchParamsIfPageSegment:function(){return s},isGroupSegment:function(){return r},isParallelRouteSegment:function(){return i}});function r(e){return e[0]==="("&&e.endsWith(")")}function i(e){return e.startsWith("@")&&e!=="@children"}function s(e,t){const n=e.includes(o);if(n){const e=JSON.stringify(t);return e!=="{}"?o+"?"+e:o}return e}const o="__PAGE__";const a="__DEFAULT__"},35628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CallCredentials=void 0;const r=n(99978);function i(e){return"getRequestHeaders"in e&&typeof e.getRequestHeaders==="function"}class s{static createFromMetadataGenerator(e){return new a(e)}static createFromGoogleCredential(e){return s.createFromMetadataGenerator((t,n)=>{let s;if(i(e)){s=e.getRequestHeaders(t.service_url)}else{s=new Promise((n,r)=>{e.getRequestMetadata(t.service_url,(e,t)=>{if(e){r(e);return}if(!t){r(new Error("Headers not set by metadata plugin"));return}n(t)})})}s.then(e=>{const t=new r.Metadata;for(const n of Object.keys(e)){t.add(n,e[n])}n(null,t)},e=>{n(e)})})}static createEmpty(){return new c}}t.CallCredentials=s;class o extends s{constructor(e){super();this.creds=e}async generateMetadata(e){const t=new r.Metadata;const n=await Promise.all(this.creds.map(t=>t.generateMetadata(e)));for(const e of n){t.merge(e)}return t}compose(e){return new o(this.creds.concat([e]))}_equals(e){if(this===e){return true}if(e instanceof o){return this.creds.every((t,n)=>t._equals(e.creds[n]))}else{return false}}}class a extends s{constructor(e){super();this.metadataGenerator=e}generateMetadata(e){return new Promise((t,n)=>{this.metadataGenerator(e,(e,r)=>{if(r!==undefined){t(r)}else{n(e)}})})}compose(e){return new o([this,e])}_equals(e){if(this===e){return true}if(e instanceof a){return this.metadataGenerator===e.metadataGenerator}else{return false}}}class c extends s{generateMetadata(e){return Promise.resolve(new r.Metadata)}compose(e){return e}_equals(e){return e instanceof c}}},35656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ErrorBoundary:function(){return g},ErrorBoundaryHandler:function(){return h},GlobalError:function(){return p},default:function(){return m}});const i=n(37366);const s=n(60687);const o=i._(n(43210));const a=n(93883);const c=n(88092);const u=n(12776);const l=true?n(29294).workAsyncStorage:0;const d={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function f(e){let{error:t}=e;if(l){const e=l.getStore();if((e==null?void 0:e.isRevalidate)||(e==null?void 0:e.isStaticGeneration)){console.error(t);throw t}}return null}class h extends o.default.Component{static getDerivedStateFromError(e){if((0,c.isNextRouterError)(e)){throw e}return{error:e}}static getDerivedStateFromProps(e,t){const{error:n}=t;if(false){}if(e.pathname!==t.previousPathname&&t.error){return{error:null,previousPathname:e.pathname}}return{error:t.error,previousPathname:e.pathname}}render(){if(this.state.error){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,(0,s.jsx)(this.props.errorComponent,{error:this.state.error,reset:this.reset})]})}return this.props.children}constructor(e){super(e),this.reset=()=>{this.setState({error:null})};this.state={error:null,previousPathname:this.props.pathname}}}function p(e){let{error:t}=e;const n=t==null?void 0:t.digest;return(0,s.jsxs)("html",{id:"__next_error__",children:[(0,s.jsx)("head",{}),(0,s.jsxs)("body",{children:[(0,s.jsx)(f,{error:t}),(0,s.jsx)("div",{style:d.error,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:d.text,children:["Application error: a ",n?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",n?"server logs":"browser console"," for more information)."]}),n?(0,s.jsx)("p",{style:d.text,children:"Digest: "+n}):null]})})]})]})}const m=p;function g(e){let{errorComponent:t,errorStyles:n,errorScripts:r,children:i}=e;const o=(0,a.useUntrackedPathname)();if(t){return(0,s.jsx)(h,{pathname:o,errorComponent:t,errorStyles:n,errorScripts:r,children:i})}return(0,s.jsx)(s.Fragment,{children:i})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},35715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{default:function(){return s},getProperError:function(){return a}});const i=n(69385);function s(e){return typeof e==="object"&&e!==null&&"name"in e&&"message"in e}function o(e){const t=new WeakSet;return JSON.stringify(e,(e,n)=>{if(typeof n==="object"&&n!==null){if(t.has(n)){return"[Circular]"}t.add(n)}return n})}function a(e){if(s(e)){return e}if(false){}return Object.defineProperty(new Error((0,i.isPlainObject)(e)?o(e):e+""),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true})}},36070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AlternatesMetadata",{enumerable:true,get:function(){return c}});const r=n(37413);const i=o(n(61120));const s=n(80407);function o(e){return e&&e.__esModule?e:{default:e}}function a({descriptor:e,...t}){if(!e.url)return null;return(0,r.jsx)("link",{...t,...e.title&&{title:e.title},href:e.url.toString()})}function c({alternates:e}){if(!e)return null;const{canonical:t,languages:n,media:r,types:i}=e;return(0,s.MetaFilter)([t?a({rel:"canonical",descriptor:t}):null,n?Object.entries(n).flatMap(([e,t])=>t==null?void 0:t.map(t=>a({rel:"alternate",hrefLang:e,descriptor:t}))):null,r?Object.entries(r).flatMap(([e,t])=>t==null?void 0:t.map(t=>a({rel:"alternate",media:e,descriptor:t}))):null,i?Object.entries(i).flatMap(([e,t])=>t==null?void 0:t.map(t=>a({rel:"alternate",type:e,descriptor:t}))):null])}},36536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{resolveAlternates:function(){return l},resolveAppLinks:function(){return y},resolveAppleWebApp:function(){return g},resolveFacebook:function(){return b},resolveItunes:function(){return v},resolvePagination:function(){return _},resolveRobots:function(){return h},resolveThemeColor:function(){return a},resolveVerification:function(){return m}});const i=n(77341);const s=n(96258);function o(e,t,n){if(e instanceof URL){const t=new URL(n.pathname,e);e.searchParams.forEach((e,n)=>t.searchParams.set(n,e));e=t}return(0,s.resolveAbsoluteUrlWithPathname)(e,t,n)}const a=e=>{var t;if(!e)return null;const n=[];(t=(0,i.resolveAsArrayOrUndefined)(e))==null?void 0:t.forEach(e=>{if(typeof e==="string")n.push({color:e});else if(typeof e==="object")n.push({color:e.color,media:e.media})});return n};function c(e,t,n){if(!e)return null;const r={};for(const[i,s]of Object.entries(e)){if(typeof s==="string"||s instanceof URL){r[i]=[{url:o(s,t,n)}]}else{r[i]=[];s==null?void 0:s.forEach((e,s)=>{const a=o(e.url,t,n);r[i][s]={url:a,title:e.title}})}}return r}function u(e,t,n){if(!e)return null;const r=typeof e==="string"||e instanceof URL?e:e.url;return{url:o(r,t,n)}}const l=(e,t,n)=>{if(!e)return null;const r=u(e.canonical,t,n);const i=c(e.languages,t,n);const s=c(e.media,t,n);const o=c(e.types,t,n);const a={canonical:r,languages:i,media:s,types:o};return a};const d=["noarchive","nosnippet","noimageindex","nocache","notranslate","indexifembedded","nositelinkssearchbox","unavailable_after","max-video-preview","max-image-preview","max-snippet"];const f=e=>{if(!e)return null;if(typeof e==="string")return e;const t=[];if(e.index)t.push("index");else if(typeof e.index==="boolean")t.push("noindex");if(e.follow)t.push("follow");else if(typeof e.follow==="boolean")t.push("nofollow");for(const n of d){const r=e[n];if(typeof r!=="undefined"&&r!==false){t.push(typeof r==="boolean"?n:`${n}:${r}`)}}return t.join(", ")};const h=e=>{if(!e)return null;return{basic:f(e),googleBot:typeof e!=="string"?f(e.googleBot):null}};const p=["google","yahoo","yandex","me","other"];const m=e=>{if(!e)return null;const t={};for(const n of p){const r=e[n];if(r){if(n==="other"){t.other={};for(const n in e.other){const r=(0,i.resolveAsArrayOrUndefined)(e.other[n]);if(r)t.other[n]=r}}else t[n]=(0,i.resolveAsArrayOrUndefined)(r)}}return t};const g=e=>{var t;if(!e)return null;if(e===true){return{capable:true}}const n=e.startupImage?(t=(0,i.resolveAsArrayOrUndefined)(e.startupImage))==null?void 0:t.map(e=>typeof e==="string"?{url:e}:e):null;return{capable:"capable"in e?!!e.capable:true,title:e.title||null,startupImage:n,statusBarStyle:e.statusBarStyle||"default"}};const y=e=>{if(!e)return null;for(const t in e){e[t]=(0,i.resolveAsArrayOrUndefined)(e[t])}return e};const v=(e,t,n)=>{if(!e)return null;return{appId:e.appId,appArgument:e.appArgument?o(e.appArgument,t,n):undefined}};const b=e=>{if(!e)return null;return{appId:e.appId,admins:(0,i.resolveAsArrayOrUndefined)(e.admins)}};const _=(e,t,n)=>{return{previous:(e==null?void 0:e.previous)?o(e.previous,t,n):null,next:(e==null?void 0:e.next)?o(e.next,t,n):null}}},36551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ChannelCredentials=void 0;const r=n(34631);const i=n(35628);const s=n(71866);function o(e,t){if(e&&!(e instanceof Buffer)){throw new TypeError(`${t}, if provided, must be a Buffer.`)}}class a{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,n,i){var a;o(e,"Root certificate");o(t,"Private key");o(n,"Certificate chain");if(t&&!n){throw new Error("Private key must be given with accompanying certificate chain")}if(!t&&n){throw new Error("Certificate chain must be given with accompanying private key")}const c=(0,r.createSecureContext)({ca:(a=e!==null&&e!==void 0?e:(0,s.getDefaultRootsData)())!==null&&a!==void 0?a:undefined,key:t!==null&&t!==void 0?t:undefined,cert:n!==null&&n!==void 0?n:undefined,ciphers:s.CIPHER_SUITES});return new u(c,i!==null&&i!==void 0?i:{})}static createFromSecureContext(e,t){return new u(e,t!==null&&t!==void 0?t:{})}static createInsecure(){return new c}}t.ChannelCredentials=a;class c extends a{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return false}_equals(e){return e instanceof c}}class u extends a{constructor(e,t){super();this.secureContext=e;this.verifyOptions=t;this.connectionOptions={secureContext:e};if(t===null||t===void 0?void 0:t.checkServerIdentity){this.connectionOptions.checkServerIdentity=t.checkServerIdentity}}compose(e){const t=this.callCredentials.compose(e);return new l(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return true}_equals(e){if(this===e){return true}if(e instanceof u){return this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}else{return false}}}class l extends a{constructor(e,t){super(t);this.channelCredentials=e}compose(e){const t=this.callCredentials.compose(e);return new l(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return true}_equals(e){if(this===e){return true}if(e instanceof l){return this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}else{return false}}}},36875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return l},permanentRedirect:function(){return u},redirect:function(){return c}});const i=n(17974);const s=n(97860);const o=true?n(19121).actionAsyncStorage:0;function a(e,t,n){if(n===void 0)n=i.RedirectStatusCode.TemporaryRedirect;const r=Object.defineProperty(new Error(s.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});r.digest=s.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+n+";";return r}function c(e,t){var n;t!=null?t:t=(o==null?void 0:(n=o.getStore())==null?void 0:n.isAction)?s.RedirectType.push:s.RedirectType.replace;throw a(e,t,i.RedirectStatusCode.TemporaryRedirect)}function u(e,t){if(t===void 0)t=s.RedirectType.replace;throw a(e,t,i.RedirectStatusCode.PermanentRedirect)}function l(e){if(!(0,s.isRedirectError)(e))return null;return e.digest.split(";").slice(2,-2).join(";")}function d(e){if(!(0,s.isRedirectError)(e)){throw Object.defineProperty(new Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:false,configurable:true})}return e.digest.split(";",2)[1]}function f(e){if(!(0,s.isRedirectError)(e)){throw Object.defineProperty(new Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:false,configurable:true})}return Number(e.digest.split(";").at(-2))}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},37216:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTracker=t.ChannelzChildrenTracker=t.ChannelzTrace=void 0;const r=n(91645);const i=n(20920);const s=n(93122);const o=n(98387);const a=n(19780);const c=n(63865);function u(e){return{channel_id:e.id,name:e.name}}function l(e){return{subchannel_id:e.id,name:e.name}}function d(e){return{server_id:e.id}}function f(e){return{socket_id:e.id,name:e.name}}const h=32;class p{constructor(){this.events=[];this.eventsLogged=0;this.creationTimestamp=new Date}addTrace(e,t,n){const r=new Date;this.events.push({description:t,severity:e,timestamp:r,childChannel:(n===null||n===void 0?void 0:n.kind)==="channel"?n:undefined,childSubchannel:(n===null||n===void 0?void 0:n.kind)==="subchannel"?n:undefined});if(this.events.length>=h*2){this.events=this.events.slice(h)}this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:x(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>{return{description:e.description,severity:e.severity,timestamp:x(e.timestamp),channel_ref:e.childChannel?u(e.childChannel):null,subchannel_ref:e.childSubchannel?l(e.childSubchannel):null}})}}}t.ChannelzTrace=p;class m{constructor(){this.channelChildren=new Map;this.subchannelChildren=new Map;this.socketChildren=new Map}refChild(e){var t,n,r;switch(e.kind){case"channel":{const n=(t=this.channelChildren.get(e.id))!==null&&t!==void 0?t:{ref:e,count:0};n.count+=1;this.channelChildren.set(e.id,n);break}case"subchannel":{const t=(n=this.subchannelChildren.get(e.id))!==null&&n!==void 0?n:{ref:e,count:0};t.count+=1;this.subchannelChildren.set(e.id,t);break}case"socket":{const t=(r=this.socketChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};t.count+=1;this.socketChildren.set(e.id,t);break}}}unrefChild(e){switch(e.kind){case"channel":{const t=this.channelChildren.get(e.id);if(t!==undefined){t.count-=1;if(t.count===0){this.channelChildren.delete(e.id)}else{this.channelChildren.set(e.id,t)}}break}case"subchannel":{const t=this.subchannelChildren.get(e.id);if(t!==undefined){t.count-=1;if(t.count===0){this.subchannelChildren.delete(e.id)}else{this.subchannelChildren.set(e.id,t)}}break}case"socket":{const t=this.socketChildren.get(e.id);if(t!==undefined){t.count-=1;if(t.count===0){this.socketChildren.delete(e.id)}else{this.socketChildren.set(e.id,t)}}break}}}getChildLists(){const e=[];for(const{ref:t}of this.channelChildren.values()){e.push(t)}const t=[];for(const{ref:e}of this.subchannelChildren.values()){t.push(e)}const n=[];for(const{ref:e}of this.socketChildren.values()){n.push(e)}return{channels:e,subchannels:t,sockets:n}}}t.ChannelzChildrenTracker=m;class g{constructor(){this.callsStarted=0;this.callsSucceeded=0;this.callsFailed=0;this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1;this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=g;let y=1;function v(){return y++}const b=[];const _=[];const E=[];const w=[];function S(e,t,n){const r=v();const i={id:r,name:e,kind:"channel"};if(n){b[r]={ref:i,getInfo:t}}return i}t.registerChannelzChannel=S;function T(e,t,n){const r=v();const i={id:r,name:e,kind:"subchannel"};if(n){_[r]={ref:i,getInfo:t}}return i}t.registerChannelzSubchannel=T;function C(e,t){const n=v();const r={id:n,kind:"server"};if(t){E[n]={ref:r,getInfo:e}}return r}t.registerChannelzServer=C;function R(e,t,n){const r=v();const i={id:r,name:e,kind:"socket"};if(n){w[r]={ref:i,getInfo:t}}return i}t.registerChannelzSocket=R;function I(e){switch(e.kind){case"channel":delete b[e.id];return;case"subchannel":delete _[e.id];return;case"server":delete E[e.id];return;case"socket":delete w[e.id];return}}t.unregisterChannelzRef=I;function O(e){const t=Number.parseInt(e,16);return[t/256|0,t%256]}function A(e){if(e===""){return[]}const t=e.split(":").map(e=>O(e));const n=[];return n.concat(...t)}function P(e){if((0,r.isIPv4)(e)){return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))))}else if((0,r.isIPv6)(e)){let t;let n;const r=e.indexOf("::");if(r===-1){t=e;n=""}else{t=e.substring(0,r);n=e.substring(r+2)}const i=Buffer.from(A(t));const s=Buffer.from(A(n));const o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else{return null}}function N(e){switch(e){case i.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case i.ConnectivityState.IDLE:return{state:"IDLE"};case i.ConnectivityState.READY:return{state:"READY"};case i.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case i.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function x(e){if(!e){return null}const t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function D(e){const t=e.getInfo();return{ref:u(e.ref),data:{target:t.target,state:N(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:x(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map(e=>u(e)),subchannel_ref:t.children.subchannels.map(e=>l(e))}}function k(e,t){const n=Number.parseInt(e.request.channel_id);const r=b[n];if(r===undefined){t({code:s.Status.NOT_FOUND,details:"No channel data found for id "+n});return}t(null,{channel:D(r)})}function M(e,t){const n=Number.parseInt(e.request.max_results);const r=[];let i=Number.parseInt(e.request.start_channel_id);for(;i<b.length;i++){const e=b[i];if(e===undefined){continue}r.push(D(e));if(r.length>=n){break}}t(null,{channel:r,end:i>=E.length})}function L(e){const t=e.getInfo();return{ref:d(e.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:x(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map(e=>f(e))}}function j(e,t){const n=Number.parseInt(e.request.server_id);const r=E[n];if(r===undefined){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+n});return}t(null,{server:L(r)})}function F(e,t){const n=Number.parseInt(e.request.max_results);const r=[];let i=Number.parseInt(e.request.start_server_id);for(;i<E.length;i++){const e=E[i];if(e===undefined){continue}r.push(L(e));if(r.length>=n){break}}t(null,{server:r,end:i>=E.length})}function B(e,t){const n=Number.parseInt(e.request.subchannel_id);const r=_[n];if(r===undefined){t({code:s.Status.NOT_FOUND,details:"No subchannel data found for id "+n});return}const i=r.getInfo();const o={ref:l(r.ref),data:{target:i.target,state:N(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:x(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(e=>f(e))};t(null,{subchannel:o})}function U(e){var t;if((0,o.isTcpSubchannelAddress)(e)){return{address:"tcpip_address",tcpip_address:{ip_address:(t=P(e.host))!==null&&t!==void 0?t:undefined,port:e.port}}}else{return{address:"uds_address",uds_address:{filename:e.path}}}}function V(e,t){var n,r,i,o,a;const c=Number.parseInt(e.request.socket_id);const u=w[c];if(u===undefined){t({code:s.Status.NOT_FOUND,details:"No socket data found for id "+c});return}const l=u.getInfo();const d=l.security?{model:"tls",tls:{cipher_suite:l.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(n=l.security.cipherSuiteStandardName)!==null&&n!==void 0?n:undefined,other_name:(r=l.security.cipherSuiteOtherName)!==null&&r!==void 0?r:undefined,local_certificate:(i=l.security.localCertificate)!==null&&i!==void 0?i:undefined,remote_certificate:(o=l.security.remoteCertificate)!==null&&o!==void 0?o:undefined}}:null;const h={ref:f(u.ref),local:l.localAddress?U(l.localAddress):null,remote:l.remoteAddress?U(l.remoteAddress):null,remote_name:(a=l.remoteName)!==null&&a!==void 0?a:undefined,security:d,data:{keep_alives_sent:l.keepAlivesSent,streams_started:l.streamsStarted,streams_succeeded:l.streamsSucceeded,streams_failed:l.streamsFailed,last_local_stream_created_timestamp:x(l.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:x(l.lastRemoteStreamCreatedTimestamp),messages_received:l.messagesReceived,messages_sent:l.messagesSent,last_message_received_timestamp:x(l.lastMessageReceivedTimestamp),last_message_sent_timestamp:x(l.lastMessageSentTimestamp),local_flow_control_window:l.localFlowControlWindow?{value:l.localFlowControlWindow}:null,remote_flow_control_window:l.remoteFlowControlWindow?{value:l.remoteFlowControlWindow}:null}};t(null,{socket:h})}function z(e,t){const n=Number.parseInt(e.request.server_id);const r=E[n];if(r===undefined){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+n});return}const i=Number.parseInt(e.request.start_socket_id);const o=Number.parseInt(e.request.max_results);const a=r.getInfo();const c=a.sessionChildren.sockets.sort((e,t)=>e.id-t.id);const u=[];let l=0;for(;l<c.length;l++){if(c[l].id>=i){u.push(f(c[l]));if(u.length>=o){break}}}t(null,{socket_ref:u,end:l>=c.length})}function q(){return{GetChannel:k,GetTopChannels:M,GetServer:j,GetServers:F,GetSubchannel:B,GetSocket:V,GetServerSockets:z}}t.getChannelzHandlers=q;let G=null;function $(){if(G){return G}const e=n(97587).Yi;const t=e("channelz.proto",{keepCase:true,longs:String,enums:String,defaults:true,oneofs:true,includeDirs:[`${__dirname}/../../proto`]});const r=(0,c.loadPackageDefinition)(t);G=r.grpc.channelz.v1.Channelz.service;return G}t.getChannelzServiceDefinition=$;function H(){(0,a.registerAdminService)($,q)}t.setup=H},37366:(e,t,n)=>{"use strict";n.r(t);n.d(t,{_:()=>r});function r(e){return e&&e.__esModule?e:{default:e}}},37413:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].ReactJsxRuntime},37697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{createDefaultMetadata:function(){return i},createDefaultViewport:function(){return r}});function r(){return{width:"device-width",initialScale:1,themeColor:null,colorScheme:null}}function i(){return{viewport:null,themeColor:null,colorScheme:null,metadataBase:null,title:null,description:null,applicationName:null,authors:null,generator:null,keywords:null,referrer:null,creator:null,publisher:null,robots:null,manifest:null,alternates:{canonical:null,languages:null,media:null,types:null},icons:null,openGraph:null,twitter:null,verification:{},appleWebApp:null,formatDetection:null,itunes:null,facebook:null,abstract:null,appLinks:null,archives:null,assets:null,bookmarks:null,category:null,classification:null,pagination:{previous:null,next:null},other:{}}}},37719:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{NEXT_PATCH_SYMBOL:function(){return p},createPatchedFetcher:function(){return b},patchFetch:function(){return _},validateRevalidate:function(){return g},validateTags:function(){return y}});const i=n(14823);const s=n(81289);const o=n(46143);const a=n(84971);const c=n(68388);const u=n(34436);const l=n(43365);const d=n(44523);const f=n(29169);const h="nodejs"==="edge";const p=Symbol.for("next-patch");function m(){return globalThis[p]===true}function g(e,t){try{let n=undefined;if(e===false){n=o.INFINITE_CACHE}else if(typeof e==="number"&&!isNaN(e)&&e>-1){n=e}else if(typeof e!=="undefined"){throw Object.defineProperty(new Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:false,configurable:true})}return n}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate")){throw e}return undefined}}function y(e,t){const n=[];const r=[];for(let i=0;i<e.length;i++){const s=e[i];if(typeof s!=="string"){r.push({tag:s,reason:"invalid type, must be a string"})}else if(s.length>o.NEXT_CACHE_TAG_MAX_LENGTH){r.push({tag:s,reason:`exceeded max length of ${o.NEXT_CACHE_TAG_MAX_LENGTH}`})}else{n.push(s)}if(n.length>o.NEXT_CACHE_TAG_MAX_ITEMS){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(i).join(", "));break}}if(r.length>0){console.warn(`Warning: invalid tags passed to ${t}: `);for(const{tag:e,reason:t}of r){console.log(`tag: "${e}" ${t}`)}}return n}function v(e,t){var n;if(!e)return;if((n=e.requestEndedState)==null?void 0:n.ended)return;const r=(!!process.env.NEXT_DEBUG_BUILD||process.env.NEXT_SSG_FETCH_METRICS==="1")&&e.isStaticGeneration;const i="production"==="development";if(!r&&!i){return}e.fetchMetrics??=[];e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0})}function b(e,{workAsyncStorage:t,workUnitAsyncStorage:n}){const r=async(r,u)=>{var p,m;let b;try{b=new URL(r instanceof Request?r.url:r);b.username="";b.password=""}catch{b=undefined}const _=(b==null?void 0:b.href)??"";const E=(u==null?void 0:(p=u.method)==null?void 0:p.toUpperCase())||"GET";const w=(u==null?void 0:(m=u.next)==null?void 0:m.internal)===true;const S=process.env.NEXT_OTEL_FETCH_DISABLED==="1";const T=w?undefined:performance.timeOrigin+performance.now();const C=t.getStore();const R=n.getStore();let I=R&&R.type==="prerender"?R.cacheSignal:null;if(I){I.beginRead()}const O=(0,s.getTracer)().trace(w?i.NextNodeServerSpan.internalFetch:i.AppRenderSpan.fetch,{hideSpan:S,kind:s.SpanKind.CLIENT,spanName:["fetch",E,_].filter(Boolean).join(" "),attributes:{"http.url":_,"http.method":E,"net.peer.name":b==null?void 0:b.hostname,"net.peer.port":(b==null?void 0:b.port)||undefined}},async()=>{var t;if(w){return e(r,u)}if(!C){return e(r,u)}if(C.isDraftMode){return e(r,u)}const n=r&&typeof r==="object"&&typeof r.method==="string";const i=e=>{const t=u==null?void 0:u[e];return t||(n?r[e]:null)};let s=undefined;const p=e=>{var t,i,s;return typeof(u==null?void 0:(t=u.next)==null?void 0:t[e])!=="undefined"?u==null?void 0:(i=u.next)==null?void 0:i[e]:n?(s=r.next)==null?void 0:s[e]:undefined};let m=p("revalidate");const b=y(p("tags")||[],`fetch ${r.toString()}`);const E=R&&(R.type==="cache"||R.type==="prerender"||R.type==="prerender-ppr"||R.type==="prerender-legacy")?R:undefined;if(E){if(Array.isArray(b)){const e=E.tags??(E.tags=[]);for(const t of b){if(!e.includes(t)){e.push(t)}}}}const S=!R||R.type==="unstable-cache"?[]:R.implicitTags;const O=R&&R.type==="unstable-cache"?"force-no-store":C.fetchCache;const A=!!C.isUnstableNoStore;let P=i("cache");let N="";let x;if(typeof P==="string"&&typeof m!=="undefined"){const e=P==="force-cache"&&m===0||P==="no-store"&&(m>0||m===false);if(e){x=`Specified "cache: ${P}" and "revalidate: ${m}", only one should be specified.`;P=undefined;m=undefined}}const D=P==="no-cache"||P==="no-store"||O==="force-no-store"||O==="only-no-store";const k=!O&&!P&&!m&&C.forceDynamic;if(P==="force-cache"&&typeof m==="undefined"){m=false}else if((R==null?void 0:R.type)!=="cache"&&(D||k)){m=0}if(P==="no-cache"||P==="no-store"){N=`cache: ${P}`}s=g(m,C.route);const M=i("headers");const L=typeof(M==null?void 0:M.get)==="function"?M:new Headers(M||{});const j=L.get("authorization")||L.get("cookie");const F=!["get","head"].includes(((t=i("method"))==null?void 0:t.toLowerCase())||"get");const B=O==undefined&&(P==undefined||P==="default")&&m==undefined;const U=B&&!C.isPrerendering||(j||F)&&E&&E.revalidate===0;if(B&&R!==undefined&&R.type==="prerender"){if(I){I.endRead();I=null}return(0,c.makeHangingPromise)(R.renderSignal,"fetch()")}switch(O){case"force-no-store":{N="fetchCache = force-no-store";break}case"only-no-store":{if(P==="force-cache"||typeof s!=="undefined"&&s>0){throw Object.defineProperty(new Error(`cache: 'force-cache' used on fetch for ${_} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:false,configurable:true})}N="fetchCache = only-no-store";break}case"only-cache":{if(P==="no-store"){throw Object.defineProperty(new Error(`cache: 'no-store' used on fetch for ${_} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:false,configurable:true})}break}case"force-cache":{if(typeof m==="undefined"||m===0){N="fetchCache = force-cache";s=o.INFINITE_CACHE}break}default:}if(typeof s==="undefined"){if(O==="default-cache"&&!A){s=o.INFINITE_CACHE;N="fetchCache = default-cache"}else if(O==="default-no-store"){s=0;N="fetchCache = default-no-store"}else if(A){s=0;N="noStore call"}else if(U){s=0;N="auto no cache"}else{N="auto cache";s=E?E.revalidate:o.INFINITE_CACHE}}else if(!N){N=`revalidate: ${s}`}if(!(C.forceStatic&&s===0)&&!U&&E&&s<E.revalidate){if(s===0){if(R&&R.type==="prerender"){if(I){I.endRead();I=null}return(0,c.makeHangingPromise)(R.renderSignal,"fetch()")}else{(0,a.markCurrentScopeAsDynamic)(C,R,`revalidate: 0 fetch ${r} ${C.route}`)}}if(E&&m===s){E.revalidate=s}}const V=typeof s==="number"&&s>0;let z;const{incrementalCache:q}=C;const G=(R==null?void 0:R.type)==="request"||(R==null?void 0:R.type)==="cache"?R:undefined;if(q&&(V||(G==null?void 0:G.serverComponentsHmrCache))){try{z=await q.generateCacheKey(_,n?r:u)}catch(e){console.error(`Failed to generate cache key for`,r)}}const $=C.nextFetchId??1;C.nextFetchId=$+1;let H=()=>Promise.resolve();const W=async(t,i)=>{const a=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(n){const e=r;const t={body:e._ogBody||e.body};for(const n of a){t[n]=e[n]}r=new Request(e.url,t)}else if(u){const{_ogBody:e,body:n,signal:r,...i}=u;u={...i,body:e||n,signal:t?undefined:r}}const c={...u,next:{...u==null?void 0:u.next,fetchType:"origin",fetchIdx:$}};return e(r,c).then(async e=>{if(!t&&T){v(C,{start:T,url:_,cacheReason:i||N,cacheStatus:s===0||i?"skip":"miss",cacheWarning:x,status:e.status,method:c.method||"GET"})}if(e.status===200&&q&&z&&(V||(G==null?void 0:G.serverComponentsHmrCache))){const t=s>=o.INFINITE_CACHE?o.CACHE_ONE_YEAR:s;if(R&&R.type==="prerender"){const n=await e.arrayBuffer();const r={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(n).toString("base64"),status:e.status,url:e.url};await q.set(z,{kind:l.CachedRouteKind.FETCH,data:r,revalidate:t},{fetchCache:true,fetchUrl:_,fetchIdx:$,tags:b});await H();return new Response(n,{headers:e.headers,status:e.status,statusText:e.statusText})}else{const[n,i]=(0,f.cloneResponse)(e);n.arrayBuffer().then(async e=>{var r;const i=Buffer.from(e);const s={headers:Object.fromEntries(n.headers.entries()),body:i.toString("base64"),status:n.status,url:n.url};G==null?void 0:(r=G.serverComponentsHmrCache)==null?void 0:r.set(z,s);if(V){await q.set(z,{kind:l.CachedRouteKind.FETCH,data:s,revalidate:t},{fetchCache:true,fetchUrl:_,fetchIdx:$,tags:b})}}).catch(e=>console.warn(`Failed to set fetch cache`,r,e)).finally(H);return i}}await H();return e}).catch(e=>{H();throw e})};let K;let Q=false;let Y=false;if(z&&q){let e;if((G==null?void 0:G.isHmrRefresh)&&G.serverComponentsHmrCache){e=G.serverComponentsHmrCache.get(z);Y=true}if(V&&!e){H=await q.lock(z);const t=C.isOnDemandRevalidate?null:await q.get(z,{kind:l.IncrementalCacheKind.FETCH,revalidate:s,fetchUrl:_,fetchIdx:$,tags:b,softTags:S});if(B){if(R&&R.type==="prerender"){await (0,d.waitAtLeastOneReactRenderTask)()}}if(t){await H()}else{K="cache-control: no-cache (hard refresh)"}if((t==null?void 0:t.value)&&t.value.kind===l.CachedRouteKind.FETCH){if(C.isRevalidate&&t.isStale){Q=true}else{if(t.isStale){C.pendingRevalidates??={};if(!C.pendingRevalidates[z]){const e=W(true).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{C.pendingRevalidates??={};delete C.pendingRevalidates[z||""]});e.catch(console.error);C.pendingRevalidates[z]=e}}e=t.value.data}}}if(e){if(T){v(C,{start:T,url:_,cacheReason:N,cacheStatus:Y?"hmr":"hit",cacheWarning:x,status:e.status||200,method:(u==null?void 0:u.method)||"GET"})}const t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});Object.defineProperty(t,"url",{value:e.url});return t}}if(C.isStaticGeneration&&u&&typeof u==="object"){const{cache:e}=u;if(h)delete u.cache;if(e==="no-store"){if(R&&R.type==="prerender"){if(I){I.endRead();I=null}return(0,c.makeHangingPromise)(R.renderSignal,"fetch()")}else{(0,a.markCurrentScopeAsDynamic)(C,R,`no-store fetch ${r} ${C.route}`)}}const t="next"in u;const{next:n={}}=u;if(typeof n.revalidate==="number"&&E&&n.revalidate<E.revalidate){if(n.revalidate===0){if(R&&R.type==="prerender"){return(0,c.makeHangingPromise)(R.renderSignal,"fetch()")}else{(0,a.markCurrentScopeAsDynamic)(C,R,`revalidate: 0 fetch ${r} ${C.route}`)}}if(!C.forceStatic||n.revalidate!==0){E.revalidate=n.revalidate}}if(t)delete u.next}if(z&&Q){const e=z;C.pendingRevalidates??={};let t=C.pendingRevalidates[e];if(t){const e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}const n=W(true,K).then(f.cloneResponse);t=n.then(async e=>{const t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;if(!((t=C.pendingRevalidates)==null?void 0:t[e])){return}delete C.pendingRevalidates[e]});t.catch(()=>{});C.pendingRevalidates[e]=t;return n.then(e=>e[1])}else{return W(false,K)}});if(I){try{return await O}finally{if(I){I.endRead()}}}return O};r.__nextPatched=true;r.__nextGetStaticStore=()=>t;r._nextOriginalFetch=e;globalThis[p]=true;return r}function _(e){if(m())return;const t=(0,u.createDedupeFetch)(globalThis.fetch);globalThis.fetch=b(t,e)}},37853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:true,get:function(){return a}});const r=n(72887);const i=n(47348);const s=n(17017);const o=n(9034);function a(e){let t=(0,o.addLocale)(e.pathname,e.locale,e.buildId?undefined:e.defaultLocale,e.ignorePrefix);if(e.buildId||!e.trailingSlash){t=(0,r.removeTrailingSlash)(t)}if(e.buildId){t=(0,s.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),e.pathname==="/"?"index.json":".json")}t=(0,i.addPathPrefix)(t,e.basePath);return!e.buildId&&e.trailingSlash?!t.endsWith("/")?(0,s.addPathSuffix)(t,"/"):t:(0,r.removeTrailingSlash)(t)}},38243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return A}});const r=n(37366);const i=n(40740);const s=n(60687);const o=i._(n(43210));const a=r._(n(51215));const c=n(22142);const u=n(59008);const l=n(89330);const d=n(35656);const f=n(14077);const h=n(86719);const p=n(67086);const m=n(40099);const g=n(33123);const y=n(68214);function v(e,t){if(e){const[n,r]=e;const i=e.length===2;if((0,f.matchSegment)(t[0],n)){if(t[1].hasOwnProperty(r)){if(i){const e=v(undefined,t[1][r]);return[t[0],{...t[1],[r]:[e[0],e[1],e[2],"refetch"]}]}return[t[0],{...t[1],[r]:v(e.slice(2),t[1][r])}]}}}return t}const b=a.default.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(e){if(true)return null;const t=b.findDOMNode;return t(e)}const E=["bottom","height","left","right","top","width","x","y"];function w(e){if(["sticky","fixed"].includes(getComputedStyle(e).position)){if(false){}return true}const t=e.getBoundingClientRect();return E.every(e=>t[e]===0)}function S(e,t){const n=e.getBoundingClientRect();return n.top>=0&&n.top<=t}function T(e){if(e==="top"){return document.body}var t;return(t=document.getElementById(e))!=null?t:document.getElementsByName(e)[0]}class C extends o.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){if(this.props.focusAndScrollRef.apply){this.handlePotentialScroll()}}render(){return this.props.children}constructor(...e){super(...e),this.handlePotentialScroll=()=>{const{focusAndScrollRef:e,segmentPath:t}=this.props;if(e.apply){if(e.segmentPaths.length!==0&&!e.segmentPaths.some(e=>t.every((t,n)=>(0,f.matchSegment)(t,e[n])))){return}let r=null;const i=e.hashFragment;if(i){r=T(i)}if(!r){r=_(this)}if(!(r instanceof Element)){return}while(!(r instanceof HTMLElement)||w(r)){if(false){var n}if(r.nextElementSibling===null){return}r=r.nextElementSibling}e.apply=false;e.hashFragment=null;e.segmentPaths=[];(0,h.handleSmoothScroll)(()=>{if(i){;r.scrollIntoView();return}const e=document.documentElement;const t=e.clientHeight;if(S(r,t)){return}e.scrollTop=0;if(!S(r,t)){;r.scrollIntoView()}},{dontForceLayout:true,onlyHashChange:e.onlyHashChange});e.onlyHashChange=false;r.focus()}}}}function R(e){let{segmentPath:t,children:n}=e;const r=(0,o.useContext)(c.GlobalLayoutRouterContext);if(!r){throw Object.defineProperty(new Error("invariant global layout router not mounted"),"__NEXT_ERROR_CODE",{value:"E473",enumerable:false,configurable:true})}return(0,s.jsx)(C,{segmentPath:t,focusAndScrollRef:r.focusAndScrollRef,children:n})}function I(e){let{tree:t,segmentPath:n,cacheNode:r,url:i}=e;const a=(0,o.useContext)(c.GlobalLayoutRouterContext);if(!a){throw Object.defineProperty(new Error("invariant global layout router not mounted"),"__NEXT_ERROR_CODE",{value:"E473",enumerable:false,configurable:true})}const{changeByServerResponse:d,tree:f}=a;const h=r.prefetchRsc!==null?r.prefetchRsc:r.rsc;const p=(0,o.useDeferredValue)(r.rsc,h);const m=typeof p==="object"&&p!==null&&typeof p.then==="function"?(0,o.use)(p):p;if(!m){let e=r.lazyData;if(e===null){const t=v(["",...n],f);const s=(0,y.hasInterceptionRouteInCurrentTree)(f);r.lazyData=e=(0,u.fetchServerResponse)(new URL(i,location.origin),{flightRouterState:t,nextUrl:s?a.nextUrl:null}).then(e=>{(0,o.startTransition)(()=>{d({previousTree:f,serverResponse:e})});return e});(0,o.use)(e)}(0,o.use)(l.unresolvedThenable)}const g=(0,s.jsx)(c.LayoutRouterContext.Provider,{value:{parentTree:t,parentCacheNode:r,parentSegmentPath:n,url:i},children:m});return g}function O(e){let{loading:t,children:n}=e;let r;if(typeof t==="object"&&t!==null&&typeof t.then==="function"){const e=t;r=(0,o.use)(e)}else{r=t}if(r){const e=r[0];const t=r[1];const i=r[2];return(0,s.jsx)(o.Suspense,{fallback:(0,s.jsxs)(s.Fragment,{children:[t,i,e]}),children:n})}return(0,s.jsx)(s.Fragment,{children:n})}function A(e){let{parallelRouterKey:t,error:n,errorStyles:r,errorScripts:i,templateStyles:a,templateScripts:u,template:l,notFound:f,forbidden:h,unauthorized:y}=e;const v=(0,o.useContext)(c.LayoutRouterContext);if(!v){throw Object.defineProperty(new Error("invariant expected layout router to be mounted"),"__NEXT_ERROR_CODE",{value:"E56",enumerable:false,configurable:true})}const{parentTree:b,parentCacheNode:_,parentSegmentPath:E,url:w}=v;const S=_.parallelRoutes;let T=S.get(t);if(!T){T=new Map;S.set(t,T)}const C=b[0];const A=b[1][t];const P=A[0];const N=E===null?[t]:E.concat([C,t]);const x=(0,g.createRouterCacheKey)(P);const D=(0,g.createRouterCacheKey)(P,true);let k=T.get(x);if(k===undefined){const e={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null};k=e;T.set(x,e)}const M=_.loading;return(0,s.jsxs)(c.TemplateContext.Provider,{value:(0,s.jsx)(R,{segmentPath:N,children:(0,s.jsx)(d.ErrorBoundary,{errorComponent:n,errorStyles:r,errorScripts:i,children:(0,s.jsx)(O,{loading:M,children:(0,s.jsx)(m.HTTPAccessFallbackBoundary,{notFound:f,forbidden:h,unauthorized:y,children:(0,s.jsx)(p.RedirectBoundary,{children:(0,s.jsx)(I,{url:w,tree:A,cacheNode:k,segmentPath:N})})})})})}),children:[a,u,l]},D)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},38522:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"LRUCache",{enumerable:true,get:function(){return n}});class n{constructor(e,t){this.cache=new Map;this.sizes=new Map;this.totalSize=0;this.maxSize=e;this.calculateSize=t||(()=>1)}set(e,t){if(!e||!t)return;const n=this.calculateSize(t);if(n>this.maxSize){console.warn("Single item size exceeds maxSize");return}if(this.cache.has(e)){this.totalSize-=this.sizes.get(e)||0}this.cache.set(e,t);this.sizes.set(e,n);this.totalSize+=n;this.touch(e)}has(e){if(!e)return false;this.touch(e);return Boolean(this.cache.get(e))}get(e){if(!e)return;const t=this.cache.get(e);if(t===undefined){return undefined}this.touch(e);return t}touch(e){const t=this.cache.get(e);if(t!==undefined){this.cache.delete(e);this.cache.set(e,t);this.evictIfNecessary()}}evictIfNecessary(){while(this.totalSize>this.maxSize&&this.cache.size>0){this.evictLeastRecentlyUsed()}}evictLeastRecentlyUsed(){const e=this.cache.keys().next().value;if(e!==undefined){const t=this.sizes.get(e)||0;this.totalSize-=t;this.cache.delete(e);this.sizes.delete(e)}}reset(){this.cache.clear();this.sizes.clear();this.totalSize=0}keys(){return[...this.cache.keys()]}remove(e){if(this.cache.has(e)){this.totalSize-=this.sizes.get(e)||0;this.cache.delete(e);this.sizes.delete(e)}}clear(){this.cache.clear();this.sizes.clear();this.totalSize=0}get size(){return this.cache.size}get currentSize(){return this.totalSize}}},38637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"setCacheBustingSearchParam",{enumerable:true,get:function(){return s}});const r=n(15102);const i=n(91563);const s=(e,t)=>{const n=(0,r.hexHash)([t[i.NEXT_ROUTER_PREFETCH_HEADER]||"0",t[i.NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]||"0",t[i.NEXT_ROUTER_STATE_TREE_HEADER],t[i.NEXT_URL]].join(","));const s=e.search;const o=s.startsWith("?")?s.slice(1):s;const a=o.split("&").filter(Boolean);a.push(i.NEXT_RSC_UNION_QUERY+"="+n);e.search=a.length?"?"+a.join("&"):""};if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},39444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{normalizeAppPath:function(){return o},normalizeRscURL:function(){return a}});const i=n(46453);const s=n(83913);function o(e){return(0,i.ensureLeadingSlash)(e.split("/").reduce((e,t,n,r)=>{if(!t){return e}if((0,s.isGroupSegment)(t)){return e}if(t[0]==="@"){return e}if((t==="page"||t==="route")&&n===r.length-1){return e}return e+"/"+t},""))}function a(e){return e.replace(/\.rsc($|\?)/,"$1")}},39695:(e,t,n)=>{"use strict";e.exports=n(94041).vendored.contexts.ServerInsertedHtml},39844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createProxy",{enumerable:true,get:function(){return i}});const r=n(12907);const i=r.createClientModuleProxy},39893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{NextRequestAdapter:function(){return f},ResponseAborted:function(){return u},ResponseAbortedName:function(){return c},createAbortController:function(){return l},signalFromNodeResponse:function(){return d}});const i=n(26191);const s=n(47912);const o=n(76268);const a=n(30898);const c="ResponseAborted";class u extends Error{constructor(...e){super(...e),this.name=c}}function l(e){const t=new AbortController;e.once("close",()=>{if(e.writableFinished)return;t.abort(new u)});return t}function d(e){const{errored:t,destroyed:n}=e;if(t||n){return AbortSignal.abort(t??new u)}const{signal:r}=l(e);return r}class f{static fromBaseNextRequest(e,t){if(false){}else if(true&&(0,a.isNodeNextRequest)(e)){return f.fromNodeNextRequest(e,t)}else{throw Object.defineProperty(new Error("Invariant: Unsupported NextRequest type"),"__NEXT_ERROR_CODE",{value:"E345",enumerable:false,configurable:true})}}static fromNodeNextRequest(e,t){let n=null;if(e.method!=="GET"&&e.method!=="HEAD"&&e.body){n=e.body}let r;if(e.url.startsWith("http")){r=new URL(e.url)}else{const t=(0,i.getRequestMeta)(e,"initURL");if(!t||!t.startsWith("http")){r=new URL(e.url,"http://n")}else{r=new URL(e.url,t)}}return new o.NextRequest(r,{method:e.method,headers:(0,s.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:n}})}static fromWebNextRequest(e){let t=null;if(e.method!=="GET"&&e.method!=="HEAD"){t=e.body}return new o.NextRequest(e.url,{method:e.method,headers:(0,s.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}},39938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getNextPathnameInfo",{enumerable:true,get:function(){return o}});const r=n(11959);const i=n(59229);const s=n(2829);function o(e,t){var n;const{basePath:o,i18n:a,trailingSlash:c}=(n=t.nextConfig)!=null?n:{};const u={pathname:e,trailingSlash:e!=="/"?e.endsWith("/"):c};if(o&&(0,s.pathHasPrefix)(u.pathname,o)){u.pathname=(0,i.removePathPrefix)(u.pathname,o);u.basePath=o}let l=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){const e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");const n=e[0];u.buildId=n;l=e[1]!=="index"?"/"+e.slice(1).join("/"):"/";if(t.parseData===true){u.pathname=l}}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,r.normalizeLocalePath)(u.pathname,a.locales);u.locale=e.detectedLocale;var d;u.pathname=(d=e.pathname)!=null?d:u.pathname;if(!e.detectedLocale&&u.buildId){e=t.i18nProvider?t.i18nProvider.analyze(l):(0,r.normalizeLocalePath)(l,a.locales);if(e.detectedLocale){u.locale=e.detectedLocale}}}return u}},40099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"HTTPAccessFallbackBoundary",{enumerable:true,get:function(){return d}});const r=n(40740);const i=n(60687);const s=r._(n(43210));const o=n(93883);const a=n(86358);const c=n(50148);const u=n(22142);class l extends s.default.Component{componentDidCatch(){if(false){}}static getDerivedStateFromError(e){if((0,a.isHTTPAccessFallbackError)(e)){const t=(0,a.getAccessFallbackHTTPStatus)(e);return{triggeredStatus:t}}throw e}static getDerivedStateFromProps(e,t){if(e.pathname!==t.previousPathname&&t.triggeredStatus){return{triggeredStatus:undefined,previousPathname:e.pathname}}return{triggeredStatus:t.triggeredStatus,previousPathname:e.pathname}}render(){const{notFound:e,forbidden:t,unauthorized:n,children:r}=this.props;const{triggeredStatus:s}=this.state;const o={[a.HTTPAccessErrorStatus.NOT_FOUND]:e,[a.HTTPAccessErrorStatus.FORBIDDEN]:t,[a.HTTPAccessErrorStatus.UNAUTHORIZED]:n};if(s){const c=s===a.HTTPAccessErrorStatus.NOT_FOUND&&e;const u=s===a.HTTPAccessErrorStatus.FORBIDDEN&&t;const l=s===a.HTTPAccessErrorStatus.UNAUTHORIZED&&n;if(!(c||u||l)){return r}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{name:"robots",content:"noindex"}),false&&0,o[s]]})}return r}constructor(e){super(e);this.state={triggeredStatus:undefined,previousPathname:e.pathname}}}function d(e){let{notFound:t,forbidden:n,unauthorized:r,children:a}=e;const c=(0,o.useUntrackedPathname)();const d=(0,s.useContext)(u.MissingSlotContext);const f=!!(t||n||r);if(f){return(0,i.jsx)(l,{pathname:c,notFound:t,forbidden:n,unauthorized:r,missingSlots:d,children:a})}return(0,i.jsx)(i.Fragment,{children:a})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},40300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Client=void 0;const r=n(59123);const i=n(83232);const s=n(20920);const o=n(93122);const a=n(99978);const c=n(90441);const u=Symbol();const l=Symbol();const d=Symbol();const f=Symbol();function h(e){return typeof e==="function"}function p(e){return e.stack.split("\n").slice(1).join("\n")}class m{constructor(e,t,n={}){var r,s;n=Object.assign({},n);this[l]=(r=n.interceptors)!==null&&r!==void 0?r:[];delete n.interceptors;this[d]=(s=n.interceptor_providers)!==null&&s!==void 0?s:[];delete n.interceptor_providers;if(this[l].length>0&&this[d].length>0){throw new Error("Both interceptors and interceptor_providers were passed as options "+"to the client constructor. Only one of these is allowed.")}this[f]=n.callInvocationTransformer;delete n.callInvocationTransformer;if(n.channelOverride){this[u]=n.channelOverride}else if(n.channelFactoryOverride){const r=n.channelFactoryOverride;delete n.channelFactoryOverride;this[u]=r(e,t,n)}else{this[u]=new i.ChannelImplementation(e,t,n)}}close(){this[u].close()}getChannel(){return this[u]}waitForReady(e,t){const n=r=>{if(r){t(new Error("Failed to connect before the deadline"));return}let i;try{i=this[u].getConnectivityState(true)}catch(e){t(new Error("The channel has been closed"));return}if(i===s.ConnectivityState.READY){t()}else{try{this[u].watchConnectivityState(i,e,n)}catch(e){t(new Error("The channel has been closed"))}}};setImmediate(n)}checkOptionalUnaryResponseArguments(e,t,n){if(h(e)){return{metadata:new a.Metadata,options:{},callback:e}}else if(h(t)){if(e instanceof a.Metadata){return{metadata:e,options:{},callback:t}}else{return{metadata:new a.Metadata,options:e,callback:t}}}else{if(!(e instanceof a.Metadata&&t instanceof Object&&h(n))){throw new Error("Incorrect arguments passed")}return{metadata:e,options:t,callback:n}}}makeUnaryRequest(e,t,n,i,s,a,h){var m,g;const y=this.checkOptionalUnaryResponseArguments(s,a,h);const v={path:e,requestStream:false,responseStream:false,requestSerialize:t,responseDeserialize:n};let b={argument:i,metadata:y.metadata,call:new r.ClientUnaryCallImpl,channel:this[u],methodDefinition:v,callOptions:y.options,callback:y.callback};if(this[f]){b=this[f](b)}const _=b.call;const E={clientInterceptors:this[l],clientInterceptorProviders:this[d],callInterceptors:(m=b.callOptions.interceptors)!==null&&m!==void 0?m:[],callInterceptorProviders:(g=b.callOptions.interceptor_providers)!==null&&g!==void 0?g:[]};const w=(0,c.getInterceptingCall)(E,b.methodDefinition,b.callOptions,b.channel);_.call=w;let S=null;let T=false;let C=new Error;w.start(b.metadata,{onReceiveMetadata:e=>{_.emit("metadata",e)},onReceiveMessage(e){if(S!==null){w.cancelWithStatus(o.Status.INTERNAL,"Too many responses received")}S=e},onReceiveStatus(e){if(T){return}T=true;if(e.code===o.Status.OK){if(S===null){const t=p(C);b.callback((0,r.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else{b.callback(null,S)}}else{const t=p(C);b.callback((0,r.callErrorFromStatus)(e,t))}C=null;_.emit("status",e)}});w.sendMessage(i);w.halfClose();return _}makeClientStreamRequest(e,t,n,i,s,a){var h,m;const g=this.checkOptionalUnaryResponseArguments(i,s,a);const y={path:e,requestStream:true,responseStream:false,requestSerialize:t,responseDeserialize:n};let v={metadata:g.metadata,call:new r.ClientWritableStreamImpl(t),channel:this[u],methodDefinition:y,callOptions:g.options,callback:g.callback};if(this[f]){v=this[f](v)}const b=v.call;const _={clientInterceptors:this[l],clientInterceptorProviders:this[d],callInterceptors:(h=v.callOptions.interceptors)!==null&&h!==void 0?h:[],callInterceptorProviders:(m=v.callOptions.interceptor_providers)!==null&&m!==void 0?m:[]};const E=(0,c.getInterceptingCall)(_,v.methodDefinition,v.callOptions,v.channel);b.call=E;let w=null;let S=false;let T=new Error;E.start(v.metadata,{onReceiveMetadata:e=>{b.emit("metadata",e)},onReceiveMessage(e){if(w!==null){E.cancelWithStatus(o.Status.INTERNAL,"Too many responses received")}w=e},onReceiveStatus(e){if(S){return}S=true;if(e.code===o.Status.OK){if(w===null){const t=p(T);v.callback((0,r.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else{v.callback(null,w)}}else{const t=p(T);v.callback((0,r.callErrorFromStatus)(e,t))}T=null;b.emit("status",e)}});return b}checkMetadataAndOptions(e,t){let n;let r;if(e instanceof a.Metadata){n=e;if(t){r=t}else{r={}}}else{if(e){r=e}else{r={}}n=new a.Metadata}return{metadata:n,options:r}}makeServerStreamRequest(e,t,n,i,s,a){var h,m;const g=this.checkMetadataAndOptions(s,a);const y={path:e,requestStream:false,responseStream:true,requestSerialize:t,responseDeserialize:n};let v={argument:i,metadata:g.metadata,call:new r.ClientReadableStreamImpl(n),channel:this[u],methodDefinition:y,callOptions:g.options};if(this[f]){v=this[f](v)}const b=v.call;const _={clientInterceptors:this[l],clientInterceptorProviders:this[d],callInterceptors:(h=v.callOptions.interceptors)!==null&&h!==void 0?h:[],callInterceptorProviders:(m=v.callOptions.interceptor_providers)!==null&&m!==void 0?m:[]};const E=(0,c.getInterceptingCall)(_,v.methodDefinition,v.callOptions,v.channel);b.call=E;let w=false;let S=new Error;E.start(v.metadata,{onReceiveMetadata(e){b.emit("metadata",e)},onReceiveMessage(e){b.push(e)},onReceiveStatus(e){if(w){return}w=true;b.push(null);if(e.code!==o.Status.OK){const t=p(S);b.emit("error",(0,r.callErrorFromStatus)(e,t))}S=null;b.emit("status",e)}});E.sendMessage(i);E.halfClose();return b}makeBidiStreamRequest(e,t,n,i,s){var a,h;const m=this.checkMetadataAndOptions(i,s);const g={path:e,requestStream:true,responseStream:true,requestSerialize:t,responseDeserialize:n};let y={metadata:m.metadata,call:new r.ClientDuplexStreamImpl(t,n),channel:this[u],methodDefinition:g,callOptions:m.options};if(this[f]){y=this[f](y)}const v=y.call;const b={clientInterceptors:this[l],clientInterceptorProviders:this[d],callInterceptors:(a=y.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(h=y.callOptions.interceptor_providers)!==null&&h!==void 0?h:[]};const _=(0,c.getInterceptingCall)(b,y.methodDefinition,y.callOptions,y.channel);v.call=_;let E=false;let w=new Error;_.start(y.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){if(E){return}E=true;v.push(null);if(e.code!==o.Status.OK){const t=p(w);v.emit("error",(0,r.callErrorFromStatus)(e,t))}w=null;v.emit("status",e)}});return v}}t.Client=m},40740:(e,t,n)=>{"use strict";n.r(t);n.d(t,{_:()=>i});function r(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(r=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=="object"&&typeof e!=="function")return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set))Object.defineProperty(i,o,a);else i[o]=e[o]}}i.default=e;if(n)n.set(e,i);return i}},40980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{CachedRouteKind:function(){return r},IncrementalCacheKind:function(){return i}});var r=function(e){e["APP_PAGE"]="APP_PAGE";e["APP_ROUTE"]="APP_ROUTE";e["PAGES"]="PAGES";e["FETCH"]="FETCH";e["REDIRECT"]="REDIRECT";e["IMAGE"]="IMAGE";return e}({});var i=function(e){e["APP_PAGE"]="APP_PAGE";e["APP_ROUTE"]="APP_ROUTE";e["PAGES"]="PAGES";e["FETCH"]="FETCH";e["IMAGE"]="IMAGE";return e}({})},42292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"unstable_rethrow",{enumerable:true,get:function(){return u}});const r=n(18238);const i=n(76299);const s=n(81208);const o=n(88092);const a=n(54717);const c=n(22113);function u(e){if((0,o.isNextRouterError)(e)||(0,s.isBailoutToCSRError)(e)||(0,c.isDynamicServerError)(e)||(0,a.isDynamicPostpone)(e)||(0,i.isPostpone)(e)||(0,r.isHangingPromiseRejectionError)(e)){throw e}if(e instanceof Error&&"cause"in e){u(e.cause)}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},42319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=t.DEFAULT_PORT=void 0;const r=n(98605);const i=n(14985);const s=n(28354);const o=n(22487);const a=n(93122);const c=n(99978);const u=n(63038);const l=n(93122);const d=n(57213);const f=n(91645);const h=n(86693);const p="dns_resolver";function m(e){u.trace(l.LogVerbosity.DEBUG,p,e)}t.DEFAULT_PORT=443;const g=3e4;const y=s.promisify(i.resolveTxt);const v=s.promisify(i.lookup);function b(...e){const t=[];for(let n=0;n<Math.max.apply(null,e.map(e=>e.length));n++){for(const r of e){if(n<r.length){t.push(r[n])}}}return t}class _{constructor(e,n,r){var i,s,o;this.target=e;this.listener=n;this.pendingLookupPromise=null;this.pendingTxtPromise=null;this.latestLookupResult=null;this.latestServiceConfig=null;this.latestServiceConfigError=null;this.continueResolving=false;this.isNextResolutionTimerRunning=false;this.isServiceConfigEnabled=true;this.returnedIpResult=false;m("Resolver constructed for target "+(0,d.uriToString)(e));const u=(0,d.splitHostPort)(e.path);if(u===null){this.ipResult=null;this.dnsHostname=null;this.port=null}else{if((0,f.isIPv4)(u.host)||(0,f.isIPv6)(u.host)){this.ipResult=[{host:u.host,port:(i=u.port)!==null&&i!==void 0?i:t.DEFAULT_PORT}];this.dnsHostname=null;this.port=null}else{this.ipResult=null;this.dnsHostname=u.host;this.port=(s=u.port)!==null&&s!==void 0?s:t.DEFAULT_PORT}}this.percentage=Math.random()*100;if(r["grpc.service_config_disable_resolution"]===1){this.isServiceConfigEnabled=false}this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,d.uriToString)(this.target)}`,metadata:new c.Metadata};const l={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new h.BackoffTimeout(()=>{if(this.continueResolving){this.startResolutionWithBackoff()}},l);this.backoff.unref();this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:g;this.nextResolutionTimer=setTimeout(()=>{},0);clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){if(!this.returnedIpResult){m("Returning IP address for target "+(0,d.uriToString)(this.target));setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})});this.returnedIpResult=true}this.backoff.stop();this.backoff.reset();this.stopNextResolutionTimer();return}if(this.dnsHostname===null){m("Failed to parse DNS address "+(0,d.uriToString)(this.target));setImmediate(()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,d.uriToString)(this.target)}`,metadata:new c.Metadata})});this.stopNextResolutionTimer()}else{if(this.pendingLookupPromise!==null){return}m("Looking up DNS hostname "+this.dnsHostname);this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=v(e,{all:true});this.pendingLookupPromise.then(e=>{if(this.pendingLookupPromise===null){return}this.pendingLookupPromise=null;this.backoff.reset();this.backoff.stop();const t=e.filter(e=>e.family===4);const n=e.filter(e=>e.family===6);this.latestLookupResult=b(n,t).map(e=>({host:e.address,port:+this.port}));const r="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";m("Resolved addresses for target "+(0,d.uriToString)(this.target)+": "+r);if(this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{if(this.pendingLookupPromise===null){return}m("Resolution error for target "+(0,d.uriToString)(this.target)+": "+e.message);this.pendingLookupPromise=null;this.stopNextResolutionTimer();this.listener.onError(this.defaultResolutionError)});if(this.isServiceConfigEnabled&&this.pendingTxtPromise===null){this.pendingTxtPromise=y(e);this.pendingTxtPromise.then(e=>{if(this.pendingTxtPromise===null){return}this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,o.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new c.Metadata}}if(this.latestLookupResult!==null){this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{})}}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer);this.nextResolutionTimer=(t=(e=setTimeout(()=>{this.stopNextResolutionTimer();if(this.continueResolving){this.startResolutionWithBackoff()}},this.minTimeBetweenResolutionsMs)).unref)===null||t===void 0?void 0:t.call(e);this.isNextResolutionTimerRunning=true}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer);this.isNextResolutionTimerRunning=false}startResolutionWithBackoff(){if(this.pendingLookupPromise===null){this.continueResolving=false;this.backoff.runOnce();this.startNextResolutionTimer();this.startResolution()}}updateResolution(){if(this.pendingLookupPromise===null){if(this.isNextResolutionTimerRunning||this.backoff.isRunning()){if(this.isNextResolutionTimerRunning){m('resolution update delayed by "min time between resolutions" rate limit')}else{m("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString())}this.continueResolving=true}else{this.startResolutionWithBackoff()}}}destroy(){this.continueResolving=false;this.backoff.reset();this.backoff.stop();this.stopNextResolutionTimer();this.pendingLookupPromise=null;this.pendingTxtPromise=null;this.latestLookupResult=null;this.latestServiceConfig=null;this.latestServiceConfigError=null;this.returnedIpResult=false}static getDefaultAuthority(e){return e.path}}function E(){(0,r.registerResolver)("dns",_);(0,r.registerDefaultScheme)("dns")}t.setup=E},42471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{isAbortError:function(){return u},pipeToNodeResponse:function(){return d}});const i=n(39893);const s=n(90366);const o=n(81289);const a=n(14823);const c=n(61076);function u(e){return(e==null?void 0:e.name)==="AbortError"||(e==null?void 0:e.name)===i.ResponseAbortedName}function l(e,t){let n=false;let r=new s.DetachedPromise;function i(){r.resolve()}e.on("drain",i);e.once("close",()=>{e.off("drain",i);r.resolve()});const u=new s.DetachedPromise;e.once("finish",()=>{u.resolve()});return new WritableStream({write:async t=>{if(!n){n=true;if("performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){const e=(0,c.getClientComponentLoaderMetrics)();if(e){performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}}e.flushHeaders();(0,o.getTracer)().trace(a.NextNodeServerSpan.startResponse,{spanName:"start response"},()=>undefined)}try{const n=e.write(t);if("flush"in e&&typeof e.flush==="function"){e.flush()}if(!n){await r.promise;r=new s.DetachedPromise}}catch(t){e.end();throw Object.defineProperty(new Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:false,configurable:true})}},abort:t=>{if(e.writableFinished)return;e.destroy(t)},close:async()=>{if(t){await t}if(e.writableFinished)return;e.end();return u.promise}})}async function d(e,t,n){try{const{errored:r,destroyed:s}=t;if(r||s)return;const o=(0,i.createAbortController)(t);const a=l(t,n);await e.pipeTo(a,{signal:o.signal})}catch(e){if(u(e))return;throw Object.defineProperty(new Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:false,configurable:true})}}},42609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InterceptingListenerImpl=t.isInterceptingListener=void 0;function n(e){return e.onReceiveMetadata!==undefined&&e.onReceiveMetadata.length===1}t.isInterceptingListener=n;class r{constructor(e,t){this.listener=e;this.nextListener=t;this.processingMetadata=false;this.hasPendingMessage=false;this.processingMessage=false;this.pendingStatus=null}processPendingMessage(){if(this.hasPendingMessage){this.nextListener.onReceiveMessage(this.pendingMessage);this.pendingMessage=null;this.hasPendingMessage=false}}processPendingStatus(){if(this.pendingStatus){this.nextListener.onReceiveStatus(this.pendingStatus)}}onReceiveMetadata(e){this.processingMetadata=true;this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=false;this.nextListener.onReceiveMetadata(e);this.processPendingMessage();this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=true;this.listener.onReceiveMessage(e,e=>{this.processingMessage=false;if(this.processingMetadata){this.pendingMessage=e;this.hasPendingMessage=true}else{this.nextListener.onReceiveMessage(e);this.processPendingStatus()}})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{if(this.processingMetadata||this.processingMessage){this.pendingStatus=e}else{this.nextListener.onReceiveStatus(e)}})}}t.InterceptingListenerImpl=r},42706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{accumulateMetadata:function(){return j},accumulateViewport:function(){return F},resolveMetadata:function(){return B},resolveViewport:function(){return U}});n(34822);const i=n(61120);const s=n(37697);const o=n(66483);const a=n(57373);const c=n(77341);const u=n(22586);const l=n(6255);const d=n(36536);const f=n(97181);const h=n(81289);const p=n(14823);const m=n(35499);const g=v(n(21709));function y(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=y(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;if(o&&(o.get||o.set)){Object.defineProperty(r,s,o)}else{r[s]=e[s]}}}r.default=e;if(n){n.set(e,r)}return r}function b(e){if(!e){return false}return(e.url==="/favicon.ico"||e.url.toString().startsWith("/favicon.ico?"))&&e.type==="image/x-icon"}function _(e,t,n,r,i,s){var a,c;if(!n)return;const{icon:u,apple:l,openGraph:d,twitter:f,manifest:h}=n;if(u){s.icon=u}if(l){s.apple=l}if(f&&!(e==null?void 0:(a=e.twitter)==null?void 0:a.hasOwnProperty("images"))){const e=(0,o.resolveTwitter)({...t.twitter,images:f},t.metadataBase,{...r,isStaticMetadataRouteFile:true},i.twitter);t.twitter=e}if(d&&!(e==null?void 0:(c=e.openGraph)==null?void 0:c.hasOwnProperty("images"))){const e=(0,o.resolveOpenGraph)({...t.openGraph,images:d},t.metadataBase,{...r,isStaticMetadataRouteFile:true},i.openGraph);t.openGraph=e}if(h){t.manifest=h}return t}function E({source:e,target:t,staticFilesMetadata:n,titleTemplates:r,metadataContext:i,buildState:s,leafSegmentStaticIcons:u}){const l=typeof(e==null?void 0:e.metadataBase)!=="undefined"?e.metadataBase:t.metadataBase;for(const n in e){const u=n;switch(u){case"title":{t.title=(0,a.resolveTitle)(e.title,r.title);break}case"alternates":{t.alternates=(0,d.resolveAlternates)(e.alternates,l,i);break}case"openGraph":{t.openGraph=(0,o.resolveOpenGraph)(e.openGraph,l,i,r.openGraph);break}case"twitter":{t.twitter=(0,o.resolveTwitter)(e.twitter,l,i,r.twitter);break}case"facebook":t.facebook=(0,d.resolveFacebook)(e.facebook);break;case"verification":t.verification=(0,d.resolveVerification)(e.verification);break;case"icons":{t.icons=(0,f.resolveIcons)(e.icons);break}case"appleWebApp":t.appleWebApp=(0,d.resolveAppleWebApp)(e.appleWebApp);break;case"appLinks":t.appLinks=(0,d.resolveAppLinks)(e.appLinks);break;case"robots":{t.robots=(0,d.resolveRobots)(e.robots);break}case"archives":case"assets":case"bookmarks":case"keywords":{t[u]=(0,c.resolveAsArrayOrUndefined)(e[u]);break}case"authors":{t[u]=(0,c.resolveAsArrayOrUndefined)(e.authors);break}case"itunes":{t[u]=(0,d.resolveItunes)(e.itunes,l,i);break}case"pagination":{t.pagination=(0,d.resolvePagination)(e.pagination,l,i);break}case"applicationName":case"description":case"generator":case"creator":case"publisher":case"category":case"classification":case"referrer":case"formatDetection":case"manifest":t[u]=e[u]||null;break;case"other":t.other=Object.assign({},t.other,e.other);break;case"metadataBase":t.metadataBase=l;break;default:{if((u==="viewport"||u==="themeColor"||u==="colorScheme")&&e[u]!=null){s.warnings.add(`Unsupported metadata ${u} is configured in metadata export in ${i.pathname}. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport`)}break}}}_(e,t,n,i,r,u)}function w({target:e,source:t}){if(!t)return;for(const n in t){const r=n;switch(r){case"themeColor":{e.themeColor=(0,d.resolveThemeColor)(t.themeColor);break}case"colorScheme":e.colorScheme=t.colorScheme||null;break;default:e[r]=t[r];break}}}function S(e,t,n){if(typeof e.generateViewport==="function"){const{route:r}=n;return n=>(0,h.getTracer)().trace(p.ResolveMetadataSpan.generateViewport,{spanName:`generateViewport ${r}`,attributes:{"next.page":r}},()=>e.generateViewport(t,n))}return e.viewport||null}function T(e,t,n){if(typeof e.generateMetadata==="function"){const{route:r}=n;return n=>(0,h.getTracer)().trace(p.ResolveMetadataSpan.generateMetadata,{spanName:`generateMetadata ${r}`,attributes:{"next.page":r}},()=>e.generateMetadata(t,n))}return e.metadata||null}async function C(e,t,n){var r;if(!(e==null?void 0:e[n]))return undefined;const i=e[n].map(async e=>(0,l.interopDefault)(await e(t)));return(i==null?void 0:i.length)>0?(r=await Promise.all(i))==null?void 0:r.flat():undefined}async function R(e,t){const{metadata:n}=e;if(!n)return null;const[r,i,s,o]=await Promise.all([C(n,t,"icon"),C(n,t,"apple"),C(n,t,"openGraph"),C(n,t,"twitter")]);const a={icon:r,apple:i,openGraph:s,twitter:o,manifest:n.manifest};return a}async function I({tree:e,metadataItems:t,errorMetadataItem:n,props:r,route:i,errorConvention:s}){let o;let a;const c=Boolean(s&&e[2][s]);if(s){o=await (0,u.getComponentTypeModule)(e,"layout");a=s}else{const{mod:t,modType:n}=await (0,u.getLayoutOrPageModule)(e);o=t;a=n}if(a){i+=`/${a}`}const l=await R(e[2],r);const d=o?T(o,r,{route:i}):null;const f=o?S(o,r,{route:i}):null;t.push([d,l,f]);if(c&&s){const t=await (0,u.getComponentTypeModule)(e,s);const o=t?S(t,r,{route:i}):null;const a=t?T(t,r,{route:i}):null;n[0]=a;n[1]=l;n[2]=o}}const O=(0,i.cache)(async function(e,t,n,r,i,s){const o={};const a=[];const c=[null,null,null];const u=undefined;return A(a,e,u,o,t,n,c,r,i,s)});async function A(e,t,n,r,i,s,o,a,c,u){const[l,d,{page:f}]=t;const h=n&&n.length?[...n,l]:[l];const p=typeof f!=="undefined";const g=a(l);let y=r;if(g&&g.value!==null){y={...r,[g.param]:g.value}}const v=c(y,u);let b;if(p){b={params:v,searchParams:i}}else{b={params:v}}await I({tree:t,metadataItems:e,errorMetadataItem:o,errorConvention:s,props:b,route:h.filter(e=>e!==m.PAGE_SEGMENT_KEY).join("/")});for(const t in d){const n=d[t];await A(e,n,h,y,i,s,o,a,c,u)}if(Object.keys(d).length===0&&s){e.push(o)}return e}const P=e=>!!(e==null?void 0:e.absolute);const N=e=>P(e==null?void 0:e.title);function x(e,t){if(e){if(!N(e)&&N(t)){e.title=t.title}if(!e.description&&t.description){e.description=t.description}}}const D=null&&["title","description","images"];function k(e,t,n,r){const{openGraph:i,twitter:s}=e;if(i){let t={};const a=N(s);const c=s==null?void 0:s.description;const u=Boolean((s==null?void 0:s.hasOwnProperty("images"))&&s.images);if(!a){if(P(i.title)){t.title=i.title}else if(e.title&&P(e.title)){t.title=e.title}}if(!c)t.description=i.description||e.description||undefined;if(!u)t.images=i.images;if(Object.keys(t).length>0){const i=(0,o.resolveTwitter)(t,e.metadataBase,r,n.twitter);if(e.twitter){e.twitter=Object.assign({},e.twitter,{...!a&&{title:i==null?void 0:i.title},...!c&&{description:i==null?void 0:i.description},...!u&&{images:i==null?void 0:i.images}})}else{e.twitter=i}}}x(i,e);x(s,e);if(t){if(!e.icons){e.icons={icon:[],apple:[]}}e.icons.icon.unshift(t)}return e}function M(e,t,n){const r=t(new Promise(e=>{n.push(e)}));if(r instanceof Promise){r.catch(e=>{return{__nextError:e}})}e.push(r)}async function L(e,t,n,r,i,s){const o=e(n[r]);const a=t.resolvers;let c=null;if(typeof o==="function"){if(!a.length){for(let t=r;t<n.length;t++){const r=e(n[t]);if(typeof r==="function"){M(s,r,a)}}}const o=a[t.resolvingIndex];const u=s[t.resolvingIndex++];const l=false?0:i;o(l);c=u instanceof Promise?await u:u;if(c&&typeof c==="object"&&"__nextError"in c){throw c["__nextError"]}}else if(o!==null&&typeof o==="object"){c=o}return c}async function j(e,t){const n=(0,s.createDefaultMetadata)();const r=[];let i={title:null,twitter:null,openGraph:null};const o={resolvers:[],resolvingIndex:0};const a={warnings:new Set};let c;const u={icon:[],apple:[]};for(let s=0;s<e.length;s++){var l;const m=e[s][1];if(s<=1&&b(m==null?void 0:(l=m.icon)==null?void 0:l[0])){var d;const e=m==null?void 0:(d=m.icon)==null?void 0:d.shift();if(s===0)c=e}const g=await L(e=>e[0],o,e,s,n,r);E({target:n,source:g,metadataContext:t,staticFilesMetadata:m,titleTemplates:i,buildState:a,leafSegmentStaticIcons:u});if(s<e.length-2){var f,h,p;i={title:((f=n.title)==null?void 0:f.template)||null,openGraph:((h=n.openGraph)==null?void 0:h.title.template)||null,twitter:((p=n.twitter)==null?void 0:p.title.template)||null}}}if(u.icon.length>0||u.apple.length>0){if(!n.icons){n.icons={icon:[],apple:[]};if(u.icon.length>0){n.icons.icon.unshift(...u.icon)}if(u.apple.length>0){n.icons.apple.unshift(...u.apple)}}}if(a.warnings.size>0){for(const e of a.warnings){g.warn(e)}}return k(n,c,i,t)}async function F(e){const t=(0,s.createDefaultViewport)();const n=[];const r={resolvers:[],resolvingIndex:0};for(let i=0;i<e.length;i++){const s=await L(e=>e[2],r,e,i,t,n);w({target:t,source:s})}return t}async function B(e,t,n,r,i,s,o){const a=await O(e,t,n,r,i,s);return j(a,o)}async function U(e,t,n,r,i,s){const o=await O(e,t,n,r,i,s);return F(o)}},43210:(e,t,n)=>{"use strict";e.exports=n(94041).vendored["react-ssr"].React},43365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return a}});0&&0;const r=n(48737);const i=n(44523);const s=n(81856);o(n(40980),t);function o(e,t){Object.keys(e).forEach(function(n){if(n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)){Object.defineProperty(t,n,{enumerable:true,get:function(){return e[n]}})}});return e}class a{constructor(e){this.batcher=r.Batcher.create({cacheKeyFn:({key:e,isOnDemandRevalidate:t})=>`${e}-${t?"1":"0"}`,schedulerFn:i.scheduleOnNextTick});const t="minimalMode";this[t]=e}async get(e,t,n){if(!e){return t({hasResolved:false,previousCacheEntry:null})}const{incrementalCache:r,isOnDemandRevalidate:i=false,isFallback:o=false,isRoutePPREnabled:a=false}=n;const c=await this.batcher.batch({key:e,isOnDemandRevalidate:i},async(c,u)=>{var l;if(this.minimalMode&&((l=this.previousCacheItem)==null?void 0:l.key)===c&&this.previousCacheItem.expiresAt>Date.now()){return this.previousCacheItem.entry}const d=(0,s.routeKindToIncrementalCacheKind)(n.routeKind);let f=false;let h=null;try{h=!this.minimalMode?await r.get(e,{kind:d,isRoutePPREnabled:n.isRoutePPREnabled,isFallback:o}):null;if(h&&!i){u(h);f=true;if(!h.isStale||n.isPrefetch){return null}}const l=await t({hasResolved:f,previousCacheEntry:h,isRevalidating:true});if(!l){if(this.minimalMode)this.previousCacheItem=undefined;return null}const p=await (0,s.fromResponseCacheEntry)({...l,isMiss:!h});if(!p){if(this.minimalMode)this.previousCacheItem=undefined;return null}if(!i&&!f){u(p);f=true}if(p.cacheControl){if(this.minimalMode){this.previousCacheItem={key:c,entry:p,expiresAt:Date.now()+1e3}}else{await r.set(e,p.value,{cacheControl:p.cacheControl,isRoutePPREnabled:a,isFallback:o})}}return p}catch(t){if(h==null?void 0:h.cacheControl){const t=Math.min(Math.max(h.cacheControl.revalidate||3,3),30);const n=h.cacheControl.expire===undefined?undefined:Math.max(t+3,h.cacheControl.expire);await r.set(e,h.value,{cacheControl:{revalidate:t,expire:n},isRoutePPREnabled:a,isFallback:o})}if(f){console.error(t);return null}throw t}});return(0,s.toResponseCacheEntry)(c)}}},43611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return i},RemovedUAError:function(){return s}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},43763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ReflectAdapter",{enumerable:true,get:function(){return n}});class n{static get(e,t,n){const r=Reflect.get(e,t,n);if(typeof r==="function"){return r.bind(e)}return r}static set(e,t,n,r){return Reflect.set(e,t,n,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},43801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.OutlierDetectionLoadBalancingConfig=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.subchannelAddressToString=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var r=n(63038);Object.defineProperty(t,"trace",{enumerable:true,get:function(){return r.trace}});Object.defineProperty(t,"log",{enumerable:true,get:function(){return r.log}});var i=n(98605);Object.defineProperty(t,"registerResolver",{enumerable:true,get:function(){return i.registerResolver}});Object.defineProperty(t,"createResolver",{enumerable:true,get:function(){return i.createResolver}});var s=n(57213);Object.defineProperty(t,"uriToString",{enumerable:true,get:function(){return s.uriToString}});var o=n(70155);Object.defineProperty(t,"durationToMs",{enumerable:true,get:function(){return o.durationToMs}});var a=n(86693);Object.defineProperty(t,"BackoffTimeout",{enumerable:true,get:function(){return a.BackoffTimeout}});var c=n(30598);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:true,get:function(){return c.createChildChannelControlHelper}});Object.defineProperty(t,"registerLoadBalancerType",{enumerable:true,get:function(){return c.registerLoadBalancerType}});Object.defineProperty(t,"getFirstUsableConfig",{enumerable:true,get:function(){return c.getFirstUsableConfig}});Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:true,get:function(){return c.validateLoadBalancingConfig}});var u=n(98387);Object.defineProperty(t,"subchannelAddressToString",{enumerable:true,get:function(){return u.subchannelAddressToString}});var l=n(4976);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:true,get:function(){return l.ChildLoadBalancerHandler}});var d=n(70757);Object.defineProperty(t,"UnavailablePicker",{enumerable:true,get:function(){return d.UnavailablePicker}});Object.defineProperty(t,"QueuePicker",{enumerable:true,get:function(){return d.QueuePicker}});Object.defineProperty(t,"PickResultType",{enumerable:true,get:function(){return d.PickResultType}});var f=n(20653);Object.defineProperty(t,"BaseFilter",{enumerable:true,get:function(){return f.BaseFilter}});var h=n(87988);Object.defineProperty(t,"FilterStackFactory",{enumerable:true,get:function(){return h.FilterStackFactory}});var p=n(19780);Object.defineProperty(t,"registerAdminService",{enumerable:true,get:function(){return p.registerAdminService}});var m=n(58880);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:true,get:function(){return m.BaseSubchannelWrapper}});var g=n(4189);Object.defineProperty(t,"OutlierDetectionLoadBalancingConfig",{enumerable:true,get:function(){return g.OutlierDetectionLoadBalancingConfig}})},43828:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"detectDomainLocale",{enumerable:true,get:function(){return n}});function n(e,t,n){if(!e)return;if(n){n=n.toLowerCase()}for(const s of e){var r,i;const e=(r=s.domain)==null?void 0:r.split(":",1)[0].toLowerCase();if(t===e||n===s.defaultLocale.toLowerCase()||((i=s.locales)==null?void 0:i.some(e=>e.toLowerCase()===n))){return s}}}},44523:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{atLeastOneTask:function(){return s},scheduleImmediate:function(){return i},scheduleOnNextTick:function(){return r},waitAtLeastOneReactRenderTask:function(){return o}});const r=e=>{Promise.resolve().then(()=>{if(false){}else{process.nextTick(e)}})};const i=e=>{if(false){}else{setImmediate(e)}};function s(){return new Promise(e=>i(e))}function o(){if(false){}else{return new Promise(e=>setImmediate(e))}}},46033:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].ReactDOM},46059:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(43210);var i=n(98599);var s=n(66156);function o(e,t){return r.useReducer((e,n)=>{const r=t[e][n];return r??e},e)}var a=e=>{const{present:t,children:n}=e;const s=c(t);const o=typeof n==="function"?n({present:s.isPresent}):r.Children.only(n);const a=(0,i.s)(s.ref,l(o));const u=typeof n==="function";return u||s.isPresent?r.cloneElement(o,{ref:a}):null};a.displayName="Presence";function c(e){const[t,n]=r.useState();const i=r.useRef(null);const a=r.useRef(e);const c=r.useRef("none");const l=e?"mounted":"unmounted";const[d,f]=o(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});r.useEffect(()=>{const e=u(i.current);c.current=d==="mounted"?e:"none"},[d]);(0,s.N)(()=>{const t=i.current;const n=a.current;const r=n!==e;if(r){const r=c.current;const i=u(t);if(e){f("MOUNT")}else if(i==="none"||t?.display==="none"){f("UNMOUNT")}else{const e=r!==i;if(n&&e){f("ANIMATION_OUT")}else{f("UNMOUNT")}}a.current=e}},[e,f]);(0,s.N)(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window;const r=r=>{const s=u(i.current);const o=s.includes(r.animationName);if(r.target===t&&o){f("ANIMATION_END");if(!a.current){const r=t.style.animationFillMode;t.style.animationFillMode="forwards";e=n.setTimeout(()=>{if(t.style.animationFillMode==="forwards"){t.style.animationFillMode=r}})}}};const s=e=>{if(e.target===t){c.current=u(i.current)}};t.addEventListener("animationstart",s);t.addEventListener("animationcancel",r);t.addEventListener("animationend",r);return()=>{n.clearTimeout(e);t.removeEventListener("animationstart",s);t.removeEventListener("animationcancel",r);t.removeEventListener("animationend",r)}}else{f("ANIMATION_END")}},[t,f]);return{isPresent:["mounted","unmountSuspended"].includes(d),ref:r.useCallback(e=>{i.current=e?getComputedStyle(e):null;n(e)},[])}}function u(e){return e?.animationName||"none"}function l(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get;let n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.ref}t=Object.getOwnPropertyDescriptor(e,"ref")?.get;n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.props.ref}return e.props.ref||e.ref}var d=null&&a},46143:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{ACTION_SUFFIX:function(){return f},APP_DIR_ALIAS:function(){return x},CACHE_ONE_YEAR:function(){return T},DOT_NEXT_ALIAS:function(){return P},ESLINT_DEFAULT_DIRS:function(){return X},GSP_NO_RETURNED_VALUE:function(){return $},GSSP_COMPONENT_MEMBER_ERROR:function(){return K},GSSP_NO_RETURNED_VALUE:function(){return H},INFINITE_CACHE:function(){return C},INSTRUMENTATION_HOOK_FILENAME:function(){return O},MATCHED_PATH_HEADER:function(){return s},MIDDLEWARE_FILENAME:function(){return R},MIDDLEWARE_LOCATION_REGEXP:function(){return I},NEXT_BODY_SUFFIX:function(){return m},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return S},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return y},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return v},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return w},NEXT_CACHE_TAGS_HEADER:function(){return g},NEXT_CACHE_TAG_MAX_ITEMS:function(){return _},NEXT_CACHE_TAG_MAX_LENGTH:function(){return E},NEXT_DATA_SUFFIX:function(){return h},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return i},NEXT_META_SUFFIX:function(){return p},NEXT_QUERY_PARAM_PREFIX:function(){return r},NEXT_RESUME_HEADER:function(){return b},NON_STANDARD_NODE_ENV:function(){return Q},PAGES_DIR_ALIAS:function(){return A},PRERENDER_REVALIDATE_HEADER:function(){return o},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return a},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return B},ROOT_DIR_ALIAS:function(){return N},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return F},RSC_ACTION_ENCRYPTION_ALIAS:function(){return j},RSC_ACTION_PROXY_ALIAS:function(){return M},RSC_ACTION_VALIDATE_ALIAS:function(){return k},RSC_CACHE_WRAPPER_ALIAS:function(){return L},RSC_MOD_REF_PROXY_ALIAS:function(){return D},RSC_PREFETCH_SUFFIX:function(){return c},RSC_SEGMENTS_DIR_SUFFIX:function(){return u},RSC_SEGMENT_SUFFIX:function(){return l},RSC_SUFFIX:function(){return d},SERVER_PROPS_EXPORT_ERROR:function(){return G},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return V},SERVER_PROPS_SSG_CONFLICT:function(){return z},SERVER_RUNTIME:function(){return J},SSG_FALLBACK_EXPORT_ERROR:function(){return Y},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return U},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return q},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return W},WEBPACK_LAYERS:function(){return ee},WEBPACK_RESOURCE_QUERIES:function(){return et}});const r="nxtP";const i="nxtI";const s="x-matched-path";const o="x-prerender-revalidate";const a="x-prerender-revalidate-if-generated";const c=".prefetch.rsc";const u=".segments";const l=".segment.rsc";const d=".rsc";const f=".action";const h=".json";const p=".meta";const m=".body";const g="x-next-cache-tags";const y="x-next-revalidated-tags";const v="x-next-revalidate-tag-token";const b="next-resume";const _=128;const E=256;const w=1024;const S="_N_T_";const T=31536e3;const C=0xfffffffe;const R="middleware";const I=`(?:src/)?${R}`;const O="instrumentation";const A="private-next-pages";const P="private-dot-next";const N="private-next-root-dir";const x="private-next-app-dir";const D="next/dist/build/webpack/loaders/next-flight-loader/module-proxy";const k="private-next-rsc-action-validate";const M="private-next-rsc-server-reference";const L="private-next-rsc-cache-wrapper";const j="private-next-rsc-action-encryption";const F="private-next-rsc-action-client-wrapper";const B=`You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict`;const U=`You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps`;const V=`You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.`;const z=`You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps`;const q=`can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props`;const G=`pages with \`getServerSideProps\` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export`;const $="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?";const H="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?";const W="The `unstable_revalidate` property is available for general use.\n"+"Please use `revalidate` instead.";const K=`can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member`;const Q=`You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env`;const Y=`Pages with \`fallback\` enabled in \`getStaticPaths\` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export`;const X=["app","pages","components","lib","src"];const J={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"};const Z={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};const ee={...Z,GROUP:{builtinReact:[Z.reactServerComponents,Z.actionBrowser],serverOnly:[Z.reactServerComponents,Z.actionBrowser,Z.instrument,Z.middleware],neutralTarget:[Z.apiNode,Z.apiEdge],clientOnly:[Z.serverSideRendering,Z.appPagesBrowser],bundled:[Z.reactServerComponents,Z.actionBrowser,Z.serverSideRendering,Z.appPagesBrowser,Z.shared,Z.instrument,Z.middleware],appPages:[Z.reactServerComponents,Z.serverSideRendering,Z.appPagesBrowser,Z.actionBrowser]}};const et={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},46453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ensureLeadingSlash",{enumerable:true,get:function(){return n}});function n(e){return e.startsWith("/")?e:"/"+e}},46577:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/Users/joaquin/gesticom_2.0/frontend/node_modules/next/dist/client/components/metadata/metadata-boundary.js")},46642:e=>{"use strict";e.exports={}},47099:e=>{var t=1/0;var n="[object Symbol]";var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var s="\ud800-\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",c="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",d="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2000-\\u206f",h=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",m="\\ufe0e\\ufe0f",g=l+d+f+h;var y="[']",v="["+s+"]",b="["+g+"]",_="["+o+a+"]",E="\\d+",w="["+c+"]",S="["+u+"]",T="[^"+s+g+E+c+u+p+"]",C="\ud83c[\udffb-\udfff]",R="(?:"+_+"|"+C+")",I="[^"+s+"]",O="(?:\ud83c[\udde6-\uddff]){2}",A="[\ud800-\udbff][\udc00-\udfff]",P="["+p+"]",N="\\u200d";var x="(?:"+S+"|"+T+")",D="(?:"+P+"|"+T+")",k="(?:"+y+"(?:d|ll|m|re|s|t|ve))?",M="(?:"+y+"(?:D|LL|M|RE|S|T|VE))?",L=R+"?",j="["+m+"]?",F="(?:"+N+"(?:"+[I,O,A].join("|")+")"+j+L+")*",B=j+L+F,U="(?:"+[w,O,A].join("|")+")"+B,V="(?:"+[I+_+"?",_,O,A,v].join("|")+")";var z=RegExp(y,"g");var q=RegExp(_,"g");var G=RegExp(C+"(?="+C+")|"+V+B,"g");var $=RegExp([P+"?"+S+"+"+k+"(?="+[b,P,"$"].join("|")+")",D+"+"+M+"(?="+[b,P+x,"$"].join("|")+")",P+"?"+x+"+"+k,P+"+"+M,E,U].join("|"),"g");var H=RegExp("["+N+s+o+a+m+"]");var W=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var K={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"};var Q=typeof global=="object"&&global&&global.Object===Object&&global;var Y=typeof self=="object"&&self&&self.Object===Object&&self;var X=Q||Y||Function("return this")();function J(e,t,n,r){var i=-1,s=e?e.length:0;if(r&&s){n=e[++i]}while(++i<s){n=t(n,e[i],i,e)}return n}function Z(e){return e.split("")}function ee(e){return e.match(r)||[]}function et(e){return function(t){return e==null?undefined:e[t]}}var en=et(K);function er(e){return H.test(e)}function ei(e){return W.test(e)}function es(e){return er(e)?eo(e):Z(e)}function eo(e){return e.match(G)||[]}function ea(e){return e.match($)||[]}var ec=Object.prototype;var eu=ec.toString;var el=X.Symbol;var ed=el?el.prototype:undefined,ef=ed?ed.toString:undefined;function eh(e,t,n){var r=-1,i=e.length;if(t<0){t=-t>i?0:i+t}n=n>i?i:n;if(n<0){n+=i}i=t>n?0:n-t>>>0;t>>>=0;var s=Array(i);while(++r<i){s[r]=e[r+t]}return s}function ep(e){if(typeof e=="string"){return e}if(eb(e)){return ef?ef.call(e):""}var n=e+"";return n=="0"&&1/e==-t?"-0":n}function em(e,t,n){var r=e.length;n=n===undefined?r:n;return!t&&n>=r?e:eh(e,t,n)}function eg(e){return function(t){t=e_(t);var n=er(t)?es(t):undefined;var r=n?n[0]:t.charAt(0);var i=n?em(n,1).join(""):t.slice(1);return r[e]()+i}}function ey(e){return function(t){return J(eC(eS(t).replace(z,"")),e,"")}}function ev(e){return!!e&&typeof e=="object"}function eb(e){return typeof e=="symbol"||ev(e)&&eu.call(e)==n}function e_(e){return e==null?"":ep(e)}var eE=ey(function(e,t,n){t=t.toLowerCase();return e+(n?ew(t):t)});function ew(e){return eT(e_(e).toLowerCase())}function eS(e){e=e_(e);return e&&e.replace(i,en).replace(q,"")}var eT=eg("toUpperCase");function eC(e,t,n){e=e_(e);t=n?undefined:t;if(t===undefined){return ei(e)?ea(e):ee(e)}return e.match(t)||[]}e.exports=eE},47313:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>eo,LM:()=>ea,VY:()=>el,bL:()=>ec,bm:()=>ef,hE:()=>eu,rc:()=>ed});var r=n(43210);var i=n(51215);var s=n(70569);var o=n(98599);var a=n(9510);var c=n(11273);var u=n(31355);var l=n(25028);var d=n(46059);var f=n(14163);var h=n(13495);var p=n(65551);var m=n(66156);var g=n(69024);var y=n(60687);var v="ToastProvider";var[b,_,E]=(0,a.N)("Toast");var[w,S]=(0,c.A)("Toast",[E]);var[T,C]=w(v);var R=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e;const[c,u]=r.useState(null);const[l,d]=r.useState(0);const f=r.useRef(false);const h=r.useRef(false);if(!n.trim()){console.error(`Invalid prop \`label\` supplied to \`${v}\`. Expected non-empty \`string\`.`)}return(0,y.jsx)(b.Provider,{scope:t,children:(0,y.jsx)(T,{scope:t,label:n,duration:i,swipeDirection:s,swipeThreshold:o,toastCount:l,viewport:c,onViewportChange:u,onToastAdd:r.useCallback(()=>d(e=>e+1),[]),onToastRemove:r.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};R.displayName=v;var I="ToastViewport";var O=["F8"];var A="toast.viewportPause";var P="toast.viewportResume";var N=r.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=O,label:s="Notifications ({hotkey})",...a}=e;const c=C(I,n);const l=_(n);const d=r.useRef(null);const h=r.useRef(null);const p=r.useRef(null);const m=r.useRef(null);const g=(0,o.s)(t,m,c.onViewportChange);const v=i.join("+").replace(/Key/g,"").replace(/Digit/g,"");const E=c.toastCount>0;r.useEffect(()=>{const e=e=>{const t=i.length!==0&&i.every(t=>e[t]||e.code===t);if(t)m.current?.focus()};document.addEventListener("keydown",e);return()=>document.removeEventListener("keydown",e)},[i]);r.useEffect(()=>{const e=d.current;const t=m.current;if(E&&e&&t){const n=()=>{if(!c.isClosePausedRef.current){const e=new CustomEvent(A);t.dispatchEvent(e);c.isClosePausedRef.current=true}};const r=()=>{if(c.isClosePausedRef.current){const e=new CustomEvent(P);t.dispatchEvent(e);c.isClosePausedRef.current=false}};const i=t=>{const n=!e.contains(t.relatedTarget);if(n)r()};const s=()=>{const t=e.contains(document.activeElement);if(!t)r()};e.addEventListener("focusin",n);e.addEventListener("focusout",i);e.addEventListener("pointermove",n);e.addEventListener("pointerleave",s);window.addEventListener("blur",n);window.addEventListener("focus",r);return()=>{e.removeEventListener("focusin",n);e.removeEventListener("focusout",i);e.removeEventListener("pointermove",n);e.removeEventListener("pointerleave",s);window.removeEventListener("blur",n);window.removeEventListener("focus",r)}}},[E,c.isClosePausedRef]);const w=r.useCallback(({tabbingDirection:e})=>{const t=l();const n=t.map(t=>{const n=t.ref.current;const r=[n,...ei(n)];return e==="forwards"?r:r.reverse()});return(e==="forwards"?n.reverse():n).flat()},[l]);r.useEffect(()=>{const e=m.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;const r=t.key==="Tab"&&!n;if(r){const n=document.activeElement;const r=t.shiftKey;const i=t.target===e;if(i&&r){h.current?.focus();return}const s=r?"backwards":"forwards";const o=w({tabbingDirection:s});const a=o.findIndex(e=>e===n);if(es(o.slice(a+1))){t.preventDefault()}else{r?h.current?.focus():p.current?.focus()}}};e.addEventListener("keydown",t);return()=>e.removeEventListener("keydown",t)}},[l,w]);return(0,y.jsxs)(u.lg,{ref:d,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&(0,y.jsx)(D,{ref:h,onFocusFromOutsideViewport:()=>{const e=w({tabbingDirection:"forwards"});es(e)}}),(0,y.jsx)(b.Slot,{scope:n,children:(0,y.jsx)(f.sG.ol,{tabIndex:-1,...a,ref:g})}),E&&(0,y.jsx)(D,{ref:p,onFocusFromOutsideViewport:()=>{const e=w({tabbingDirection:"backwards"});es(e)}})]})});N.displayName=I;var x="ToastFocusProxy";var D=r.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e;const s=C(x,n);return(0,y.jsx)(g.s6,{"aria-hidden":true,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;const n=!s.viewport?.contains(t);if(n)r()}})});D.displayName=x;var k="Toast";var M="toast.swipeStart";var L="toast.swipeMove";var j="toast.swipeCancel";var F="toast.swipeEnd";var B=r.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=e;const[c,u]=(0,p.i)({prop:r,defaultProp:i??true,onChange:o,caller:k});return(0,y.jsx)(d.C,{present:n||c,children:(0,y.jsx)(z,{open:c,...a,ref:t,onClose:()=>u(false),onPause:(0,h.c)(e.onPause),onResume:(0,h.c)(e.onResume),onSwipeStart:(0,s.m)(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:(0,s.m)(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move");e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`);e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)}),onSwipeCancel:(0,s.m)(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel");e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x");e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y");e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x");e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:(0,s.m)(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end");e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x");e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y");e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`);e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`);u(false)})})})});B.displayName=k;var[U,V]=w(k,{onClose(){}});var z=r.forwardRef((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:c,open:l,onClose:d,onEscapeKeyDown:p,onPause:m,onResume:g,onSwipeStart:v,onSwipeMove:_,onSwipeCancel:E,onSwipeEnd:w,...S}=e;const T=C(k,n);const[R,I]=r.useState(null);const O=(0,o.s)(t,e=>I(e));const N=r.useRef(null);const x=r.useRef(null);const D=c||T.duration;const B=r.useRef(0);const V=r.useRef(D);const z=r.useRef(0);const{onToastAdd:G,onToastRemove:$}=T;const H=(0,h.c)(()=>{const e=R?.contains(document.activeElement);if(e)T.viewport?.focus();d()});const W=r.useCallback(e=>{if(!e||e===Infinity)return;window.clearTimeout(z.current);B.current=new Date().getTime();z.current=window.setTimeout(H,e)},[H]);r.useEffect(()=>{const e=T.viewport;if(e){const t=()=>{W(V.current);g?.()};const n=()=>{const e=new Date().getTime()-B.current;V.current=V.current-e;window.clearTimeout(z.current);m?.()};e.addEventListener(A,n);e.addEventListener(P,t);return()=>{e.removeEventListener(A,n);e.removeEventListener(P,t)}}},[T.viewport,D,m,g,W]);r.useEffect(()=>{if(l&&!T.isClosePausedRef.current)W(D)},[l,D,T.isClosePausedRef,W]);r.useEffect(()=>{G();return()=>$()},[G,$]);const K=r.useMemo(()=>{return R?Z(R):null},[R]);if(!T.viewport)return null;return(0,y.jsxs)(y.Fragment,{children:[K&&(0,y.jsx)(q,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":true,children:K}),(0,y.jsx)(U,{scope:n,onClose:H,children:i.createPortal((0,y.jsx)(b.ItemSlot,{scope:n,children:(0,y.jsx)(u.bL,{asChild:true,onEscapeKeyDown:(0,s.m)(p,()=>{if(!T.isFocusedToastEscapeKeyDownRef.current)H();T.isFocusedToastEscapeKeyDownRef.current=false}),children:(0,y.jsx)(f.sG.li,{role:"status","aria-live":"off","aria-atomic":true,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":T.swipeDirection,...S,ref:O,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,s.m)(e.onKeyDown,e=>{if(e.key!=="Escape")return;p?.(e.nativeEvent);if(!e.nativeEvent.defaultPrevented){T.isFocusedToastEscapeKeyDownRef.current=true;H()}}),onPointerDown:(0,s.m)(e.onPointerDown,e=>{if(e.button!==0)return;N.current={x:e.clientX,y:e.clientY}}),onPointerMove:(0,s.m)(e.onPointerMove,e=>{if(!N.current)return;const t=e.clientX-N.current.x;const n=e.clientY-N.current.y;const r=Boolean(x.current);const i=["left","right"].includes(T.swipeDirection);const s=["left","up"].includes(T.swipeDirection)?Math.min:Math.max;const o=i?s(0,t):0;const a=!i?s(0,n):0;const c=e.pointerType==="touch"?10:2;const u={x:o,y:a};const l={originalEvent:e,delta:u};if(r){x.current=u;ee(L,_,l,{discrete:false})}else if(et(u,T.swipeDirection,c)){x.current=u;ee(M,v,l,{discrete:false});e.target.setPointerCapture(e.pointerId)}else if(Math.abs(t)>c||Math.abs(n)>c){N.current=null}}),onPointerUp:(0,s.m)(e.onPointerUp,e=>{const t=x.current;const n=e.target;if(n.hasPointerCapture(e.pointerId)){n.releasePointerCapture(e.pointerId)}x.current=null;N.current=null;if(t){const n=e.currentTarget;const r={originalEvent:e,delta:t};if(et(t,T.swipeDirection,T.swipeThreshold)){ee(F,w,r,{discrete:true})}else{ee(j,E,r,{discrete:true})}n.addEventListener("click",e=>e.preventDefault(),{once:true})}})})})}),T.viewport)})]})});var q=e=>{const{__scopeToast:t,children:n,...i}=e;const s=C(k,t);const[o,a]=r.useState(false);const[c,u]=r.useState(false);en(()=>a(true));r.useEffect(()=>{const e=window.setTimeout(()=>u(true),1e3);return()=>window.clearTimeout(e)},[]);return c?null:(0,y.jsx)(l.Z,{asChild:true,children:(0,y.jsx)(g.s6,{...i,children:o&&(0,y.jsxs)(y.Fragment,{children:[s.label," ",n]})})})};var G="ToastTitle";var $=r.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return(0,y.jsx)(f.sG.div,{...r,ref:t})});$.displayName=G;var H="ToastDescription";var W=r.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return(0,y.jsx)(f.sG.div,{...r,ref:t})});W.displayName=H;var K="ToastAction";var Q=r.forwardRef((e,t)=>{const{altText:n,...r}=e;if(!n.trim()){console.error(`Invalid prop \`altText\` supplied to \`${K}\`. Expected non-empty \`string\`.`);return null}return(0,y.jsx)(J,{altText:n,asChild:true,children:(0,y.jsx)(X,{...r,ref:t})})});Q.displayName=K;var Y="ToastClose";var X=r.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;const i=V(Y,n);return(0,y.jsx)(J,{asChild:true,children:(0,y.jsx)(f.sG.button,{type:"button",...r,ref:t,onClick:(0,s.m)(e.onClick,i.onClose)})})});X.displayName=Y;var J=r.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return(0,y.jsx)(f.sG.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Z(e){const t=[];const n=Array.from(e.childNodes);n.forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent)t.push(e.textContent);if(er(e)){const n=e.ariaHidden||e.hidden||e.style.display==="none";const r=e.dataset.radixToastAnnounceExclude==="";if(!n){if(r){const n=e.dataset.radixToastAnnounceAlt;if(n)t.push(n)}else{t.push(...Z(e))}}}});return t}function ee(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget;const s=new CustomEvent(e,{bubbles:true,cancelable:true,detail:n});if(t)i.addEventListener(e,t,{once:true});if(r){(0,f.hO)(i,s)}else{i.dispatchEvent(s)}}var et=(e,t,n=0)=>{const r=Math.abs(e.x);const i=Math.abs(e.y);const s=r>i;if(t==="left"||t==="right"){return s&&r>n}else{return!s&&i>n}};function en(e=()=>{}){const t=(0,h.c)(e);(0,m.N)(()=>{let e=0;let n=0;e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t));return()=>{window.cancelAnimationFrame(e);window.cancelAnimationFrame(n)}},[t])}function er(e){return e.nodeType===e.ELEMENT_NODE}function ei(e){const t=[];const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t=e.tagName==="INPUT"&&e.type==="hidden";if(e.disabled||e.hidden||t)return NodeFilter.FILTER_SKIP;return e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});while(n.nextNode())t.push(n.currentNode);return t}function es(e){const t=document.activeElement;return e.some(e=>{if(e===t)return true;e.focus();return document.activeElement!==t})}var eo=R;var ea=N;var ec=B;var eu=$;var el=W;var ed=Q;var ef=X},47348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"addPathPrefix",{enumerable:true,get:function(){return i}});const r=n(18631);function i(e,t){if(!e.startsWith("/")||!t){return e}const{pathname:n,query:i,hash:s}=(0,r.parsePath)(e);return""+t+n+i+s}},47866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ENCODED_TAGS",{enumerable:true,get:function(){return n}});const n={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}}},47912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{fromNodeOutgoingHttpHeaders:function(){return s},normalizeNextQueryParam:function(){return u},splitCookiesString:function(){return o},toNodeOutgoingHttpHeaders:function(){return a},validateURL:function(){return c}});const i=n(46143);function s(e){const t=new Headers;for(let[n,r]of Object.entries(e)){const e=Array.isArray(r)?r:[r];for(let r of e){if(typeof r==="undefined")continue;if(typeof r==="number"){r=r.toString()}t.append(n,r)}}return t}function o(e){var t=[];var n=0;var r;var i;var s;var o;var a;function c(){while(n<e.length&&/\s/.test(e.charAt(n))){n+=1}return n<e.length}function u(){i=e.charAt(n);return i!=="="&&i!==";"&&i!==","}while(n<e.length){r=n;a=false;while(c()){i=e.charAt(n);if(i===","){s=n;n+=1;c();o=n;while(n<e.length&&u()){n+=1}if(n<e.length&&e.charAt(n)==="="){a=true;n=o;t.push(e.substring(r,s));r=n}else{n=s+1}}else{n+=1}}if(!a||n>=e.length){t.push(e.substring(r,e.length))}}return t}function a(e){const t={};const n=[];if(e){for(const[r,i]of e.entries()){if(r.toLowerCase()==="set-cookie"){n.push(...o(i));t[r]=n.length===1?n[0]:n}else{t[r]=i}}}return t}function c(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(new Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:false,configurable:true})}}function u(e){const t=[i.NEXT_QUERY_PARAM_PREFIX,i.NEXT_INTERCEPTION_MARKER_PREFIX];for(const n of t){if(e!==n&&e.startsWith(n)){return e.substring(n.length)}}return null}},48088:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"RouteKind",{enumerable:true,get:function(){return n}});var n=function(e){e["PAGES"]="PAGES";e["PAGES_API"]="PAGES_API";e["APP_PAGE"]="APP_PAGE";e["APP_ROUTE"]="APP_ROUTE";e["IMAGE"]="IMAGE";return e}({})},48436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InternalChannel=void 0;const r=n(36551);const i=n(27748);const s=n(10561);const o=n(70757);const a=n(93122);const c=n(87988);const u=n(30948);const l=n(98605);const d=n(63038);const f=n(77936);const h=n(57213);const p=n(20920);const m=n(37216);const g=n(65950);const y=n(34679);const v=n(51421);const b=n(16497);const _=n(53908);const E=n(14778);const w=n(58880);const S=0x7fffffff;const T=1e3;const C=30*60*1e3;const R=new Map;const I=1<<24;const O=1<<20;class A extends w.BaseSubchannelWrapper{constructor(e,t){super(e);this.channel=t;this.refCount=0;this.subchannelStateListener=(e,n,r,i)=>{t.throttleKeepalive(i)};e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref();this.refCount+=1}unref(){this.child.unref();this.refCount-=1;if(this.refCount<=0){this.child.removeConnectivityStateListener(this.subchannelStateListener);this.channel.removeWrappedSubchannel(this)}}}class P{constructor(e,t,n){var g,y,v,b,w,P,N,x;this.credentials=t;this.options=n;this.connectivityState=p.ConnectivityState.IDLE;this.currentPicker=new o.UnavailablePicker;this.configSelectionQueue=[];this.pickQueue=[];this.connectivityStateWatchers=[];this.configSelector=null;this.currentResolutionError=null;this.wrappedSubchannels=new Set;this.callCount=0;this.idleTimer=null;this.channelzEnabled=true;this.callTracker=new m.ChannelzCallTracker;this.childrenTracker=new m.ChannelzChildrenTracker;if(typeof e!=="string"){throw new TypeError("Channel target must be a string")}if(!(t instanceof r.ChannelCredentials)){throw new TypeError("Channel credentials must be a ChannelCredentials object")}if(n){if(typeof n!=="object"){throw new TypeError("Channel options must be an object")}}this.originalTarget=e;const D=(0,h.parseUri)(e);if(D===null){throw new Error(`Could not parse target name "${e}"`)}const k=(0,l.mapUriDefaultScheme)(D);if(k===null){throw new Error(`Could not find a default scheme for target name "${e}"`)}this.callRefTimer=setInterval(()=>{},S);(y=(g=this.callRefTimer).unref)===null||y===void 0?void 0:y.call(g);if(this.options["grpc.enable_channelz"]===0){this.channelzEnabled=false}this.channelzTrace=new m.ChannelzTrace;this.channelzRef=(0,m.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Channel created")}if(this.options["grpc.default_authority"]){this.defaultAuthority=this.options["grpc.default_authority"]}else{this.defaultAuthority=(0,l.getDefaultAuthority)(k)}const M=(0,f.mapProxyName)(k,n);this.target=M.target;this.options=Object.assign({},this.options,M.extraOptions);this.subchannelPool=(0,s.getSubchannelPool)(((v=n["grpc.use_local_subchannel_pool"])!==null&&v!==void 0?v:0)===0);this.retryBufferTracker=new E.MessageBufferTracker((b=n["grpc.retry_buffer_size"])!==null&&b!==void 0?b:I,(w=n["grpc.per_rpc_retry_buffer_size"])!==null&&w!==void 0?w:O);this.keepaliveTime=(P=n["grpc.keepalive_time_ms"])!==null&&P!==void 0?P:-1;this.idleTimeoutMs=Math.max((N=n["grpc.client_idle_timeout_ms"])!==null&&N!==void 0?N:C,T);const L={createSubchannel:(e,t)=>{const n=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);n.throttleKeepalive(this.keepaliveTime);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",n.getChannelzRef())}const r=new A(n,this);this.wrappedSubchannels.add(r);return r},updateState:(e,t)=>{this.currentPicker=t;const n=this.pickQueue.slice();this.pickQueue=[];if(n.length>0){this.callRefTimerUnref()}for(const e of n){e.doPick()}this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{if(this.channelzEnabled){this.childrenTracker.refChild(e)}},removeChannelzChild:e=>{if(this.channelzEnabled){this.childrenTracker.unrefChild(e)}}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,L,n,(e,t)=>{if(e.retryThrottling){R.set(this.getTarget(),new E.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,R.get(this.getTarget())))}else{R.delete(this.getTarget())}if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded")}this.configSelector=t;this.currentResolutionError=null;process.nextTick(()=>{const e=this.configSelectionQueue;this.configSelectionQueue=[];if(e.length>0){this.callRefTimerUnref()}for(const t of e){t.getConfig()}})},e=>{if(this.channelzEnabled){this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"')}if(this.configSelectionQueue.length>0){this.trace("Name resolution failed with calls queued for config selection")}if(this.configSelector===null){this.currentResolutionError=Object.assign(Object.assign({},(0,_.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata})}const t=this.configSelectionQueue;this.configSelectionQueue=[];if(t.length>0){this.callRefTimerUnref()}for(const n of t){n.reportResolverError(e)}});this.filterStackFactory=new c.FilterStackFactory([new u.CompressionFilterFactory(this,this.options)]);this.trace("Channel constructed with options "+JSON.stringify(n,undefined,2));const j=new Error;(0,d.trace)(a.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") "+"Channel constructed \n"+((x=j.stack)===null||x===void 0?void 0:x.substring(j.stack.indexOf("\n")+1)));this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,d.trace)(t!==null&&t!==void 0?t:a.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,h.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,n,r;if(!((t=(e=this.callRefTimer).hasRef)===null||t===void 0?void 0:t.call(e))){this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length);(r=(n=this.callRefTimer).ref)===null||r===void 0?void 0:r.call(n)}}callRefTimerUnref(){var e,t;if(!this.callRefTimer.hasRef||this.callRefTimer.hasRef()){this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length);(t=(e=this.callRefTimer).unref)===null||t===void 0?void 0:t.call(e)}}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex(t=>t===e);if(t>=0){this.connectivityStateWatchers.splice(t,1)}}updateState(e){(0,d.trace)(a.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,h.uriToString)(this.target)+" "+p.ConnectivityState[this.connectivityState]+" -> "+p.ConnectivityState[e]);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+p.ConnectivityState[e])}this.connectivityState=e;const t=this.connectivityStateWatchers.slice();for(const n of t){if(e!==n.currentState){if(n.timer){clearTimeout(n.timer)}this.removeConnectivityStateWatcher(n);n.callback()}}if(e!==p.ConnectivityState.TRANSIENT_FAILURE){this.currentResolutionError=null}}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(const t of this.wrappedSubchannels){t.throttleKeepalive(e)}}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e);this.callRefTimerRef()}getConfig(e,t){this.resolvingLoadBalancer.exitIdle();if(this.configSelector){return{type:"SUCCESS",config:this.configSelector(e,t)}}else{if(this.currentResolutionError){return{type:"ERROR",error:this.currentResolutionError}}else{return{type:"NONE"}}}}queueCallForConfig(e){this.configSelectionQueue.push(e);this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy();this.updateState(p.ConnectivityState.IDLE);this.currentPicker=new o.QueuePicker(this.resolvingLoadBalancer);if(this.idleTimer){clearTimeout(this.idleTimer);this.idleTimer=null}}startIdleTimeout(e){var t,n;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}const e=new Date;const t=e.valueOf()-this.lastActivityTimestamp.valueOf();if(t>=this.idleTimeoutMs){this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity");this.enterIdle()}else{this.startIdleTimeout(this.idleTimeoutMs-t)}},e);(n=(t=this.idleTimer).unref)===null||n===void 0?void 0:n.call(t)}maybeStartIdleTimer(){if(this.connectivityState!==p.ConnectivityState.SHUTDOWN&&!this.idleTimer){this.startIdleTimeout(this.idleTimeoutMs)}}onCallStart(){if(this.channelzEnabled){this.callTracker.addCallStarted()}this.callCount+=1}onCallEnd(e){if(this.channelzEnabled){if(e.code===a.Status.OK){this.callTracker.addCallSucceeded()}else{this.callTracker.addCallFailed()}}this.callCount-=1;this.lastActivityTimestamp=new Date;this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,n,r,i){const s=(0,b.getNextCallNumber)();this.trace("createLoadBalancingCall ["+s+'] method="'+t+'"');return new g.LoadBalancingCall(this,e,t,n,r,i,s)}createRetryingCall(e,t,n,r,i){const s=(0,b.getNextCallNumber)();this.trace("createRetryingCall ["+s+'] method="'+t+'"');return new E.RetryingCall(this,e,t,n,r,i,s,this.retryBufferTracker,R.get(this.getTarget()))}createInnerCall(e,t,n,r,i){if(this.options["grpc.enable_retries"]===0){return this.createLoadBalancingCall(e,t,n,r,i)}else{return this.createRetryingCall(e,t,n,r,i)}}createResolvingCall(e,t,n,r,i){const s=(0,b.getNextCallNumber)();this.trace("createResolvingCall ["+s+'] method="'+e+'", deadline='+(0,y.deadlineToString)(t));const o={deadline:t,flags:i!==null&&i!==void 0?i:a.Propagate.DEFAULTS,host:n!==null&&n!==void 0?n:this.defaultAuthority,parentCall:r};const c=new v.ResolvingCall(this,e,o,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),s);this.onCallStart();c.addStatusWatcher(e=>{this.onCallEnd(e)});return c}close(){this.resolvingLoadBalancer.destroy();this.updateState(p.ConnectivityState.SHUTDOWN);clearInterval(this.callRefTimer);if(this.idleTimer){clearTimeout(this.idleTimer)}if(this.channelzEnabled){(0,m.unregisterChannelzRef)(this.channelzRef)}this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,h.uriToString)(this.target)}getConnectivityState(e){const t=this.connectivityState;if(e){this.resolvingLoadBalancer.exitIdle();this.lastActivityTimestamp=new Date;this.maybeStartIdleTimer()}return t}watchConnectivityState(e,t,n){if(this.connectivityState===p.ConnectivityState.SHUTDOWN){throw new Error("Channel has been shut down")}let r=null;if(t!==Infinity){const e=t instanceof Date?t:new Date(t);const s=new Date;if(t===-Infinity||e<=s){process.nextTick(n,new Error("Deadline passed without connectivity state change"));return}r=setTimeout(()=>{this.removeConnectivityStateWatcher(i);n(new Error("Deadline passed without connectivity state change"))},e.getTime()-s.getTime())}const i={currentState:e,callback:n,timer:r};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,n,r,i){if(typeof e!=="string"){throw new TypeError("Channel#createCall: method must be a string")}if(!(typeof t==="number"||t instanceof Date)){throw new TypeError("Channel#createCall: deadline must be a number or Date")}if(this.connectivityState===p.ConnectivityState.SHUTDOWN){throw new Error("Channel has been shut down")}return this.createResolvingCall(e,t,n,r,i)}}t.InternalChannel=P},48737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Batcher",{enumerable:true,get:function(){return i}});const r=n(90366);class i{constructor(e,t=e=>e()){this.cacheKeyFn=e;this.schedulerFn=t;this.pending=new Map}static create(e){return new i(e==null?void 0:e.cacheKeyFn,e==null?void 0:e.schedulerFn)}async batch(e,t){const n=this.cacheKeyFn?await this.cacheKeyFn(e):e;if(n===null){return t(n,Promise.resolve)}const i=this.pending.get(n);if(i)return i;const{promise:s,resolve:o,reject:a}=new r.DetachedPromise;this.pending.set(n,s);this.schedulerFn(async()=>{try{const e=await t(n,o);o(e)}catch(e){a(e)}finally{this.pending.delete(n)}});return s}}},49026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{REDIRECT_ERROR_CODE:function(){return s},RedirectType:function(){return o},isRedirectError:function(){return a}});const i=n(52836);const s="NEXT_REDIRECT";var o=function(e){e["push"]="push";e["replace"]="replace";return e}({});function a(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}const t=e.digest.split(";");const[n,r]=t;const o=t.slice(2,-2).join(";");const a=t.at(-2);const c=Number(a);return n===s&&(r==="replace"||r==="push")&&typeof o==="string"&&!isNaN(c)&&c in i.RedirectStatusCode}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},49384:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function i(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}var s=null&&i},49477:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/Users/joaquin/gesticom_2.0/frontend/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js")},50148:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"warnOnce",{enumerable:true,get:function(){return n}});let n=e=>{};if(false){}},51215:(e,t,n)=>{"use strict";e.exports=n(94041).vendored["react-ssr"].ReactDOM},51421:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ResolvingCall=void 0;const r=n(93122);const i=n(34679);const s=n(99978);const o=n(63038);const a=n(53908);const c="resolving_call";class u{constructor(e,t,n,s,o,a){this.channel=e;this.method=t;this.filterStackFactory=s;this.credentials=o;this.callNumber=a;this.child=null;this.readPending=false;this.pendingMessage=null;this.pendingHalfClose=false;this.ended=false;this.readFilterPending=false;this.writeFilterPending=false;this.pendingChildStatus=null;this.metadata=null;this.listener=null;this.statusWatchers=[];this.deadlineTimer=setTimeout(()=>{},0);this.filterStack=null;this.deadline=n.deadline;this.host=n.host;if(n.parentCall){if(n.flags&r.Propagate.CANCELLATION){n.parentCall.on("cancelled",()=>{this.cancelWithStatus(r.Status.CANCELLED,"Cancelled by parent call")})}if(n.flags&r.Propagate.DEADLINE){this.trace("Propagating deadline from parent: "+n.parentCall.getDeadline());this.deadline=(0,i.minDeadline)(this.deadline,n.parentCall.getDeadline())}}this.trace("Created");this.runDeadlineTimer()}trace(e){o.trace(r.LogVerbosity.DEBUG,c,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer);this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));const e=(0,i.getRelativeTimeout)(this.deadline);if(e!==Infinity){this.trace("Deadline will be reached in "+e+"ms");const t=()=>{this.cancelWithStatus(r.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};if(e<=0){process.nextTick(t)}else{this.deadlineTimer=setTimeout(t,e)}}}outputStatus(e){if(!this.ended){this.ended=true;if(!this.filterStack){this.filterStack=this.filterStackFactory.createFilter()}clearTimeout(this.deadlineTimer);const t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"');this.statusWatchers.forEach(e=>e(t));process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0?void 0:e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child){throw new Error("sendMessageonChild called with child not populated")}const n=this.child;this.writeFilterPending=true;this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=false;n.sendMessageWithContext(e,t.message);if(this.pendingHalfClose){n.halfClose()}},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended){return}if(!this.metadata||!this.listener){throw new Error("getConfig called before start")}const e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){if(this.metadata.getOptions().waitForReady){this.channel.queueCallForConfig(this)}else{this.outputStatus(e.error)}return}const t=e.config;if(t.status!==r.Status.OK){const{code:e,details:n}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:n,metadata:new s.Metadata});return}if(t.methodConfig.timeout){const e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds);e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6);this.deadline=(0,i.minDeadline)(this.deadline,e);this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories);this.filterStack=this.filterStackFactory.createFilter();this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline);this.trace("Created child ["+this.child.getCallNumber()+"]");this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata");this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message");this.readFilterPending=true;this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message");this.readFilterPending=false;this.listener.onReceiveMessage(e);if(this.pendingChildStatus){this.outputStatus(this.pendingChildStatus)}},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status");if(this.readFilterPending){this.pendingChildStatus=e}else{this.outputStatus(e)}}});if(this.readPending){this.child.startRead()}if(this.pendingMessage){this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message)}else if(this.pendingHalfClose){this.child.halfClose()}},e=>{this.outputStatus(e)})}reportResolverError(e){var t;if((t=this.metadata)===null||t===void 0?void 0:t.getOptions().waitForReady){this.channel.queueCallForConfig(this)}else{this.outputStatus(e)}}cancelWithStatus(e,t){var n;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"');(n=this.child)===null||n===void 0?void 0:n.cancelWithStatus(e,t);this.outputStatus({code:e,details:t,metadata:new s.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called");this.metadata=e.clone();this.listener=t;this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);if(this.child){this.sendMessageOnChild(e,t)}else{this.pendingMessage={context:e,message:t}}}startRead(){this.trace("startRead called");if(this.child){this.child.startRead()}else{this.readPending=true}}halfClose(){this.trace("halfClose called");if(this.child&&!this.writeFilterPending){this.child.halfClose()}else{this.pendingHalfClose=true}}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}t.ResolvingCall=u},51846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return s}});const r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function s(e){if(typeof e!=="object"||e===null||!("digest"in e)){return false}return e.digest===r}},52122:(e,t,n)=>{"use strict";n.d(t,{cY:()=>R,FA:()=>ee,g:()=>Z,u:()=>h,Uj:()=>f,Fy:()=>A,tD:()=>eE,bD:()=>ep,hp:()=>eb,T9:()=>T,Tj:()=>w,yU:()=>S,mS:()=>y,Ku:()=>eU,ZQ:()=>M,sr:()=>V,zJ:()=>I,c1:()=>U,zW:()=>Q,jZ:()=>L,lV:()=>z,nr:()=>W,Ov:()=>K,gE:()=>O,Am:()=>ey,I9:()=>ev,P1:()=>k,eX:()=>Y});const r=()=>undefined;const i={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const s=function(e,t){if(!e){throw o(t)}};const o=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const a=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const c=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++];const o=e[n++];const a=e[n++];const c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++];const o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")};const u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const s=t+1<e.length;const o=s?e[t+1]:0;const a=t+2<e.length;const c=a?e[t+2]:0;const u=i>>2;const l=(i&3)<<4|o>>4;let d=(o&15)<<2|c>>6;let f=c&63;if(!a){f=64;if(!s){d=64}}r.push(n[u],n[l],n[d],n[f])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(a(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const s=t<e.length;const o=s?n[e.charAt(t)]:0;++t;const a=t<e.length;const c=a?n[e.charAt(t)]:64;++t;const u=t<e.length;const d=u?n[e.charAt(t)]:64;++t;if(i==null||o==null||c==null||d==null){throw new l}const f=i<<2|o>>4;r.push(f);if(c!==64){const e=o<<4&240|c>>2;r.push(e);if(d!==64){const e=c<<6&192|d;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class l extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const d=function(e){const t=a(e);return u.encodeByteArray(t,true)};const f=function(e){return d(e).replace(/\./g,"")};const h=function(e){try{return u.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function p(e){return m(undefined,e)}function m(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!g(n)){continue}e[n]=m(e[n],t[n])}return e}function g(e){return e!=="__proto__"}function y(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("Unable to locate global object.")}const v=()=>y().__FIREBASE_DEFAULTS__;const b=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const _=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&h(e[1]);return t&&JSON.parse(t)};const E=()=>{try{return r()||v()||b()||_()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const w=e=>E()?.emulatorHosts?.[e];const S=e=>{const t=w(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const T=()=>E()?.config;const C=e=>E()?.[`_${e}`];class R{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise((e,t)=>{this.resolve=e;this.reject=t})}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch(()=>{});if(e.length===1){e(t)}else{e(t,n)}}}}}function I(e){try{const t=e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e;return t.endsWith(".cloudworkstations.dev")}catch{return false}}async function O(e){const t=await fetch(e,{credentials:"include"});return t.ok}function A(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const s=e.sub||e.user_id;if(!s){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};const a="";return[f(JSON.stringify(n)),f(JSON.stringify(o)),a].join(".")}const P={};function N(){const e={prod:[],emulator:[]};for(const t of Object.keys(P)){if(P[t]){e.emulator.push(t)}else{e.prod.push(t)}}return e}function x(e){let t=document.getElementById(e);let n=false;if(!t){t=document.createElement("div");t.setAttribute("id",e);n=true}return{created:n,element:t}}let D=false;function k(e,t){if(typeof window==="undefined"||typeof document==="undefined"||!I(window.location.host)||P[e]===t||P[e]||D){return}P[e]=t;function n(e){return`__firebase__banner__${e}`}const r="__firebase__banner";const i=N();const s=i.prod.length>0;function o(){const e=document.getElementById(r);if(e){e.remove()}}function a(e){e.style.display="flex";e.style.background="#7faaf0";e.style.position="fixed";e.style.bottom="5px";e.style.left="5px";e.style.padding=".5em";e.style.borderRadius="5px";e.style.alignItems="center"}function c(e,t){e.setAttribute("width","24");e.setAttribute("id",t);e.setAttribute("height","24");e.setAttribute("viewBox","0 0 24 24");e.setAttribute("fill","none");e.style.marginLeft="-6px"}function u(){const e=document.createElement("span");e.style.cursor="pointer";e.style.marginLeft="16px";e.style.fontSize="24px";e.innerHTML=" &times;";e.onclick=()=>{D=true;o()};return e}function l(e,t){e.setAttribute("id",t);e.innerText="Learn more";e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend";e.setAttribute("target","__blank");e.style.paddingLeft="5px";e.style.textDecoration="underline"}function d(){const e=x(r);const t=n("text");const i=document.getElementById(t)||document.createElement("span");const o=n("learnmore");const d=document.getElementById(o)||document.createElement("a");const f=n("preprendIcon");const h=document.getElementById(f)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;a(t);l(d,o);const n=u();c(h,f);t.append(h,i,d,n);document.body.appendChild(t)}if(s){i.innerText=`Preview backend disconnected.`;h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`}else{h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`;i.innerText="Preview backend running in this workspace."}i.setAttribute("id",t)}if(document.readyState==="loading"){window.addEventListener("DOMContentLoaded",d)}else{d()}}function M(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function L(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(M())}function j(){const e=E()?.forceEnvironment;if(e==="node"){return true}else if(e==="browser"){return false}try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(e){return false}}function F(){return typeof window!=="undefined"||B()}function B(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function U(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function V(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function z(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function q(){return M().indexOf("Electron/")>=0}function G(){const e=M();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $(){return M().indexOf("MSAppHost/")>=0}function H(){return i.NODE_CLIENT===true||i.NODE_ADMIN===true}function W(){return!j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return!j()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Q(){try{return typeof indexedDB==="object"}catch(e){return false}}function Y(){return new Promise((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}function X(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const J="FirebaseError";class Z extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=J;Object.setPrototypeOf(this,Z.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,ee.prototype.create)}}}class ee{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const s=i?et(i,n):"Error";const o=`${this.serviceName}: ${s} (${r}).`;const a=new Z(r,o,n);return a}}function et(e,t){return e.replace(en,(e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`})}const en=/\{\$([^}]+)}/g;function er(e){return JSON.parse(e)}function ei(e){return JSON.stringify(e)}const es=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=er(h(s[0])||"");n=er(h(s[1])||"");i=s[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const eo=function(e){const t=es(e).claims;const n=Math.floor(new Date().getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const ea=function(e){const t=es(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const ec=function(e){const t=es(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const eu=function(e){const t=es(e).claims;return typeof t==="object"&&t["admin"]===true};function el(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ed(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function ef(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function eh(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function ep(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const s=t[i];if(em(n)&&em(s)){if(!ep(n,s)){return false}}else if(n!==s){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function em(e){return e!==null&&typeof e==="object"}function eg(e,t=2e3){const n=new R;setTimeout(()=>n.reject("timeout!"),t);e.then(n.resolve,n.reject);return n.promise}function ey(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function ev(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}});return t}function eb(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class e_{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=0x67452301;this.chain_[1]=0xefcdab89;this.chain_[2]=0x98badcfe;this.chain_[3]=0x10325476;this.chain_[4]=0xc3d2e1f0;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&0xffffffff}let r=this.chain_[0];let i=this.chain_[1];let s=this.chain_[2];let o=this.chain_[3];let a=this.chain_[4];let c,u;for(let e=0;e<80;e++){if(e<40){if(e<20){c=o^i&(s^o);u=0x5a827999}else{c=i^s^o;u=0x6ed9eba1}}else{if(e<60){c=i&s|o&(i|s);u=0x8f1bbcdc}else{c=i^s^o;u=0xca62c1d6}}const t=(r<<5|r>>>27)+c+a+u+n[e]&0xffffffff;a=o;o=s;s=(i<<30|i>>>2)&0xffffffff;i=r;r=t}this.chain_[0]=this.chain_[0]+r&0xffffffff;this.chain_[1]=this.chain_[1]+i&0xffffffff;this.chain_[2]=this.chain_[2]+s&0xffffffff;this.chain_[3]=this.chain_[3]+o&0xffffffff;this.chain_[4]=this.chain_[4]+a&0xffffffff}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;while(r<t){if(s===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[s]=e.charCodeAt(r);++s;++r;if(s===this.blockSize){this.compress_(i);s=0;break}}}else{while(r<t){i[s]=e[r];++s;++r;if(s===this.blockSize){this.compress_(i);s=0;break}}}}this.inbuf_=s;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function eE(e,t){const n=new ew(e,t);return n.subscribe.bind(n)}class ew{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)});this.close(e)}complete(){this.forEachObserver(e=>{e.complete()});this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(eT(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=eC}if(r.error===undefined){r.error=eC}if(r.complete===undefined){r.complete=eC}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then(()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return})}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then(()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}})}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then(()=>{this.observers=undefined;this.onNoObservers=undefined})}}function eS(e,t){return(...n)=>{Promise.resolve(true).then(()=>{e(...n)}).catch(e=>{if(t){t(e)}})}}function eT(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function eC(){}const eR=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function eI(e,t){return`${e} failed: ${t} argument `}function eO(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(eI(e,"namespace")+"must be a valid firebase namespace.")}}function eA(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(eI(e,t)+"must be a valid function.")}}function eP(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(eI(e,t)+"must be a valid context object.")}}const eN=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++;s(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;i=65536+(t<<10)+n}if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if(i<65536){t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const ex=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const eD=1e3;const ek=2;const eM=null&&4*60*60*1e3;const eL=.5;function ej(e,t=eD,n=ek){const r=t*Math.pow(n,e);const i=Math.round(eL*r*(Math.random()-.5)*2);return Math.min(eM,r+i)}function eF(e){if(!Number.isFinite(e)){return`${e}`}return e+eB(e)}function eB(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function eU(e){if(e&&e._delegate){return e._delegate}else{return e}}i.NODE_CLIENT=true},52513:(e,t,n)=>{"use strict";if(true){e.exports=n(20884)}else{}},52637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isPostpone",{enumerable:true,get:function(){return r}});const n=Symbol.for("react.postpone");function r(e){return typeof e==="object"&&e!==null&&e.$$typeof===n}},52825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{atLeastOneTask:function(){return s},scheduleImmediate:function(){return i},scheduleOnNextTick:function(){return r},waitAtLeastOneReactRenderTask:function(){return o}});const r=e=>{Promise.resolve().then(()=>{if(false){}else{process.nextTick(e)}})};const i=e=>{if(false){}else{setImmediate(e)}};function s(){return new Promise(e=>i(e))}function o(){if(false){}else{return new Promise(e=>setImmediate(e))}}},52836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"RedirectStatusCode",{enumerable:true,get:function(){return n}});var n=function(e){e[e["SeeOther"]=303]="SeeOther";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";return e}({});if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},53908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.restrictControlPlaneStatusCode=void 0;const r=n(93122);const i=[r.Status.OK,r.Status.INVALID_ARGUMENT,r.Status.NOT_FOUND,r.Status.ALREADY_EXISTS,r.Status.FAILED_PRECONDITION,r.Status.ABORTED,r.Status.OUT_OF_RANGE,r.Status.DATA_LOSS];function s(e,t){if(i.includes(e)){return{code:r.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${r.Status[e]} ${t}`}}else{return{code:e,details:t}}}t.restrictControlPlaneStatusCode=s},54351:(e,t,n)=>{"use strict";e.exports=v;var r=n(77968);((v.prototype=Object.create(r.prototype)).constructor=v).className="Type";var i=n(32110),s=n(12630),o=n(73267),a=n(25585),c=n(3076),u=n(8920),l=n(26996),d=n(96120),f=n(93107),h=n(30847),p=n(62823),m=n(16973),g=n(97659),y=n(63695);function v(e,t){r.call(this,e,t);this.fields={};this.oneofs=undefined;this.extensions=undefined;this.reserved=undefined;this.group=undefined;this._fieldsById=null;this._fieldsArray=null;this._oneofsArray=null;this._ctor=null}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;if(!(t instanceof u)){(e.prototype=new u).constructor=e;f.merge(e.prototype,t)}e.$type=e.prototype.$type=this;f.merge(e,u,true);this._ctor=e;var n=0;for(;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};if(n)Object.defineProperties(e.prototype,r)}}});v.generateConstructor=function e(e){var t=f.codegen(["p"],e.name);for(var n=0,r;n<e.fieldsArray.length;++n)if((r=e._fieldsArray[n]).map)t("this%s={}",f.safeProp(r.name));else if(r.repeated)t("this%s=[]",f.safeProp(r.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function b(e){e._fieldsById=e._fieldsArray=e._oneofsArray=null;delete e.encode;delete e.decode;delete e.verify;return e}v.fromJSON=function e(e,t){var n=new v(e,t.options);n.extensions=t.extensions;n.reserved=t.reserved;var u=Object.keys(t.fields),l=0;for(;l<u.length;++l)n.add((typeof t.fields[u[l]].keyType!=="undefined"?a.fromJSON:o.fromJSON)(u[l],t.fields[u[l]]));if(t.oneofs)for(u=Object.keys(t.oneofs),l=0;l<u.length;++l)n.add(s.fromJSON(u[l],t.oneofs[u[l]]));if(t.nested)for(u=Object.keys(t.nested),l=0;l<u.length;++l){var d=t.nested[u[l]];n.add((d.id!==undefined?o.fromJSON:d.fields!==undefined?v.fromJSON:d.values!==undefined?i.fromJSON:d.methods!==undefined?c.fromJSON:r.fromJSON)(u[l],d))}if(t.extensions&&t.extensions.length)n.extensions=t.extensions;if(t.reserved&&t.reserved.length)n.reserved=t.reserved;if(t.group)n.group=true;if(t.comment)n.comment=t.comment;if(t.edition)n._edition=t.edition;n._defaultEdition="proto3";return n};v.prototype.toJSON=function e(e){var t=r.prototype.toJSON.call(this,e);var n=e?Boolean(e.keepComments):false;return f.toObject(["edition",this._editionToJSON(),"options",t&&t.options||undefined,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])};v.prototype.resolveAll=function e(){if(!this._needsRecursiveResolve)return this;r.prototype.resolveAll.call(this);var e=this.oneofsArray;n=0;while(n<e.length)e[n++].resolve();var t=this.fieldsArray,n=0;while(n<t.length)t[n++].resolve();return this};v.prototype._resolveFeaturesRecursive=function e(e){if(!this._needsRecursiveFeatureResolution)return this;e=this._edition||e;r.prototype._resolveFeaturesRecursive.call(this,e);this.oneofsArray.forEach(t=>{t._resolveFeatures(e)});this.fieldsArray.forEach(t=>{t._resolveFeatures(e)});return this};v.prototype.get=function e(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};v.prototype.add=function e(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);if(e.parent)e.parent.remove(e);this.fields[e.name]=e;e.message=this;e.onAdd(this);return b(this)}if(e instanceof s){if(!this.oneofs)this.oneofs={};this.oneofs[e.name]=e;e.onAdd(this);return b(this)}return r.prototype.add.call(this,e)};v.prototype.remove=function e(e){if(e instanceof o&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);delete this.fields[e.name];e.parent=null;e.onRemove(this);return b(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);delete this.oneofs[e.name];e.parent=null;e.onRemove(this);return b(this)}return r.prototype.remove.call(this,e)};v.prototype.isReservedId=function e(e){return r.isReservedId(this.reserved,e)};v.prototype.isReservedName=function e(e){return r.isReservedName(this.reserved,e)};v.prototype.create=function e(e){return new this.ctor(e)};v.prototype.setup=function e(){var e=this.fullName,t=[];for(var n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=h(this)({Writer:d,types:t,util:f});this.decode=p(this)({Reader:l,types:t,util:f});this.verify=m(this)({types:t,util:f});this.fromObject=g.fromObject(this)({types:t,util:f});this.toObject=g.toObject(this)({types:t,util:f});var r=y[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject;this.fromObject=r.fromObject.bind(i);i.toObject=this.toObject;this.toObject=r.toObject.bind(i)}return this};v.prototype.encode=function e(e,t){return this.setup().encode(e,t)};v.prototype.encodeDelimited=function e(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};v.prototype.decode=function e(e,t){return this.setup().decode(e,t)};v.prototype.decodeDelimited=function e(e){if(!(e instanceof l))e=l.create(e);return this.decode(e,e.uint32())};v.prototype.verify=function e(e){return this.setup().verify(e)};v.prototype.fromObject=function e(e){return this.setup().fromObject(e)};v.prototype.toObject=function e(e,t){return this.setup().toObject(e,t)};v.d=function e(e){return function t(t){f.decorateType(t,e)}}},54369:(e,t,n)=>{"use strict";e.exports=s;var r=n(96120);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(8707);function s(){r.call(this)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe;s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&i.Buffer.prototype.set.name==="set"?function e(e,t,n){t.set(e,n)}:function e(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}};s.prototype.bytes=function e(e){if(i.isString(e))e=i._Buffer_from(e,"base64");var t=e.length>>>0;this.uint32(t);if(t)this._push(s.writeBytesBuffer,t,e);return this};function o(e,t,n){if(e.length<40)i.utf8.write(e,t,n);else if(t.utf8Write)t.utf8Write(e,n);else t.write(e,n)}s.prototype.string=function e(e){var t=i.Buffer.byteLength(e);this.uint32(t);if(t)this._push(o,t,e);return this};s._configure()},54717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{Postpone:function(){return R},abortAndThrowOnSynchronousRequestDataAccess:function(){return T},abortOnSynchronousPlatformIOAccess:function(){return w},accessedDynamicData:function(){return k},annotateDynamicAccess:function(){return U},consumeDynamicAccess:function(){return M},createDynamicTrackingState:function(){return p},createDynamicValidationState:function(){return m},createHangingInputAbortSignal:function(){return B},createPostponedAbortSignal:function(){return F},formatDynamicAPIAccesses:function(){return L},getFirstDynamicReason:function(){return g},isDynamicPostpone:function(){return A},isPrerenderInterruptedError:function(){return D},markCurrentScopeAsDynamic:function(){return y},postponeWithTracking:function(){return I},throwIfDisallowedDynamic:function(){return K},throwToInterruptStaticGeneration:function(){return b},trackAllowedDynamicAccess:function(){return H},trackDynamicDataInDynamicRender:function(){return _},trackFallbackParamAccessed:function(){return v},trackSynchronousPlatformIOAccessInDev:function(){return S},trackSynchronousRequestDataAccessInDev:function(){return C},useDynamicRouteParams:function(){return V}});const i=f(n(43210));const s=n(22113);const o=n(7797);const a=n(63033);const c=n(29294);const u=n(18238);const l=n(24207);const d=n(52825);function f(e){return e&&e.__esModule?e:{default:e}}const h=typeof i.default.unstable_postpone==="function";function p(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:undefined,syncDynamicErrorWithStack:null}}function m(){return{hasSuspendedDynamic:false,hasDynamicMetadata:false,hasDynamicViewport:false,hasSyncDynamicErrors:false,dynamicErrors:[]}}function g(e){var t;return(t=e.dynamicAccesses[0])==null?void 0:t.expression}function y(e,t,n){if(t){if(t.type==="cache"||t.type==="unstable-cache"){return}}if(e.forceDynamic||e.forceStatic)return;if(e.dynamicShouldError){throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${n}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:false,configurable:true})}if(t){if(t.type==="prerender-ppr"){I(e.route,n,t.dynamicTracking)}else if(t.type==="prerender-legacy"){t.revalidate=0;const r=Object.defineProperty(new s.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${n}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:false,configurable:true});e.dynamicUsageDescription=n;e.dynamicUsageStack=r.stack;throw r}else if(false){}}}function v(e,t){const n=a.workUnitAsyncStorage.getStore();if(!n||n.type!=="prerender-ppr")return;I(e.route,t,n.dynamicTracking)}function b(e,t,n){const r=Object.defineProperty(new s.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:false,configurable:true});n.revalidate=0;t.dynamicUsageDescription=e;t.dynamicUsageStack=r.stack;throw r}function _(e,t){if(t){if(t.type==="cache"||t.type==="unstable-cache"){return}if(t.type==="prerender"||t.type==="prerender-legacy"){t.revalidate=0}if(false){}}}function E(e,t,n){const r=`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`;const i=x(r);n.controller.abort(i);const s=n.dynamicTracking;if(s){s.dynamicAccesses.push({stack:s.isDebugDynamicAccesses?new Error().stack:undefined,expression:t})}}function w(e,t,n,r){const i=r.dynamicTracking;if(i){if(i.syncDynamicErrorWithStack===null){i.syncDynamicExpression=t;i.syncDynamicErrorWithStack=n}}return E(e,t,r)}function S(e){e.prerenderPhase=false}function T(e,t,n,r){const i=r.dynamicTracking;if(i){if(i.syncDynamicErrorWithStack===null){i.syncDynamicExpression=t;i.syncDynamicErrorWithStack=n;if(r.validating===true){i.syncDynamicLogged=true}}}E(e,t,r);throw x(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}const C=S;function R({reason:e,route:t}){const n=a.workUnitAsyncStorage.getStore();const r=n&&n.type==="prerender-ppr"?n.dynamicTracking:null;I(t,e,r)}function I(e,t,n){j();if(n){n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?new Error().stack:undefined,expression:t})}i.default.unstable_postpone(O(e,t))}function O(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. `+`React throws this special object to indicate where. It should not be caught by `+`your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function A(e){if(typeof e==="object"&&e!==null&&typeof e.message==="string"){return P(e.message)}return false}function P(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(P(O("%%%","^^^"))===false){throw Object.defineProperty(new Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:false,configurable:true})}const N="NEXT_PRERENDER_INTERRUPTED";function x(e){const t=Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});t.digest=N;return t}function D(e){return typeof e==="object"&&e!==null&&e.digest===N&&"name"in e&&"message"in e&&e instanceof Error}function k(e){return e.length>0}function M(e,t){e.dynamicAccesses.push(...t.dynamicAccesses);return e.dynamicAccesses}function L(e){return e.filter(e=>typeof e.stack==="string"&&e.stack.length>0).map(({expression:e,stack:t})=>{t=t.split("\n").slice(4).filter(e=>{if(e.includes("node_modules/next/")){return false}if(e.includes(" (<anonymous>)")){return false}if(e.includes(" (node:")){return false}return true}).join("\n");return`Dynamic API Usage Debug - ${e}:
${t}`})}function j(){if(!h){throw Object.defineProperty(new Error(`Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`),"__NEXT_ERROR_CODE",{value:"E224",enumerable:false,configurable:true})}}function F(e){j();const t=new AbortController;try{i.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function B(e){const t=new AbortController;if(e.cacheSignal){e.cacheSignal.inputReady().then(()=>{t.abort()})}else{(0,d.scheduleOnNextTick)(()=>t.abort())}return t.signal}function U(e,t){const n=t.dynamicTracking;if(n){n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?new Error().stack:undefined,expression:e})}}function V(e){const t=c.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){const n=a.workUnitAsyncStorage.getStore();if(n){if(n.type==="prerender"){i.default.use((0,u.makeHangingPromise)(n.renderSignal,e))}else if(n.type==="prerender-ppr"){I(t.route,e,n.dynamicTracking)}else if(n.type==="prerender-legacy"){b(e,t,n)}}}}const z=/\n\s+at Suspense \(<anonymous>\)/;const q=new RegExp(`\\n\\s+at ${l.METADATA_BOUNDARY_NAME}[\\n\\s]`);const G=new RegExp(`\\n\\s+at ${l.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`);const $=new RegExp(`\\n\\s+at ${l.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function H(e,t,n,r,i){if($.test(t)){return}else if(q.test(t)){n.hasDynamicMetadata=true;return}else if(G.test(t)){n.hasDynamicViewport=true;return}else if(z.test(t)){n.hasSuspendedDynamic=true;return}else if(r.syncDynamicErrorWithStack||i.syncDynamicErrorWithStack){n.hasSyncDynamicErrors=true;return}else{const r=`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`;const i=W(r,t);n.dynamicErrors.push(i);return}}function W(e,t){const n=Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});n.stack="Error: "+e+t;return n}function K(e,t,n,r){let i;let s;let a;if(n.syncDynamicErrorWithStack){i=n.syncDynamicErrorWithStack;s=n.syncDynamicExpression;a=n.syncDynamicLogged===true}else if(r.syncDynamicErrorWithStack){i=r.syncDynamicErrorWithStack;s=r.syncDynamicExpression;a=r.syncDynamicLogged===true}else{i=null;s=undefined;a=false}if(t.hasSyncDynamicErrors&&i){if(!a){console.error(i)}throw new o.StaticGenBailoutError}const c=t.dynamicErrors;if(c.length){for(let e=0;e<c.length;e++){console.error(c[e])}throw new o.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(i){console.error(i);throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E608",enumerable:false,configurable:true})}throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E534",enumerable:false,configurable:true})}else if(t.hasDynamicViewport){if(i){console.error(i);throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E573",enumerable:false,configurable:true})}throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E590",enumerable:false,configurable:true})}}}},54838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{AppleWebAppMeta:function(){return m},BasicMeta:function(){return l},FacebookMeta:function(){return f},FormatDetectionMeta:function(){return p},ItunesMeta:function(){return d},VerificationMeta:function(){return g},ViewportMeta:function(){return u}});const i=n(37413);const s=n(80407);const o=n(4871);const a=n(77341);function c(e){let t=null;if(e&&typeof e==="object"){t="";for(const n in o.ViewportMetaKeys){const r=n;if(r in e){let n=e[r];if(typeof n==="boolean"){n=n?"yes":"no"}else if(!n&&r==="initialScale"){n=undefined}if(n){if(t)t+=", ";t+=`${o.ViewportMetaKeys[r]}=${n}`}}}}return t}function u({viewport:e}){return(0,s.MetaFilter)([(0,i.jsx)("meta",{charSet:"utf-8"}),(0,s.Meta)({name:"viewport",content:c(e)}),...e.themeColor?e.themeColor.map(e=>(0,s.Meta)({name:"theme-color",content:e.color,media:e.media})):[],(0,s.Meta)({name:"color-scheme",content:e.colorScheme})])}function l({metadata:e}){var t,n,r;const o=e.manifest?(0,a.getOrigin)(e.manifest):undefined;return(0,s.MetaFilter)([e.title!==null&&e.title.absolute?(0,i.jsx)("title",{children:e.title.absolute}):null,(0,s.Meta)({name:"description",content:e.description}),(0,s.Meta)({name:"application-name",content:e.applicationName}),...e.authors?e.authors.map(e=>[e.url?(0,i.jsx)("link",{rel:"author",href:e.url.toString()}):null,(0,s.Meta)({name:"author",content:e.name})]):[],e.manifest?(0,i.jsx)("link",{rel:"manifest",href:e.manifest.toString(),crossOrigin:!o&&process.env.VERCEL_ENV==="preview"?"use-credentials":undefined}):null,(0,s.Meta)({name:"generator",content:e.generator}),(0,s.Meta)({name:"keywords",content:(t=e.keywords)==null?void 0:t.join(",")}),(0,s.Meta)({name:"referrer",content:e.referrer}),(0,s.Meta)({name:"creator",content:e.creator}),(0,s.Meta)({name:"publisher",content:e.publisher}),(0,s.Meta)({name:"robots",content:(n=e.robots)==null?void 0:n.basic}),(0,s.Meta)({name:"googlebot",content:(r=e.robots)==null?void 0:r.googleBot}),(0,s.Meta)({name:"abstract",content:e.abstract}),...e.archives?e.archives.map(e=>(0,i.jsx)("link",{rel:"archives",href:e})):[],...e.assets?e.assets.map(e=>(0,i.jsx)("link",{rel:"assets",href:e})):[],...e.bookmarks?e.bookmarks.map(e=>(0,i.jsx)("link",{rel:"bookmarks",href:e})):[],...e.pagination?[e.pagination.previous?(0,i.jsx)("link",{rel:"prev",href:e.pagination.previous}):null,e.pagination.next?(0,i.jsx)("link",{rel:"next",href:e.pagination.next}):null]:[],(0,s.Meta)({name:"category",content:e.category}),(0,s.Meta)({name:"classification",content:e.classification}),...e.other?Object.entries(e.other).map(([e,t])=>{if(Array.isArray(t)){return t.map(t=>(0,s.Meta)({name:e,content:t}))}else{return(0,s.Meta)({name:e,content:t})}}):[]])}function d({itunes:e}){if(!e)return null;const{appId:t,appArgument:n}=e;let r=`app-id=${t}`;if(n){r+=`, app-argument=${n}`}return(0,i.jsx)("meta",{name:"apple-itunes-app",content:r})}function f({facebook:e}){if(!e)return null;const{appId:t,admins:n}=e;return(0,s.MetaFilter)([t?(0,i.jsx)("meta",{property:"fb:app_id",content:t}):null,...n?n.map(e=>(0,i.jsx)("meta",{property:"fb:admins",content:e})):[]])}const h=["telephone","date","address","email","url"];function p({formatDetection:e}){if(!e)return null;let t="";for(const n of h){if(n in e){if(t)t+=", ";t+=`${n}=no`}}return(0,i.jsx)("meta",{name:"format-detection",content:t})}function m({appleWebApp:e}){if(!e)return null;const{capable:t,title:n,startupImage:r,statusBarStyle:o}=e;return(0,s.MetaFilter)([t?(0,s.Meta)({name:"mobile-web-app-capable",content:"yes"}):null,(0,s.Meta)({name:"apple-mobile-web-app-title",content:n}),r?r.map(e=>(0,i.jsx)("link",{href:e.url,media:e.media,rel:"apple-touch-startup-image"})):null,o?(0,s.Meta)({name:"apple-mobile-web-app-status-bar-style",content:o}):null])}function g({verification:e}){if(!e)return null;return(0,s.MetaFilter)([(0,s.MultiMeta)({namePrefix:"google-site-verification",contents:e.google}),(0,s.MultiMeta)({namePrefix:"y_key",contents:e.yahoo}),(0,s.MultiMeta)({namePrefix:"yandex-verification",contents:e.yandex}),(0,s.MultiMeta)({namePrefix:"me",contents:e.me}),...e.other?Object.entries(e.other).map(([e,t])=>(0,s.MultiMeta)({namePrefix:e,contents:t})):[]])}},55211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"notFound",{enumerable:true,get:function(){return s}});const r=n(86358);const i=""+r.HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function s(){const e=Object.defineProperty(new Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});e.digest=i;throw e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},56061:function(e,t){var n,r;(function(i,s){function o(e){return e.default||e}if(true){!(n=[],r=(function(){var e={};s(e);return o(e)}).apply(t,n),r!==undefined&&(e.exports=r))}else{}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(e,t,n){this.low=e|0;this.high=t|0;this.unsigned=!!n}n.prototype.__isLong__;Object.defineProperty(n.prototype,"__isLong__",{value:true});function r(e){return(e&&e["__isLong__"])===true}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}n.isLong=r;var s={};var o={};function a(e,t){var n,r,i;if(t){e>>>=0;if(i=0<=e&&e<256){r=o[e];if(r)return r}n=u(e,0,true);if(i)o[e]=n;return n}else{e|=0;if(i=-128<=e&&e<128){r=s[e];if(r)return r}n=u(e,e<0?-1:0,false);if(i)s[e]=n;return n}}n.fromInt=a;function c(e,t){if(isNaN(e))return t?_:b;if(t){if(e<0)return _;if(e>=g)return C}else{if(e<=-y)return R;if(e+1>=y)return T}if(e<0)return c(-e,t).neg();return u(e%m|0,e/m|0,t)}n.fromNumber=c;function u(e,t,r){return new n(e,t,r)}n.fromBits=u;var l=Math.pow;function d(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t==="number"){n=t;t=false}else{t=!!t}if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?_:b;n=n||10;if(n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");else if(r===0){return d(e.substring(1),t,n).neg()}var i=c(l(n,8));var s=b;for(var o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),u=parseInt(e.substring(o,o+a),n);if(a<8){var f=c(l(n,a));s=s.mul(f).add(c(u))}else{s=s.mul(i);s=s.add(c(u))}}s.unsigned=t;return s}n.fromString=d;function f(e,t){if(typeof e==="number")return c(e,t);if(typeof e==="string")return d(e,t);return u(e.low,e.high,typeof t==="boolean"?t:e.unsigned)}n.fromValue=f;var h=1<<16;var p=1<<24;var m=h*h;var g=m*m;var y=g/2;var v=a(p);var b=a(0);n.ZERO=b;var _=a(0,true);n.UZERO=_;var E=a(1);n.ONE=E;var w=a(1,true);n.UONE=w;var S=a(-1);n.NEG_ONE=S;var T=u(0xffffffff|0,0x7fffffff|0,false);n.MAX_VALUE=T;var C=u(0xffffffff|0,0xffffffff|0,true);n.MAX_UNSIGNED_VALUE=C;var R=u(0,0x80000000|0,false);n.MIN_VALUE=R;var I=n.prototype;I.toInt=function e(){return this.unsigned?this.low>>>0:this.low};I.toNumber=function e(){if(this.unsigned)return(this.high>>>0)*m+(this.low>>>0);return this.high*m+(this.low>>>0)};I.toString=function e(e){e=e||10;if(e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(R)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}else return"-"+this.neg().toString(e)}var i=c(l(e,6),this.unsigned),s=this;var o="";while(true){var a=s.div(i),u=s.sub(a.mul(i)).toInt()>>>0,d=u.toString(e);s=a;if(s.isZero())return d+o;else{while(d.length<6)d="0"+d;o=""+d+o}}};I.getHighBits=function e(){return this.high};I.getHighBitsUnsigned=function e(){return this.high>>>0};I.getLowBits=function e(){return this.low};I.getLowBitsUnsigned=function e(){return this.low>>>0};I.getNumBitsAbs=function e(){if(this.isNegative())return this.eq(R)?64:this.neg().getNumBitsAbs();var e=this.high!=0?this.high:this.low;for(var t=31;t>0;t--)if((e&1<<t)!=0)break;return this.high!=0?t+33:t+1};I.isSafeInteger=function e(){var e=this.high>>21;if(!e)return true;if(this.unsigned)return false;return e===-1&&!(this.low===0&&this.high===-2097152)};I.isZero=function e(){return this.high===0&&this.low===0};I.eqz=I.isZero;I.isNegative=function e(){return!this.unsigned&&this.high<0};I.isPositive=function e(){return this.unsigned||this.high>=0};I.isOdd=function e(){return(this.low&1)===1};I.isEven=function e(){return(this.low&1)===0};I.equals=function e(e){if(!r(e))e=f(e);if(this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1)return false;return this.high===e.high&&this.low===e.low};I.eq=I.equals;I.notEquals=function e(e){return!this.eq(e)};I.neq=I.notEquals;I.ne=I.notEquals;I.lessThan=function e(e){return this.comp(e)<0};I.lt=I.lessThan;I.lessThanOrEqual=function e(e){return this.comp(e)<=0};I.lte=I.lessThanOrEqual;I.le=I.lessThanOrEqual;I.greaterThan=function e(e){return this.comp(e)>0};I.gt=I.greaterThan;I.greaterThanOrEqual=function e(e){return this.comp(e)>=0};I.gte=I.greaterThanOrEqual;I.ge=I.greaterThanOrEqual;I.compare=function e(e){if(!r(e))e=f(e);if(this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();if(t&&!n)return-1;if(!t&&n)return 1;if(!this.unsigned)return this.sub(e).isNegative()?-1:1;return e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1};I.comp=I.compare;I.negate=function e(){if(!this.unsigned&&this.eq(R))return R;return this.not().add(E)};I.neg=I.negate;I.add=function e(e){if(!r(e))e=f(e);var t=this.high>>>16;var n=this.high&65535;var i=this.low>>>16;var s=this.low&65535;var o=e.high>>>16;var a=e.high&65535;var c=e.low>>>16;var l=e.low&65535;var d=0,h=0,p=0,m=0;m+=s+l;p+=m>>>16;m&=65535;p+=i+c;h+=p>>>16;p&=65535;h+=n+a;d+=h>>>16;h&=65535;d+=t+o;d&=65535;return u(p<<16|m,d<<16|h,this.unsigned)};I.subtract=function e(e){if(!r(e))e=f(e);return this.add(e.neg())};I.sub=I.subtract;I.multiply=function e(e){if(this.isZero())return this;if(!r(e))e=f(e);if(t){var n=t["mul"](this.low,this.high,e.low,e.high);return u(n,t["get_high"](),this.unsigned)}if(e.isZero())return this.unsigned?_:b;if(this.eq(R))return e.isOdd()?R:b;if(e.eq(R))return this.isOdd()?R:b;if(this.isNegative()){if(e.isNegative())return this.neg().mul(e.neg());else return this.neg().mul(e).neg()}else if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return c(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16;var s=this.high&65535;var o=this.low>>>16;var a=this.low&65535;var l=e.high>>>16;var d=e.high&65535;var h=e.low>>>16;var p=e.low&65535;var m=0,g=0,y=0,E=0;E+=a*p;y+=E>>>16;E&=65535;y+=o*p;g+=y>>>16;y&=65535;y+=a*h;g+=y>>>16;y&=65535;g+=s*p;m+=g>>>16;g&=65535;g+=o*h;m+=g>>>16;g&=65535;g+=a*d;m+=g>>>16;g&=65535;m+=i*p+s*h+o*d+a*l;m&=65535;return u(y<<16|E,m<<16|g,this.unsigned)};I.mul=I.multiply;I.divide=function e(e){if(!r(e))e=f(e);if(e.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-0x80000000&&e.low===-1&&e.high===-1){return this}var n=(this.unsigned?t["div_u"]:t["div_s"])(this.low,this.high,e.low,e.high);return u(n,t["get_high"](),this.unsigned)}if(this.isZero())return this.unsigned?_:b;var i,s,o;if(!this.unsigned){if(this.eq(R)){if(e.eq(E)||e.eq(S))return R;else if(e.eq(R))return E;else{var a=this.shr(1);i=a.div(e).shl(1);if(i.eq(b)){return e.isNegative()?E:S}else{s=this.sub(e.mul(i));o=i.add(s.div(e));return o}}}else if(e.eq(R))return this.unsigned?_:b;if(this.isNegative()){if(e.isNegative())return this.neg().div(e.neg());return this.neg().div(e).neg()}else if(e.isNegative())return this.div(e.neg()).neg();o=b}else{if(!e.unsigned)e=e.toUnsigned();if(e.gt(this))return _;if(e.gt(this.shru(1)))return w;o=_}s=this;while(s.gte(e)){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));var d=Math.ceil(Math.log(i)/Math.LN2),h=d<=48?1:l(2,d-48),p=c(i),m=p.mul(e);while(m.isNegative()||m.gt(s)){i-=h;p=c(i,this.unsigned);m=p.mul(e)}if(p.isZero())p=E;o=o.add(p);s=s.sub(m)}return o};I.div=I.divide;I.modulo=function e(e){if(!r(e))e=f(e);if(t){var n=(this.unsigned?t["rem_u"]:t["rem_s"])(this.low,this.high,e.low,e.high);return u(n,t["get_high"](),this.unsigned)}return this.sub(this.div(e).mul(e))};I.mod=I.modulo;I.rem=I.modulo;I.not=function e(){return u(~this.low,~this.high,this.unsigned)};I.countLeadingZeros=function e(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};I.clz=I.countLeadingZeros;I.countTrailingZeros=function e(){return this.low?i(this.low):i(this.high)+32};I.ctz=I.countTrailingZeros;I.and=function e(e){if(!r(e))e=f(e);return u(this.low&e.low,this.high&e.high,this.unsigned)};I.or=function e(e){if(!r(e))e=f(e);return u(this.low|e.low,this.high|e.high,this.unsigned)};I.xor=function e(e){if(!r(e))e=f(e);return u(this.low^e.low,this.high^e.high,this.unsigned)};I.shiftLeft=function e(e){if(r(e))e=e.toInt();if((e&=63)===0)return this;else if(e<32)return u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned);else return u(0,this.low<<e-32,this.unsigned)};I.shl=I.shiftLeft;I.shiftRight=function e(e){if(r(e))e=e.toInt();if((e&=63)===0)return this;else if(e<32)return u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned);else return u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};I.shr=I.shiftRight;I.shiftRightUnsigned=function e(e){if(r(e))e=e.toInt();if((e&=63)===0)return this;if(e<32)return u(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned);if(e===32)return u(this.high,0,this.unsigned);return u(this.high>>>e-32,0,this.unsigned)};I.shru=I.shiftRightUnsigned;I.shr_u=I.shiftRightUnsigned;I.rotateLeft=function e(e){var t;if(r(e))e=e.toInt();if((e&=63)===0)return this;if(e===32)return u(this.high,this.low,this.unsigned);if(e<32){t=32-e;return u(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)}e-=32;t=32-e;return u(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)};I.rotl=I.rotateLeft;I.rotateRight=function e(e){var t;if(r(e))e=e.toInt();if((e&=63)===0)return this;if(e===32)return u(this.high,this.low,this.unsigned);if(e<32){t=32-e;return u(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)}e-=32;t=32-e;return u(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)};I.rotr=I.rotateRight;I.toSigned=function e(){if(!this.unsigned)return this;return u(this.low,this.high,false)};I.toUnsigned=function e(){if(this.unsigned)return this;return u(this.low,this.high,true)};I.toBytes=function e(e){return e?this.toBytesLE():this.toBytesBE()};I.toBytesLE=function e(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};I.toBytesBE=function e(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};n.fromBytes=function e(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)};n.fromBytesLE=function e(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};n.fromBytesBE=function e(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};if(typeof BigInt==="function"){n.fromBigInt=function e(e,t){var n=Number(BigInt.asIntN(32,e));var r=Number(BigInt.asIntN(32,e>>BigInt(32)));return u(n,r,t)};n.fromValue=function e(e,t){if(typeof e==="bigint")return n.fromBigInt(e,t);return f(e,t)};I.toBigInt=function e(){var e=BigInt(this.low>>>0);var t=BigInt(this.unsigned?this.high>>>0:this.high);return t<<BigInt(32)|e}}var O=e.default=n})},56271:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},56526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{copyNextErrorCode:function(){return s},createDigestWithErrorCode:function(){return i},extractNextErrorCode:function(){return o}});const r="@";const i=(e,t)=>{if(typeof e==="object"&&e!==null&&"__NEXT_ERROR_CODE"in e){return`${t}${r}${e.__NEXT_ERROR_CODE}`}return t};const s=(e,t)=>{const n=o(e);if(n&&typeof t==="object"&&t!==null){Object.defineProperty(t,"__NEXT_ERROR_CODE",{value:n,enumerable:false,configurable:true})}};const o=e=>{if(typeof e==="object"&&e!==null&&"__NEXT_ERROR_CODE"in e&&typeof e.__NEXT_ERROR_CODE==="string"){return e.__NEXT_ERROR_CODE}if(typeof e==="object"&&e!==null&&"digest"in e&&typeof e.digest==="string"){const t=e.digest.split(r);const n=t.find(e=>e.startsWith("E"));return n}return undefined}},57213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.uriToString=t.splitHostPort=t.parseUri=void 0;const n=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function r(e){const t=n.exec(e);if(t===null){return null}return{scheme:t[1],authority:t[2],path:t[3]}}t.parseUri=r;const i=/^\d+$/;function s(e){if(e.startsWith("[")){const t=e.indexOf("]");if(t===-1){return null}const n=e.substring(1,t);if(n.indexOf(":")===-1){return null}if(e.length>t+1){if(e[t+1]===":"){const r=e.substring(t+2);if(i.test(r)){return{host:n,port:+r}}else{return null}}else{return null}}else{return{host:n}}}else{const t=e.split(":");if(t.length===2){if(i.test(t[1])){return{host:t[0],port:+t[1]}}else{return null}}else{return{host:e}}}}t.splitHostPort=s;function o(e){let t="";if(e.scheme!==undefined){t+=e.scheme+":"}if(e.authority!==undefined){t+="//"+e.authority+"/"}t+=e.path;return t}t.uriToString=o},57373:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"resolveTitle",{enumerable:true,get:function(){return r}});function n(e,t){return e?e.replace(/%s/g,t):t}function r(e,t){let r;const i=typeof e!=="string"&&e&&"template"in e?e.template:null;if(typeof e==="string"){r=n(t,e)}else if(e){if("default"in e){r=n(t,e.default)}if("absolute"in e&&e.absolute){r=e.absolute}}if(e&&typeof e!=="string"){return{template:i,absolute:r||""}}else{return{absolute:r||e||"",template:i}}}},57391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createHrefFromUrl",{enumerable:true,get:function(){return n}});function n(e,t){if(t===void 0)t=true;return e.pathname+e.search+(t?e.hash:"")}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},57398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return s}});const r=n(37413);const i=n(1765);function s(){return(0,r.jsx)(i.HTTPAccessErrorFallback,{status:404,message:"This page could not be found."})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},58570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=t.RoundRobinLoadBalancer=void 0;const r=n(30598);const i=n(20920);const s=n(70757);const o=n(98387);const a=n(63038);const c=n(93122);const u="round_robin";function l(e){a.trace(c.LogVerbosity.DEBUG,u,e)}const d="round_robin";class f{getLoadBalancerName(){return d}constructor(){}toJsonObject(){return{[d]:{}}}static createFromJson(e){return new f}}class h{constructor(e,t=0){this.subchannelList=e;this.nextIndex=t}pick(e){const t=this.subchannelList[this.nextIndex];this.nextIndex=(this.nextIndex+1)%this.subchannelList.length;return{pickResultType:s.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class p{constructor(e){this.channelControlHelper=e;this.subchannels=[];this.currentState=i.ConnectivityState.IDLE;this.currentReadyPicker=null;this.lastError=null;this.subchannelStateListener=(e,t,n,r,s)=>{this.calculateAndUpdateState();if(n===i.ConnectivityState.TRANSIENT_FAILURE||n===i.ConnectivityState.IDLE){if(s){this.lastError=s}this.channelControlHelper.requestReresolution();e.startConnecting()}}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(i.ConnectivityState.READY)>0){const e=this.subchannels.filter(e=>e.getConnectivityState()===i.ConnectivityState.READY);let t=0;if(this.currentReadyPicker!==null){t=e.indexOf(this.currentReadyPicker.peekNextSubchannel());if(t<0){t=0}}this.updateState(i.ConnectivityState.READY,new h(e,t))}else if(this.countSubchannelsWithState(i.ConnectivityState.CONNECTING)>0){this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}else if(this.countSubchannelsWithState(i.ConnectivityState.TRANSIENT_FAILURE)>0){this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`}))}else{this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))}}updateState(e,t){l(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]);if(e===i.ConnectivityState.READY){this.currentReadyPicker=t}else{this.currentReadyPicker=null}this.currentState=e;this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels){e.removeConnectivityStateListener(this.subchannelStateListener);e.unref();this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList();l("Connect to address list "+e.map(e=>(0,o.subchannelAddressToString)(e)));this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{}));for(const e of this.subchannels){e.ref();e.addConnectivityStateListener(this.subchannelStateListener);this.channelControlHelper.addChannelzChild(e.getChannelzRef());const t=e.getConnectivityState();if(t===i.ConnectivityState.IDLE||t===i.ConnectivityState.TRANSIENT_FAILURE){e.startConnecting()}}this.calculateAndUpdateState()}exitIdle(){for(const e of this.subchannels){e.startConnecting()}}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return d}}t.RoundRobinLoadBalancer=p;function m(){(0,r.registerLoadBalancerType)(d,p,f)}t.setup=m},58880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BaseSubchannelWrapper=void 0;class n{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}t.BaseSubchannelWrapper=n},59008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createFetch:function(){return g},createFromNextReadableStream:function(){return y},fetchServerResponse:function(){return m},urlToUrlWithoutFlightMarker:function(){return f}});const i=n(91563);const s=n(11264);const o=n(11448);const a=n(59154);const c=n(74007);const u=n(59880);const l=n(38637);const{createFromReadableStream:d}=true?n(19357):0;function f(e){const t=new URL(e,location.origin);t.searchParams.delete(i.NEXT_RSC_UNION_QUERY);if(true){if(false){}}return t}function h(e){return{flightData:f(e).toString(),canonicalUrl:undefined,couldBeIntercepted:false,prerendered:false,postponed:false,staleTime:-1}}let p=new AbortController;if(false){}async function m(e,t){const{flightRouterState:n,nextUrl:r,prefetchKind:s}=t;const o={[i.RSC_HEADER]:"1",[i.NEXT_ROUTER_STATE_TREE_HEADER]:encodeURIComponent(JSON.stringify(n))};if(s===a.PrefetchKind.AUTO){o[i.NEXT_ROUTER_PREFETCH_HEADER]="1"}if(false){}if(r){o[i.NEXT_URL]=r}try{var l;const t=s?s===a.PrefetchKind.TEMPORARY?"high":"low":"auto";if(true){if(false){}}const n=await g(e,o,t,p.signal);const r=f(n.url);const d=n.redirected?r:undefined;const m=n.headers.get("content-type")||"";const b=!!((l=n.headers.get("vary"))==null?void 0:l.includes(i.NEXT_URL));const _=!!n.headers.get(i.NEXT_DID_POSTPONE_HEADER);const E=n.headers.get(i.NEXT_ROUTER_STALE_TIME_HEADER);const w=E!==null?parseInt(E,10):-1;let S=m.startsWith(i.RSC_CONTENT_TYPE_HEADER);if(true){if(false){}}if(!S||!n.ok||!n.body){if(e.hash){r.hash=e.hash}return h(r.toString())}if(false){}const T=_?v(n.body):n.body;const C=await y(T);if((0,u.getAppBuildId)()!==C.b){return h(n.url)}return{flightData:(0,c.normalizeFlightData)(C.f),canonicalUrl:d,couldBeIntercepted:b,prerendered:C.S,postponed:_,staleTime:w}}catch(t){if(!p.signal.aborted){console.error("Failed to fetch RSC payload for "+e+". Falling back to browser navigation.",t)}return{flightData:e.toString(),canonicalUrl:undefined,couldBeIntercepted:false,prerendered:false,postponed:false,staleTime:-1}}}function g(e,t,n,r){const i=new URL(e);(0,l.setCacheBustingSearchParam)(i,t);if(false){}if(false){}return fetch(i,{credentials:"same-origin",headers:t,priority:n||undefined,signal:r})}function y(e){return d(e,{callServer:s.callServer,findSourceMapURL:o.findSourceMapURL})}function v(e){const t=e.getReader();return new ReadableStream({async pull(e){while(true){const{done:n,value:r}=await t.read();if(!n){e.enqueue(r);continue}return}}})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},59098:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isThenable",{enumerable:true,get:function(){return n}});function n(e){return e!==null&&typeof e==="object"&&"then"in e&&typeof e.then==="function"}},59123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;const r=n(94735);const i=n(27910);const s=n(93122);function o(e,t){const n=`${e.code} ${s.Status[e.code]}: ${e.details}`;const r=new Error(n);const i=`${r.stack}
for call at
${t}`;return Object.assign(new Error(n),e,{stack:i})}t.callErrorFromStatus=o;class a extends r.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0?void 0:e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}}t.ClientUnaryCallImpl=a;class c extends i.Readable{constructor(e){super({objectMode:true});this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0?void 0:e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0?void 0:t.startRead()}}t.ClientReadableStreamImpl=c;class u extends i.Writable{constructor(e){super({objectMode:true});this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0?void 0:e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,n){var r;const i={callback:n};const s=Number(t);if(!Number.isNaN(s)){i.flags=s}(r=this.call)===null||r===void 0?void 0:r.sendMessageWithContext(i,e)}_final(e){var t;(t=this.call)===null||t===void 0?void 0:t.halfClose();e()}}t.ClientWritableStreamImpl=u;class l extends i.Duplex{constructor(e,t){super({objectMode:true});this.serialize=e;this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0?void 0:e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0?void 0:t.startRead()}_write(e,t,n){var r;const i={callback:n};const s=Number(t);if(!Number.isNaN(s)){i.flags=s}(r=this.call)===null||r===void 0?void 0:r.sendMessageWithContext(i,e)}_final(e){var t;(t=this.call)===null||t===void 0?void 0:t.halfClose();e()}}t.ClientDuplexStreamImpl=l},59154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{ACTION_HMR_REFRESH:function(){return c},ACTION_NAVIGATE:function(){return i},ACTION_PREFETCH:function(){return a},ACTION_REFRESH:function(){return r},ACTION_RESTORE:function(){return s},ACTION_SERVER_ACTION:function(){return u},ACTION_SERVER_PATCH:function(){return o},PrefetchCacheEntryStatus:function(){return d},PrefetchKind:function(){return l}});const r="refresh";const i="navigate";const s="restore";const o="server-patch";const a="prefetch";const c="hmr-refresh";const u="server-action";var l=function(e){e["AUTO"]="auto";e["FULL"]="full";e["TEMPORARY"]="temporary";return e}({});var d=function(e){e["fresh"]="fresh";e["reusable"]="reusable";e["expired"]="expired";e["stale"]="stale";return e}({});if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},59229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"removePathPrefix",{enumerable:true,get:function(){return i}});const r=n(2829);function i(e,t){if(!(0,r.pathHasPrefix)(e,t)){return e}const n=e.slice(t.length);if(n.startsWith("/")){return n}return"/"+n}},59521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createMetadataComponents",{enumerable:true,get:function(){return y}});const r=n(37413);const i=g(n(61120));const s=n(54838);const o=n(36070);const a=n(11804);const c=n(14114);const u=n(42706);const l=n(80407);const d=n(8704);const f=n(67625);const h=n(12089);const p=n(52637);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=m(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;if(o&&(o.get||o.set)){Object.defineProperty(r,s,o)}else{r[s]=e[s]}}}r.default=e;if(n){n.set(e,r)}return r}function y({tree:e,searchParams:t,metadataContext:n,getDynamicParamFromSegment:s,appUsingSizeAdjustment:o,errorType:a,createServerParamsForMetadata:c,workStore:u,MetadataBoundary:l,ViewportBoundary:m,serveStreamingMetadata:g}){function y(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{children:(0,r.jsx)(S,{})}),o?(0,r.jsx)("meta",{name:"next-size-adjust",content:""}):null]})}function b(){return(0,r.jsx)(l,{children:(0,r.jsx)(I,{})})}function E(){return w(e,t,s,c,u,a)}async function S(){try{return await E()}catch(n){if(!a&&(0,d.isHTTPAccessFallbackError)(n)){try{return await T(e,t,s,c,u)}catch{}}return null}}S.displayName=f.VIEWPORT_BOUNDARY_NAME;function C(){return v(e,t,s,n,c,u,a)}async function R(){let r;let i=null;try{r=await C();return{metadata:r,error:null,digest:undefined}}catch(o){i=o;if(!a&&(0,d.isHTTPAccessFallbackError)(o)){try{r=await _(e,t,s,n,c,u);return{metadata:r,error:i,digest:i==null?void 0:i.digest}}catch(e){i=e;if(g&&(0,p.isPostpone)(e)){throw e}}}if(g&&(0,p.isPostpone)(o)){throw o}return{metadata:r,error:i,digest:i==null?void 0:i.digest}}}async function I(){const e=R();if(g){return(0,r.jsx)(i.Suspense,{fallback:null,children:(0,r.jsx)(h.AsyncMetadata,{promise:e})})}const t=await e;return t.metadata}I.displayName=f.METADATA_BOUNDARY_NAME;async function O(){if(!g){await C()}return undefined}async function A(){await E();return undefined}function P(){if(g){return(0,r.jsx)(h.AsyncMetadataOutlet,{promise:R()})}return null}return{ViewportTree:y,MetadataTree:b,getViewportReady:A,getMetadataReady:O,StreamingMetadataOutlet:P}}const v=(0,i.cache)(b);async function b(e,t,n,r,i,s,o){const a=o==="redirect"?undefined:o;return R(e,t,n,r,i,s,a)}const _=(0,i.cache)(E);async function E(e,t,n,r,i,s){const o="not-found";return R(e,t,n,r,i,s,o)}const w=(0,i.cache)(S);async function S(e,t,n,r,i,s){const o=s==="redirect"?undefined:s;return I(e,t,n,r,i,o)}const T=(0,i.cache)(C);async function C(e,t,n,r,i){const s="not-found";return I(e,t,n,r,i,s)}async function R(e,t,n,s,o,a,c){const l=await (0,u.resolveMetadata)(e,t,c,n,o,a,s);const d=O(l);return(0,r.jsx)(r.Fragment,{children:d.map((e,t)=>{return(0,i.cloneElement)(e,{key:t})})})}async function I(e,t,n,s,o,a){const c=await (0,u.resolveViewport)(e,t,a,n,s,o);const l=A(c);return(0,r.jsx)(r.Fragment,{children:l.map((e,t)=>{return(0,i.cloneElement)(e,{key:t})})})}function O(e){return(0,l.MetaFilter)([(0,s.BasicMeta)({metadata:e}),(0,o.AlternatesMetadata)({alternates:e.alternates}),(0,s.ItunesMeta)({itunes:e.itunes}),(0,s.FacebookMeta)({facebook:e.facebook}),(0,s.FormatDetectionMeta)({formatDetection:e.formatDetection}),(0,s.VerificationMeta)({verification:e.verification}),(0,s.AppleWebAppMeta)({appleWebApp:e.appleWebApp}),(0,a.OpenGraphMetadata)({openGraph:e.openGraph}),(0,a.TwitterMetadata)({twitter:e.twitter}),(0,a.AppLinksMeta)({appLinks:e.appLinks}),(0,c.IconsMetadata)({icons:e.icons})])}function A(e){return(0,l.MetaFilter)([(0,s.ViewportMeta)({viewport:e})])}},59880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getAppBuildId:function(){return s},setAppBuildId:function(){return i}});let r="";function i(e){r=e}function s(){return r}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},60158:e=>{"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g;var i=/^ *[*/]+ */,s=/^\s*\*?\/*/,o=/\n/g,a=/\s/,c=/\\(.?)/g;var u={"0":"\0","r":"\r","n":"\n","t":"	"};function l(e){return e.replace(c,function(e,t){switch(t){case"\\":case"":return t;default:return u[t]||""}})}d.unescape=l;function d(e,c){e=e.toString();var u=0,d=e.length,f=1,h=0,p={};var m=[];var g=null;function y(e){return Error("illegal "+e+" (line "+f+")")}function v(){var t=g==="'"?r:n;t.lastIndex=u-1;var i=t.exec(e);if(!i)throw y("string");u=t.lastIndex;T(g);g=null;return l(i[1])}function b(t){return e.charAt(t)}function _(t,n,r){var a={type:e.charAt(t++),lineEmpty:false,leading:r};var u;if(c){u=2}else{u=3}var l=t-u,d;do{if(--l<0||(d=e.charAt(l))==="\n"){a.lineEmpty=true;break}}while(d===" "||d==="	");var m=e.substring(t,n).split(o);for(var g=0;g<m.length;++g)m[g]=m[g].replace(c?s:i,"").trim();a.text=m.join("\n").trim();p[f]=a;h=f}function E(t){var n=w(t);var r=e.substring(t,n);var i=/^\s*\/\//.test(r);return i}function w(e){var t=e;while(t<d&&b(t)!=="\n"){t++}return t}function S(){if(m.length>0)return m.shift();if(g)return v();var n,r,i,s,o,l=u===0;do{if(u===d)return null;n=false;while(a.test(i=b(u))){if(i==="\n"){l=true;++f}if(++u===d)return null}if(b(u)==="/"){if(++u===d){throw y("comment")}if(b(u)==="/"){if(!c){o=b(s=u+1)==="/";while(b(++u)!=="\n"){if(u===d){return null}}++u;if(o){_(s,u-1,l);l=true}++f;n=true}else{s=u;o=false;if(E(u-1)){o=true;do{u=w(u);if(u===d){break}u++;if(!l){break}}while(E(u))}else{u=Math.min(d,w(u)+1)}if(o){_(s,u,l);l=true}f++;n=true}}else if((i=b(u))==="*"){s=u+1;o=c||b(s)==="*";do{if(i==="\n"){++f}if(++u===d){throw y("comment")}r=i;i=b(u)}while(r!=="*"||i!=="/");++u;if(o){_(s,u-2,l);l=true}n=true}else{return"/"}}}while(n);var h=u;t.lastIndex=0;var p=t.test(b(h++));if(!p)while(h<d&&!t.test(b(h)))++h;var S=e.substring(u,u=h);if(S==='"'||S==="'")g=S;return S}function T(e){m.push(e)}function C(){if(!m.length){var e=S();if(e===null)return null;T(e)}return m[0]}function R(e,t){var n=C(),r=n===e;if(r){S();return true}if(!t)throw y("token '"+n+"', '"+e+"' expected");return false}function I(e){var t=null;var n;if(e===undefined){n=p[f-1];delete p[f-1];if(n&&(c||n.type==="*"||n.lineEmpty)){t=n.leading?n.text:null}}else{if(h<e){C()}n=p[e];delete p[e];if(n&&!n.lineEmpty&&(c||n.type==="/")){t=n.leading?null:n.text}}return t}return Object.defineProperty({next:S,peek:C,push:T,skip:R,cmnt:I},"line",{get:function(){return f}})}},60687:(e,t,n)=>{"use strict";e.exports=n(94041).vendored["react-ssr"].ReactJsxRuntime},60824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createParamsFromClient:function(){return f},createPrerenderParamsForClientSegment:function(){return g},createServerParamsForMetadata:function(){return h},createServerParamsForRoute:function(){return p},createServerParamsForServerSegment:function(){return m}});const i=n(83717);const s=n(54717);const o=n(63033);const a=n(75539);const c=n(84627);const u=n(18238);const l=n(14768);const d=n(52825);function f(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}const h=m;function p(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}function m(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}function g(e,t){const n=o.workUnitAsyncStorage.getStore();if(n&&n.type==="prerender"){const r=t.fallbackRouteParams;if(r){for(let t in e){if(r.has(t)){return(0,u.makeHangingPromise)(n.renderSignal,"`params`")}}}}return Promise.resolve(e)}function y(e,t,n){const r=t.fallbackRouteParams;if(r){let i=false;for(const t in e){if(r.has(t)){i=true;break}}if(i){if(n.type==="prerender"){return _(e,t.route,n)}return E(e,r,t,n)}}return w(e)}function v(e,t){if(false){}else{return w(e)}}const b=new WeakMap;function _(e,t,n){const r=b.get(e);if(r){return r}const i=(0,u.makeHangingPromise)(n.renderSignal,"`params`");b.set(e,i);Object.keys(e).forEach(e=>{if(c.wellKnownProperties.has(e)){}else{Object.defineProperty(i,e,{get(){const r=(0,c.describeStringPropertyAccess)("params",e);const i=I(t,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(t,r,i,n)},set(t){Object.defineProperty(i,e,{value:t,writable:true,enumerable:true})},enumerable:true,configurable:true})}});return i}function E(e,t,n,r){const i=b.get(e);if(i){return i}const o={...e};const a=Promise.resolve(o);b.set(e,a);Object.keys(e).forEach(i=>{if(c.wellKnownProperties.has(i)){}else{if(t.has(i)){Object.defineProperty(o,i,{get(){const e=(0,c.describeStringPropertyAccess)("params",i);if(r.type==="prerender-ppr"){(0,s.postponeWithTracking)(n.route,e,r.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(e,n,r)}},enumerable:true});Object.defineProperty(a,i,{get(){const e=(0,c.describeStringPropertyAccess)("params",i);if(r.type==="prerender-ppr"){(0,s.postponeWithTracking)(n.route,e,r.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(e,n,r)}},set(e){Object.defineProperty(a,i,{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true})}else{;a[i]=e[i]}}});return a}function w(e){const t=b.get(e);if(t){return t}const n=Promise.resolve(e);b.set(e,n);Object.keys(e).forEach(t=>{if(c.wellKnownProperties.has(t)){}else{;n[t]=e[t]}});return n}function S(e,t){const n=b.get(e);if(n){return n}const r=new Promise(t=>(0,d.scheduleImmediate)(()=>t(e)));const s=new Set;const o=[];Object.keys(e).forEach(t=>{if(c.wellKnownProperties.has(t)){o.push(t)}else{s.add(t);r[t]=e[t]}});const a=new Proxy(r,{get(e,n,r){if(typeof n==="string"){if(s.has(n)){const e=(0,c.describeStringPropertyAccess)("params",n);T(t.route,e)}}return i.ReflectAdapter.get(e,n,r)},set(e,t,n,r){if(typeof t==="string"){s.delete(t)}return i.ReflectAdapter.set(e,t,n,r)},ownKeys(e){const n="`...params` or similar expression";T(t.route,n,o);return Reflect.ownKeys(e)}});b.set(e,a);return a}function T(e,t,n){const r=o.workUnitAsyncStorage.getStore();if(r&&r.type==="request"&&r.prerenderPhase===true){const e=r;(0,s.trackSynchronousRequestDataAccessInDev)(e)}if(n&&n.length>0){R(e,t,n)}else{C(e,t)}}const C=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(I);const R=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(O);function I(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`params\` should be awaited before using its properties. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E307",enumerable:false,configurable:true})}function O(e,t,n){const r=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${r}used ${t}. `+`\`params\` should be awaited before using its properties. `+`The following properties were not available through enumeration `+`because they conflict with builtin property names: `+`${A(n)}. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E482",enumerable:false,configurable:true})}function A(e){switch(e.length){case 0:throw Object.defineProperty(new a.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:false,configurable:true});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let n=0;n<e.length-1;n++){t+=`\`${e[n]}\`, `}t+=`, and \`${e[e.length-1]}\``;return t}}}},61068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Postpone",{enumerable:true,get:function(){return r.Postpone}});const r=n(84971)},61076:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getClientComponentLoaderMetrics:function(){return a},wrapClientComponentLoader:function(){return o}});let r=0;let i=0;let s=0;function o(e){if(!("performance"in globalThis)){return e.__next_app__}return{require:(...t)=>{const n=performance.now();if(r===0){r=n}try{s+=1;return e.__next_app__.require(...t)}finally{i+=performance.now()-n}},loadChunk:(...t)=>{const n=performance.now();const r=e.__next_app__.loadChunk(...t);r.finally(()=>{i+=performance.now()-n});return r}}}function a(e={}){const t=r===0?undefined:{clientComponentLoadStart:r,clientComponentLoadTimes:i,clientComponentLoadCount:s};if(e.reset){r=0;i=0;s=0}return t}},61120:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].React},61614:(e,t,n)=>{"use strict";var r=n(68474);e.exports=t=r.descriptor=r.Root.fromJSON(n(20040)).lookup(".google.protobuf");var i=r.Namespace,s=r.Root,o=r.Enum,a=r.Type,c=r.Field,u=r.MapField,l=r.OneOf,d=r.Service,f=r.Method;s.fromDescriptor=function e(e){if(typeof e.length==="number")e=t.FileDescriptorSet.decode(e);var n=new s;if(e.file){var r,i;for(var u=0,l;u<e.file.length;++u){i=n;if((r=e.file[u])["package"]&&r["package"].length)i=n.define(r["package"]);var f=A(r);if(r.name&&r.name.length)n.files.push(i.filename=r.name);if(r.messageType)for(l=0;l<r.messageType.length;++l)i.add(a.fromDescriptor(r.messageType[l],f));if(r.enumType)for(l=0;l<r.enumType.length;++l)i.add(o.fromDescriptor(r.enumType[l],f));if(r.extension)for(l=0;l<r.extension.length;++l)i.add(c.fromDescriptor(r.extension[l],f));if(r.service)for(l=0;l<r.service.length;++l)i.add(d.fromDescriptor(r.service[l],f));var h=T(r.options,t.FileOptions);if(h){var p=Object.keys(h);for(l=0;l<p.length;++l)i.setOption(p[l],h[p[l]])}}}return n.resolveAll()};s.prototype.toDescriptor=function e(e){var n=t.FileDescriptorSet.create();h(this,n.file,e);return n};function h(e,n,r){var u=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});P(r,u);if(!(e instanceof s))u["package"]=e.fullName.substring(1);for(var l=0,f;l<e.nestedArray.length;++l)if((f=e._nestedArray[l])instanceof a)u.messageType.push(f.toDescriptor(r));else if(f instanceof o)u.enumType.push(f.toDescriptor());else if(f instanceof c)u.extension.push(f.toDescriptor(r));else if(f instanceof d)u.service.push(f.toDescriptor());else if(f instanceof i)h(f,n,r);u.options=R(e.options,t.FileOptions);if(u.messageType.length+u.enumType.length+u.extension.length+u.service.length)n.push(u)}var p=0;a.fromDescriptor=function e(e,n,r){if(typeof e.length==="number")e=t.DescriptorProto.decode(e);var i=new a(e.name.length?e.name:"Type"+p++,T(e.options,t.MessageOptions)),s;if(!r)i._edition=n;if(e.oneofDecl)for(s=0;s<e.oneofDecl.length;++s)i.add(l.fromDescriptor(e.oneofDecl[s]));if(e.field)for(s=0;s<e.field.length;++s){var u=c.fromDescriptor(e.field[s],n,true);i.add(u);if(e.field[s].hasOwnProperty("oneofIndex"))i.oneofsArray[e.field[s].oneofIndex].add(u)}if(e.extension)for(s=0;s<e.extension.length;++s)i.add(c.fromDescriptor(e.extension[s],n,true));if(e.nestedType)for(s=0;s<e.nestedType.length;++s){i.add(a.fromDescriptor(e.nestedType[s],n,true));if(e.nestedType[s].options&&e.nestedType[s].options.mapEntry)i.setOption("map_entry",true)}if(e.enumType)for(s=0;s<e.enumType.length;++s)i.add(o.fromDescriptor(e.enumType[s],n,true));if(e.extensionRange&&e.extensionRange.length){i.extensions=[];for(s=0;s<e.extensionRange.length;++s)i.extensions.push([e.extensionRange[s].start,e.extensionRange[s].end])}if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){i.reserved=[];if(e.reservedRange)for(s=0;s<e.reservedRange.length;++s)i.reserved.push([e.reservedRange[s].start,e.reservedRange[s].end]);if(e.reservedName)for(s=0;s<e.reservedName.length;++s)i.reserved.push(e.reservedName[s])}return i};a.prototype.toDescriptor=function e(e){var n=t.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;n.field.push(i=this._fieldsArray[r].toDescriptor(e));if(this._fieldsArray[r]instanceof u){var s=w(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType,false),l=w(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType,false),d=l===11||l===14?this._fieldsArray[r].resolvedType&&I(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:undefined;n.nestedType.push(t.DescriptorProto.create({name:i.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:l,typeName:d})],options:t.MessageOptions.create({mapEntry:true})}))}}for(r=0;r<this.oneofsArray.length;++r)n.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r){if(this._nestedArray[r]instanceof c)n.field.push(this._nestedArray[r].toDescriptor(e));else if(this._nestedArray[r]instanceof a)n.nestedType.push(this._nestedArray[r].toDescriptor(e));else if(this._nestedArray[r]instanceof o)n.enumType.push(this._nestedArray[r].toDescriptor())}if(this.extensions)for(r=0;r<this.extensions.length;++r)n.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)if(typeof this.reserved[r]==="string")n.reservedName.push(this.reserved[r]);else n.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));n.options=R(this.options,t.MessageOptions);return n};var m=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;c.fromDescriptor=function e(e,n,r){if(typeof e.length==="number")e=t.DescriptorProto.decode(e);if(typeof e.number!=="number")throw Error("missing field id");var i;if(e.typeName&&e.typeName.length)i=e.typeName;else i=_(e.type);var s;switch(e.label){case 1:s=undefined;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+e.label)}var o=e.extendee;if(e.extendee!==undefined){o=o.length?o:undefined}var a=new c(e.name.length?e.name:"field"+e.number,e.number,i,s,o);if(!r)a._edition=n;a.options=T(e.options,t.FieldOptions);if(e.proto3_optional)a.options.proto3_optional=true;if(e.defaultValue&&e.defaultValue.length){var u=e.defaultValue;switch(u){case"true":case"TRUE":u=true;break;case"false":case"FALSE":u=false;break;default:var l=m.exec(u);if(l)u=parseInt(u);break}a.setOption("default",u)}if(E(e.type)){if(n==="proto3"){if(e.options&&!e.options.packed)a.setOption("packed",false)}else if((!n||n==="proto2")&&e.options&&e.options.packed)a.setOption("packed",true)}return a};c.prototype.toDescriptor=function e(e){var n=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map){n.type=11;n.typeName=r.util.ucFirst(this.name);n.label=3}else{switch(n.type=w(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:n.typeName=this.resolvedType?I(this.parent,this.resolvedType):this.type;break}if(this.rule==="repeated"){n.label=3}else if(this.required&&e==="proto2"){n.label=2}else{n.label=1}}n.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend;if(this.partOf){if((n.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof")}if(this.options){n.options=R(this.options,t.FieldOptions);if(this.options["default"]!=null)n.defaultValue=String(this.options["default"]);if(this.options.proto3_optional)n.proto3_optional=true}if(e==="proto3"){if(!this.packed)(n.options||(n.options=t.FieldOptions.create())).packed=false}else if((!e||e==="proto2")&&this.packed)(n.options||(n.options=t.FieldOptions.create())).packed=true;return n};var g=0;o.fromDescriptor=function e(e,n,r){if(typeof e.length==="number")e=t.EnumDescriptorProto.decode(e);var i={};if(e.value)for(var s=0;s<e.value.length;++s){var a=e.value[s].name,c=e.value[s].number||0;i[a&&a.length?a:"NAME"+c]=c}var u=new o(e.name&&e.name.length?e.name:"Enum"+g++,i,T(e.options,t.EnumOptions));if(!r)u._edition=n;return u};o.prototype.toDescriptor=function e(){var e=[];for(var n=0,r=Object.keys(this.values);n<r.length;++n)e.push(t.EnumValueDescriptorProto.create({name:r[n],number:this.values[r[n]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:R(this.options,t.EnumOptions)})};var y=0;l.fromDescriptor=function e(e){if(typeof e.length==="number")e=t.OneofDescriptorProto.decode(e);return new l(e.name&&e.name.length?e.name:"oneof"+y++)};l.prototype.toDescriptor=function e(){return t.OneofDescriptorProto.create({name:this.name})};var v=0;d.fromDescriptor=function e(e,n,r){if(typeof e.length==="number")e=t.ServiceDescriptorProto.decode(e);var i=new d(e.name&&e.name.length?e.name:"Service"+v++,T(e.options,t.ServiceOptions));if(!r)i._edition=n;if(e.method)for(var s=0;s<e.method.length;++s)i.add(f.fromDescriptor(e.method[s]));return i};d.prototype.toDescriptor=function e(){var e=[];for(var n=0;n<this.methodsArray.length;++n)e.push(this._methodsArray[n].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:R(this.options,t.ServiceOptions)})};var b=0;f.fromDescriptor=function e(e){if(typeof e.length==="number")e=t.MethodDescriptorProto.decode(e);return new f(e.name&&e.name.length?e.name:"Method"+b++,"rpc",e.inputType,e.outputType,Boolean(e.clientStreaming),Boolean(e.serverStreaming),T(e.options,t.MethodOptions))};f.prototype.toDescriptor=function e(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:R(this.options,t.MethodOptions)})};function _(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function E(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return true}return false}function w(e,t,n){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof o)return 14;if(t instanceof a)return n?10:11;throw Error("illegal type: "+e)}function S(e,t){var n={};for(var r=0,i,s;r<t.fieldsArray.length;++r){if((s=(i=t._fieldsArray[r]).name)==="uninterpretedOption")continue;if(!Object.prototype.hasOwnProperty.call(e,s))continue;var c=O(s);if(i.resolvedType instanceof a){n[c]=S(e[s],i.resolvedType)}else if(i.resolvedType instanceof o){n[c]=i.resolvedType.valuesById[e[s]]}else{n[c]=e[s]}}return n}function T(e,t){if(!e)return undefined;return S(t.toObject(e),t)}function C(e,t){var n={};var i=Object.keys(e);for(var s=0;s<i.length;++s){var o=i[s];var c=r.util.camelCase(o);if(!Object.prototype.hasOwnProperty.call(t.fields,c))continue;var u=t.fields[c];if(u.resolvedType instanceof a){n[c]=C(e[o],u.resolvedType)}else{n[c]=e[o]}if(u.repeated&&!Array.isArray(n[c])){n[c]=[n[c]]}}return n}function R(e,t){if(!e)return undefined;return t.fromObject(C(e,t))}function I(e,t){var n=e.fullName.split("."),r=t.fullName.split("."),o=0,a=0,c=r.length-1;if(!(e instanceof s)&&t instanceof i)while(o<n.length&&a<c&&n[o]===r[a]){var u=t.lookup(n[o++],true);if(u!==null&&u!==t)break;++a}else for(;o<n.length&&a<c&&n[o]===r[a];++o,++a);return r.slice(a).join(".")}function O(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}function A(e){if(e.syntax==="editions"){switch(e.edition){case t.Edition.EDITION_2023:return"2023";default:throw new Error("Unsupported edition "+e.edition)}}if(e.syntax==="proto3"){return"proto3"}return"proto2"}function P(e,n){if(!e)return;if(e==="proto2"||e==="proto3"){n.syntax=e}else{n.syntax="editions";switch(e){case"2023":n.edition=t.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+e)}}}},61810:(e,t,n)=>{"use strict";var r=t;var i=n(93107);var s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var n=0,r={};t|=0;while(n<e.length)r[s[n+t]]=e[n++];return r}r.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);r.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,false,"",i.emptyArray,null]);r.long=o([0,0,0,1,1],7);r.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2);r.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},61996:(e,t)=>{"use strict";var n=t;n.length=function e(e){var t=0,n=0;for(var r=0;r<e.length;++r){n=e.charCodeAt(r);if(n<128)t+=1;else if(n<2048)t+=2;else if((n&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){++r;t+=4}else t+=3}return t};n.read=function e(e,t,n){var r=n-t;if(r<1)return"";var i=null,s=[],o=0,a;while(t<n){a=e[t++];if(a<128)s[o++]=a;else if(a>191&&a<224)s[o++]=(a&31)<<6|e[t++]&63;else if(a>239&&a<365){a=((a&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536;s[o++]=55296+(a>>10);s[o++]=56320+(a&1023)}else s[o++]=(a&15)<<12|(e[t++]&63)<<6|e[t++]&63;if(o>8191){(i||(i=[])).push(String.fromCharCode.apply(String,s));o=0}}if(i){if(o)i.push(String.fromCharCode.apply(String,s.slice(0,o)));return i.join("")}return String.fromCharCode.apply(String,s.slice(0,o))};n.write=function e(e,t,n){var r=n,i,s;for(var o=0;o<e.length;++o){i=e.charCodeAt(o);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&((s=e.charCodeAt(o+1))&64512)===56320){i=65536+((i&1023)<<10)+(s&1023);++o;t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return n-r}},62688:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(43210);const i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const s=(...e)=>e.filter((e,t,n)=>{return Boolean(e)&&e.trim()!==""&&n.indexOf(e)===t}).join(" ").trim();var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const a=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:u,...l},d)=>{return(0,r.createElement)("svg",{ref:d,...o,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:s("lucide",a),...l},[...u.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(c)?c:[c]])});const c=(e,t)=>{const n=(0,r.forwardRef)(({className:n,...o},c)=>(0,r.createElement)(a,{ref:c,iconNode:t,className:s(`lucide-${i(e)}`,n),...o}));n.displayName=`${e}`;return n}},62713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createFlightReactServerErrorHandler:function(){return m},createHTMLErrorHandler:function(){return y},createHTMLReactServerErrorHandler:function(){return g},getDigestForWellKnownError:function(){return p},isUserLandError:function(){return v}});const i=h(n(67839));const s=n(7308);const o=n(81289);const a=n(42471);const c=n(51846);const u=n(98479);const l=n(31162);const d=n(35715);const f=n(56526);function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if((0,c.isBailoutToCSRError)(e))return e.digest;if((0,l.isNextRouterError)(e))return e.digest;if((0,u.isDynamicServerError)(e))return e.digest;return undefined}function m(e,t){return n=>{if(typeof n==="string"){return(0,i.default)(n).toString()}if((0,a.isAbortError)(n))return;const r=p(n);if(r){return r}const c=(0,d.getProperError)(n);if(!c.digest){c.digest=(0,i.default)(c.message+c.stack||"").toString()}if(e){(0,s.formatServerError)(c)}const u=(0,o.getTracer)().getActiveScopeSpan();if(u){u.recordException(c);u.setStatus({code:o.SpanStatusCode.ERROR,message:c.message})}t(c);return(0,f.createDigestWithErrorCode)(n,c.digest)}}function g(e,t,n,r,c){return u=>{var l;if(typeof u==="string"){return(0,i.default)(u).toString()}if((0,a.isAbortError)(u))return;const h=p(u);if(h){return h}const m=(0,d.getProperError)(u);if(!m.digest){m.digest=(0,i.default)(m.message+(m.stack||"")).toString()}if(!n.has(m.digest)){n.set(m.digest,m)}if(e){(0,s.formatServerError)(m)}if(!(t&&(m==null?void 0:(l=m.message)==null?void 0:l.includes("The specific message is omitted in production builds to avoid leaking sensitive details.")))){const e=(0,o.getTracer)().getActiveScopeSpan();if(e){e.recordException(m);e.setStatus({code:o.SpanStatusCode.ERROR,message:m.message})}if(!r){c==null?void 0:c(m)}}return(0,f.createDigestWithErrorCode)(u,m.digest)}}function y(e,t,n,r,c,u){return(l,h)=>{var m;let g=true;r.push(l);if((0,a.isAbortError)(l))return;const y=p(l);if(y){return y}const v=(0,d.getProperError)(l);if(v.digest){if(n.has(v.digest)){l=n.get(v.digest);g=false}else{}}else{v.digest=(0,i.default)(v.message+((h==null?void 0:h.componentStack)||v.stack||"")).toString()}if(e){(0,s.formatServerError)(v)}if(!(t&&(v==null?void 0:(m=v.message)==null?void 0:m.includes("The specific message is omitted in production builds to avoid leaking sensitive details.")))){const e=(0,o.getTracer)().getActiveScopeSpan();if(e){e.recordException(v);e.setStatus({code:o.SpanStatusCode.ERROR,message:v.message})}if(!c&&g){u(v,h)}}return(0,f.createDigestWithErrorCode)(l,v.digest)}}function v(e){return!(0,a.isAbortError)(e)&&!(0,c.isBailoutToCSRError)(e)&&!(0,l.isNextRouterError)(e)}},62763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{MetadataBoundary:function(){return o},OutletBoundary:function(){return c},ViewportBoundary:function(){return a}});const i=n(24207);const s={[i.METADATA_BOUNDARY_NAME]:function(e){let{children:t}=e;return t},[i.VIEWPORT_BOUNDARY_NAME]:function(e){let{children:t}=e;return t},[i.OUTLET_BOUNDARY_NAME]:function(e){let{children:t}=e;return t}};const o=s[i.METADATA_BOUNDARY_NAME.slice(0)];const a=s[i.VIEWPORT_BOUNDARY_NAME.slice(0)];const c=s[i.OUTLET_BOUNDARY_NAME.slice(0)];if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},62823:(e,t,n)=>{"use strict";e.exports=a;var r=n(32110),i=n(61810),s=n(93107);function o(e){return"missing required '"+e.name+"'"}function a(e){var t=s.codegen(["r","l","e"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){");var n=0;for(;n<e.fieldsArray.length;++n){var a=e._fieldsArray[n].resolve(),c=a.resolvedType instanceof r?"int32":a.type,u="m"+s.safeProp(a.name);t("case %i: {",a.id);if(a.map){t("if(%s===util.emptyObject)",u)("%s={}",u)("var c2 = r.uint32()+r.pos");if(i.defaults[a.keyType]!==undefined)t("k=%j",i.defaults[a.keyType]);else t("k=null");if(i.defaults[c]!==undefined)t("value=%j",i.defaults[c]);else t("value=null");t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:");if(i.basic[c]===undefined)t("value=types[%i].decode(r,r.uint32())",n);else t("value=r.%s()",c);t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}");if(i.long[a.keyType]!==undefined)t('%s[typeof k==="object"?util.longToHash(k):k]=value',u);else t("%s[k]=value",u)}else if(a.repeated){t("if(!(%s&&%s.length))",u,u)("%s=[]",u);if(i.packed[c]!==undefined)t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,c)("}else");if(i.basic[c]===undefined)t(a.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",u,n);else t("%s.push(r.%s())",u,c)}else if(i.basic[c]===undefined)t(a.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",u,n);else t("%s=r.%s()",u,c);t("break")("}")}t("default:")("r.skipType(t&7)")("break")("}")("}");for(n=0;n<e._fieldsArray.length;++n){var l=e._fieldsArray[n];if(l.required)t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",o(l))}return t("return m")}},62841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;const r=n(94735);const i=n(73496);const s=n(27910);const o=n(74075);const a=n(93122);const c=n(99978);const u=n(25678);const l=n(63038);const d=n(82281);const f="server_call";function h(e){l.trace(a.LogVerbosity.DEBUG,f,e)}const p="grpc-accept-encoding";const m="grpc-encoding";const g="grpc-message";const y="grpc-status";const v="grpc-timeout";const b=/(\d{1,8})\s*([HMSmun])/;const _={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6};const E={[p]:"identity,deflate,gzip",[m]:"identity"};const w={[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"};const S={waitForTrailers:true};class T extends r.EventEmitter{constructor(e,t,n){super();this.call=e;this.metadata=t;this.request=n;this.cancelled=false;this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerUnaryCallImpl=T;class C extends s.Readable{constructor(e,t,n,r){super({objectMode:true});this.call=e;this.metadata=t;this.deserialize=n;this.cancelled=false;this.call.setupSurfaceCall(this);this.call.setupReadable(this,r)}_read(e){if(!this.call.consumeUnpushedMessages(this)){return}this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerReadableStreamImpl=C;class R extends s.Writable{constructor(e,t,n,r){super({objectMode:true});this.call=e;this.metadata=t;this.serialize=n;this.request=r;this.cancelled=false;this.trailingMetadata=new c.Metadata;this.call.setupSurfaceCall(this);this.on("error",e=>{this.call.sendError(e);this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,n){try{const t=this.call.serializeMessage(e);if(!this.call.write(t)){this.call.once("drain",n);return}}catch(e){this.emit("error",{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}n()}_final(e){this.call.sendStatus({code:a.Status.OK,details:"OK",metadata:this.trailingMetadata});e(null)}end(e){if(e){this.trailingMetadata=e}return super.end()}}t.ServerWritableStreamImpl=R;class I extends s.Duplex{constructor(e,t,n,r,i){super({objectMode:true});this.call=e;this.metadata=t;this.serialize=n;this.deserialize=r;this.cancelled=false;this.trailingMetadata=new c.Metadata;this.call.setupSurfaceCall(this);this.call.setupReadable(this,i);this.on("error",e=>{this.call.sendError(e);this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){if(e){this.trailingMetadata=e}return super.end()}}t.ServerDuplexStreamImpl=I;I.prototype._read=C.prototype._read;I.prototype._write=R.prototype._write;I.prototype._final=R.prototype._final;class O extends r.EventEmitter{constructor(e,t,n){super();this.stream=e;this.handler=t;this.cancelled=false;this.deadlineTimer=null;this.statusSent=false;this.deadline=Infinity;this.wantTrailers=false;this.metadataSent=false;this.canPush=false;this.isPushPending=false;this.bufferedMessages=[];this.messagesToPush=[];this.maxSendMessageSize=a.DEFAULT_MAX_SEND_MESSAGE_LENGTH;this.maxReceiveMessageSize=a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.stream.once("error",e=>{});this.stream.once("close",()=>{var e;h("Request to method "+((e=this.handler)===null||e===void 0?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode);if(!this.statusSent){this.cancelled=true;this.emit("cancelled","cancelled");this.emit("streamEnd",false);this.sendStatus({code:a.Status.CANCELLED,details:"Cancelled by client",metadata:null});if(this.deadlineTimer)clearTimeout(this.deadlineTimer)}});this.stream.on("drain",()=>{this.emit("drain")});if("grpc.max_send_message_length"in n){this.maxSendMessageSize=n["grpc.max_send_message_length"]}if("grpc.max_receive_message_length"in n){this.maxReceiveMessageSize=n["grpc.max_receive_message_length"]}}checkCancelled(){if(this.stream.destroyed||this.stream.closed){this.cancelled=true}return this.cancelled}getDecompressedMessage(e,t){const n=e.subarray(5);if(t==="identity"){return n}else if(t==="deflate"||t==="gzip"){let e;if(t==="deflate"){e=o.createInflate()}else{e=o.createGunzip()}return new Promise((t,r)=>{let i=0;const s=[];e.on("data",t=>{s.push(t);i+=t.byteLength;if(this.maxReceiveMessageSize!==-1&&i>this.maxReceiveMessageSize){e.destroy();r({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`})}});e.on("end",()=>{t(Buffer.concat(s))});e.write(n);e.end()})}else{return Promise.reject({code:a.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}}sendMetadata(e){if(this.checkCancelled()){return}if(this.metadataSent){return}this.metadataSent=true;const t=e?e.toHttp2Headers():null;const n=Object.assign(Object.assign(Object.assign({},w),E),t);this.stream.respond(n,S)}receiveMetadata(e){const t=c.Metadata.fromHttp2Headers(e);if(l.isTracerEnabled(f)){h("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()))}const n=t.get(v);if(n.length>0){const e=n[0].toString().match(b);if(e===null){const e=new Error("Invalid deadline");e.code=a.Status.OUT_OF_RANGE;this.sendError(e);return t}const r=+e[1]*_[e[2]]|0;const i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+r);this.deadlineTimer=setTimeout(A,r,this);t.remove(v)}t.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING);t.remove(i.constants.HTTP2_HEADER_TE);t.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE);t.remove("grpc-accept-encoding");return t}receiveUnaryMessage(e){return new Promise((t,n)=>{const{stream:r}=this;let i=0;const s=this;const o=[];const c=this.maxReceiveMessageSize;this.stream.on("data",u);this.stream.on("end",l);this.stream.on("error",l);function u(e){i+=e.byteLength;if(c!==-1&&i>c){r.removeListener("data",u);r.removeListener("end",l);r.removeListener("error",l);n({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${i} vs. ${c})`});return}o.push(e)}function l(c){r.removeListener("data",u);r.removeListener("end",l);r.removeListener("error",l);if(c!==undefined){n({code:a.Status.INTERNAL,details:c.message});return}if(i===0){n({code:a.Status.INTERNAL,details:"received empty unary message"});return}s.emit("receiveMessage");const d=Buffer.concat(o,i);const f=d.readUInt8(0)===1;const h=f?e:"identity";const p=s.getDecompressedMessage(d,h);if(Buffer.isBuffer(p)){t(s.deserializeMessageWithInternalError(p));return}p.then(e=>t(s.deserializeMessageWithInternalError(e)),t=>n(t.code?t:{code:a.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}async deserializeMessageWithInternalError(e){try{return this.deserializeMessage(e)}catch(e){throw{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL}}}serializeMessage(e){const t=this.handler.serialize(e);const n=t.byteLength;const r=Buffer.allocUnsafe(n+5);r.writeUInt8(0,0);r.writeUInt32BE(n,1);t.copy(r,5);return r}deserializeMessage(e){return this.handler.deserialize(e)}async sendUnaryMessage(e,t,n,r){if(this.checkCancelled()){return}if(n===undefined){n=null}if(e){if(!Object.prototype.hasOwnProperty.call(e,"metadata")&&n){e.metadata=n}this.sendError(e);return}try{const e=this.serializeMessage(t);this.write(e);this.sendStatus({code:a.Status.OK,details:"OK",metadata:n})}catch(e){this.sendError({details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}}sendStatus(e){var t,n;this.emit("callEnd",e.code);this.emit("streamEnd",e.code===a.Status.OK);if(this.checkCancelled()){return}h("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+a.Status[e.code]+" details: "+e.details);if(this.deadlineTimer)clearTimeout(this.deadlineTimer);if(this.stream.headersSent){if(!this.wantTrailers){this.wantTrailers=true;this.stream.once("wantTrailers",()=>{var t;const n=Object.assign({[y]:e.code,[g]:encodeURI(e.details)},(t=e.metadata)===null||t===void 0?void 0:t.toHttp2Headers());this.stream.sendTrailers(n);this.statusSent=true});this.stream.end()}}else{const t=Object.assign(Object.assign({[y]:e.code,[g]:encodeURI(e.details)},w),(n=e.metadata)===null||n===void 0?void 0:n.toHttp2Headers());this.stream.respond(t,{endStream:true});this.statusSent=true}}sendError(e){const t={code:a.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==undefined?e.metadata:null};if("code"in e&&typeof e.code==="number"&&Number.isInteger(e.code)){t.code=e.code;if("details"in e&&typeof e.details==="string"){t.details=e.details}}this.sendStatus(t)}write(e){if(this.checkCancelled()){return}if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}this.sendMetadata();this.emit("sendMessage");return this.stream.write(e)}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=true;e.emit("cancelled",t)});this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){const n=new u.StreamDecoder(this.maxReceiveMessageSize);let r=false;let i=false;let s=false;const o=async()=>{if(!s&&r&&!i){s=true;await this.pushOrBufferMessage(e,null)}};this.stream.on("data",async r=>{let s;try{s=n.write(r)}catch(e){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:e.message});return}i=true;this.stream.pause();for(const n of s){this.emit("receiveMessage");const r=n.readUInt8(0)===1;const i=r?t:"identity";let s;try{s=await this.getDecompressedMessage(n,i)}catch(e){this.sendError(e);return}if(!s)return;await this.pushOrBufferMessage(e,s)}i=false;this.stream.resume();await o()});this.stream.once("end",async()=>{r=true;await o()})}consumeUnpushedMessages(e){this.canPush=true;while(this.messagesToPush.length>0){const t=this.messagesToPush.shift();const n=e.push(t);if(t===null||n===false){this.canPush=false;break}}return this.canPush}async pushOrBufferMessage(e,t){if(this.isPushPending){this.bufferedMessages.push(t)}else{await this.pushMessage(e,t)}}async pushMessage(e,t){if(t===null){h("Received end of stream");if(this.canPush){e.push(null)}else{this.messagesToPush.push(null)}return}h("Received message of length "+t.length);this.isPushPending=true;try{const n=await this.deserializeMessage(t);if(this.canPush){if(!e.push(n)){this.canPush=false;this.stream.pause()}}else{this.messagesToPush.push(n)}}catch(n){this.bufferedMessages.length=0;let t=(0,d.getErrorCode)(n);if(t===null||t<a.Status.OK||t>a.Status.UNAUTHENTICATED){t=a.Status.INTERNAL}e.emit("error",{details:(0,d.getErrorMessage)(n),code:t})}this.isPushPending=false;if(this.bufferedMessages.length>0){await this.pushMessage(e,this.bufferedMessages.shift())}}getPeer(){var e;const t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;if(t===null||t===void 0?void 0:t.remoteAddress){if(t.remotePort){return`${t.remoteAddress}:${t.remotePort}`}else{return t.remoteAddress}}else{return"unknown"}}getDeadline(){return this.deadline}getPath(){return this.handler.path}}t.Http2ServerCallStream=O;function A(e){const t=new Error("Deadline exceeded");t.code=a.Status.DEADLINE_EXCEEDED;e.sendError(t);e.cancelled=true;e.emit("cancelled","deadline")}},63038:(e,t,n)=>{"use strict";var r,i,s,o;Object.defineProperty(t,"__esModule",{value:true});t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;const a=n(93122);const c=n(19771);const u=n(86243).rE;const l={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}};let d=l;let f=a.LogVerbosity.ERROR;const h=(i=(r=process.env.GRPC_NODE_VERBOSITY)!==null&&r!==void 0?r:process.env.GRPC_VERBOSITY)!==null&&i!==void 0?i:"";switch(h.toUpperCase()){case"DEBUG":f=a.LogVerbosity.DEBUG;break;case"INFO":f=a.LogVerbosity.INFO;break;case"ERROR":f=a.LogVerbosity.ERROR;break;case"NONE":f=a.LogVerbosity.NONE;break;default:}const p=()=>{return d};t.getLogger=p;const m=e=>{d=e};t.setLogger=m;const g=e=>{f=e};t.setLoggerVerbosity=g;const y=(e,...t)=>{let n;if(e>=f){switch(e){case a.LogVerbosity.DEBUG:n=d.debug;break;case a.LogVerbosity.INFO:n=d.info;break;case a.LogVerbosity.ERROR:n=d.error;break}if(!n){n=d.error}if(n){n.bind(d)(...t)}}};t.log=y;const v=(o=(s=process.env.GRPC_NODE_TRACE)!==null&&s!==void 0?s:process.env.GRPC_TRACE)!==null&&o!==void 0?o:"";const b=new Set;const _=new Set;for(const e of v.split(",")){if(e.startsWith("-")){_.add(e.substring(1))}else{b.add(e)}}const E=b.has("all");function w(e,n,r){if(S(n)){(0,t.log)(e,new Date().toISOString()+" | v"+u+" "+c.pid+" | "+n+" | "+r)}}t.trace=w;function S(e){return!_.has(e)&&(E||b.has(e))}t.isTracerEnabled=S},63695:(e,t,n)=>{"use strict";var r=t;var i=n(8920);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1);var n=this.lookup(t);if(n){var r=e["@type"].charAt(0)==="."?e["@type"].slice(1):e["@type"];if(r.indexOf("/")===-1){r="/"+r}return this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="type.googleapis.com/";var r="";var s="";if(t&&t.json&&e.type_url&&e.value){s=e.type_url.substring(e.type_url.lastIndexOf("/")+1);r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(s);if(o)e=o.decode(e.value)}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t);var c=e.$type.fullName[0]==="."?e.$type.fullName.slice(1):e.$type.fullName;if(r===""){r=n}s=r+c;a["@type"]=s;return a}return this.toObject(e,t)}}},63865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loadPackageDefinition=t.makeClientConstructor=void 0;const r=n(40300);const i={unary:r.Client.prototype.makeUnaryRequest,server_stream:r.Client.prototype.makeServerStreamRequest,client_stream:r.Client.prototype.makeClientStreamRequest,bidi:r.Client.prototype.makeBidiStreamRequest};function s(e){return["__proto__","prototype","constructor"].includes(e)}function o(e,t,n){if(!n){n={}}class o extends r.Client{}Object.keys(e).forEach(t=>{if(s(t)){return}const n=e[t];let r;if(typeof t==="string"&&t.charAt(0)==="$"){throw new Error("Method names cannot start with $")}if(n.requestStream){if(n.responseStream){r="bidi"}else{r="client_stream"}}else{if(n.responseStream){r="server_stream"}else{r="unary"}}const c=n.requestSerialize;const u=n.responseDeserialize;const l=a(i[r],n.path,c,u);o.prototype[t]=l;Object.assign(o.prototype[t],n);if(n.originalName&&!s(n.originalName)){o.prototype[n.originalName]=o.prototype[t]}});o.service=e;o.serviceName=t;return o}t.makeClientConstructor=o;function a(e,t,n,r){return function(...i){return e.call(this,t,n,r,...i)}}function c(e){return"format"in e}function u(e){const t={};for(const n in e){if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];const i=n.split(".");if(i.some(e=>s(e))){continue}const a=i[i.length-1];let u=t;for(const e of i.slice(0,-1)){if(!u[e]){u[e]={}}u=u[e]}if(c(r)){u[a]=r}else{u[a]=o(r,a,{})}}}return t}t.loadPackageDefinition=u},64824:(e,t,n)=>{"use strict";e.exports=u;u.className="ReflectionObject";const r=n(12630);var i=n(93107);var s;var o={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};var a={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"};var c={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function u(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t;this.parsedOptions=null;this.name=e;this._edition=null;this._defaultEdition="proto2";this._features={};this._featuresResolved=false;this.parent=null;this.resolved=false;this.comment=null;this.filename=null}Object.defineProperties(u.prototype,{root:{get:function(){var e=this;while(e.parent!==null)e=e.parent;return e}},fullName:{get:function(){var e=[this.name],t=this.parent;while(t){e.unshift(t.name);t=t.parent}return e.join(".")}}});u.prototype.toJSON=function e(){throw Error()};u.prototype.onAdd=function e(e){if(this.parent&&this.parent!==e)this.parent.remove(this);this.parent=e;this.resolved=false;var t=e.root;if(t instanceof s)t._handleAdd(this)};u.prototype.onRemove=function e(e){var t=e.root;if(t instanceof s)t._handleRemove(this);this.parent=null;this.resolved=false};u.prototype.resolve=function e(){if(this.resolved)return this;if(this.root instanceof s)this.resolved=true;return this};u.prototype._resolveFeaturesRecursive=function e(e){return this._resolveFeatures(this._edition||e)};u.prototype._resolveFeatures=function e(e){if(this._featuresResolved){return}var t={};if(!e){throw new Error("Unknown edition for "+this.fullName)}var n=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2"){t=Object.assign({},a)}else if(e==="proto3"){t=Object.assign({},c)}else if(e==="2023"){t=Object.assign({},o)}else{throw new Error("Unknown edition: "+e)}this._features=Object.assign(t,n||{});this._featuresResolved=true;return}if(this.partOf instanceof r){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,n||{})}else if(this.declaringField){}else if(this.parent){var s=Object.assign({},this.parent._features);this._features=Object.assign(s,n||{})}else{throw new Error("Unable to find a parent for "+this.fullName)}if(this.extensionField){this.extensionField._features=this._features}this._featuresResolved=true};u.prototype._inferLegacyProtoFeatures=function e(){return{}};u.prototype.getOption=function e(e){if(this.options)return this.options[e];return undefined};u.prototype.setOption=function e(e,t,n){if(!this.options)this.options={};if(/^features\./.test(e)){i.setProperty(this.options,e,t,n)}else if(!n||this.options[e]===undefined){if(this.getOption(e)!==t)this.resolved=false;this.options[e]=t}return this};u.prototype.setParsedOption=function e(e,t,n){if(!this.parsedOptions){this.parsedOptions=[]}var r=this.parsedOptions;if(n){var s=r.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(s){var o=s[e];i.setProperty(o,n,t)}else{s={};s[e]=i.setProperty({},n,t);r.push(s)}}else{var a={};a[e]=t;r.push(a)}return this};u.prototype.setOptions=function e(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this};u.prototype.toString=function e(){var e=this.constructor.className,t=this.fullName;if(t.length)return e+" "+t;return e};u.prototype._editionToJSON=function e(){if(!this._edition||this._edition==="proto3"){return undefined}return this._edition};u._configure=function(e){s=e}},65239:(e,t,n)=>{"use strict";if(false){}else{if(false){}else{if(false){}else if(false){}else{e.exports=n(10846)}}}},65284:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return s}});const r=n(37413);const i=n(1765);function s(){return(0,r.jsx)(i.HTTPAccessErrorFallback,{status:401,message:"You're not authorized to access this page."})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},65551:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a});var i=n(43210);var s=n(66156);var o=(r||(r=n.t(i,2)))[" useInsertionEffect ".trim().toString()]||s.N;function a({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,a]=c({defaultProp:t,onChange:n});const l=e!==void 0;const d=l?e:s;if(true){const t=i.useRef(e!==void 0);i.useEffect(()=>{const e=t.current;if(e!==l){const t=e?"controlled":"uncontrolled";const n=l?"controlled":"uncontrolled";console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,r])}const f=i.useCallback(t=>{if(l){const n=u(t)?t(e):t;if(n!==e){a.current?.(n)}}else{o(t)}},[l,e,o,a]);return[d,f]}function c({defaultProp:e,onChange:t}){const[n,r]=i.useState(e);const s=i.useRef(n);const a=i.useRef(t);o(()=>{a.current=t},[t]);i.useEffect(()=>{if(s.current!==n){a.current?.(n);s.current=n}},[n,s]);return[n,r,a]}function u(e){return typeof e==="function"}var l=Symbol("RADIX:SYNC_STATE");function d(e,t,n,r){const{prop:i,defaultProp:s,onChange:o,caller:a}=t;const c=i!==void 0;const u=useEffectEvent(o);if(true){const e=React2.useRef(i!==void 0);React2.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled";const n=c?"controlled":"uncontrolled";console.warn(`${a} is changing from ${e} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}e.current=c},[c,a])}const d=[{...n,state:s}];if(r){d.push(r)}const[f,h]=React2.useReducer((t,n)=>{if(n.type===l){return{...t,state:n.state}}const r=e(t,n);if(c&&!Object.is(r.state,t.state)){u(r.state)}return r},...d);const p=f.state;const m=React2.useRef(p);React2.useEffect(()=>{if(m.current!==p){m.current=p;if(!c){u(p)}}},[u,p,m,c]);const g=React2.useMemo(()=>{const e=i!==void 0;if(e){return{...f,state:i}}return f},[f,i]);React2.useEffect(()=>{if(c&&!Object.is(i,f.state)){h({type:l,state:i})}},[i,f.state,c]);return[g,h]}},65773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ReadonlyURLSearchParams:function(){return u.ReadonlyURLSearchParams},RedirectType:function(){return u.RedirectType},ServerInsertedHTMLContext:function(){return l.ServerInsertedHTMLContext},forbidden:function(){return u.forbidden},notFound:function(){return u.notFound},permanentRedirect:function(){return u.permanentRedirect},redirect:function(){return u.redirect},unauthorized:function(){return u.unauthorized},unstable_rethrow:function(){return u.unstable_rethrow},useParams:function(){return m},usePathname:function(){return h},useRouter:function(){return p},useSearchParams:function(){return f},useSelectedLayoutSegment:function(){return v},useSelectedLayoutSegments:function(){return y},useServerInsertedHTML:function(){return l.useServerInsertedHTML}});const i=n(43210);const s=n(22142);const o=n(10449);const a=n(17388);const c=n(83913);const u=n(80178);const l=n(39695);const d=true?n(54717).useDynamicRouteParams:0;function f(){const e=(0,i.useContext)(o.SearchParamsContext);const t=(0,i.useMemo)(()=>{if(!e){return null}return new u.ReadonlyURLSearchParams(e)},[e]);if(true){const{bailoutToClientRendering:e}=n(9608);e("useSearchParams()")}return t}function h(){d==null?void 0:d("usePathname()");return(0,i.useContext)(o.PathnameContext)}function p(){const e=(0,i.useContext)(s.AppRouterContext);if(e===null){throw Object.defineProperty(new Error("invariant expected app router to be mounted"),"__NEXT_ERROR_CODE",{value:"E238",enumerable:false,configurable:true})}return e}function m(){d==null?void 0:d("useParams()");return(0,i.useContext)(o.PathParamsContext)}function g(e,t,n,r){if(n===void 0)n=true;if(r===void 0)r=[];let i;if(n){i=e[1][t]}else{const t=e[1];var s;i=(s=t.children)!=null?s:Object.values(t)[0]}if(!i)return r;const o=i[0];let u=(0,a.getSegmentValue)(o);if(!u||u.startsWith(c.PAGE_SEGMENT_KEY)){return r}r.push(u);return g(i,t,false,r)}function y(e){if(e===void 0)e="children";d==null?void 0:d("useSelectedLayoutSegments()");const t=(0,i.useContext)(s.LayoutRouterContext);if(!t)return null;return g(t.parentTree,e)}function v(e){if(e===void 0)e="children";d==null?void 0:d("useSelectedLayoutSegment()");const t=y(e);if(!t||t.length===0){return null}const n=e==="children"?t[0]:t[t.length-1];return n===c.DEFAULT_SEGMENT_KEY?null:n}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},65950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LoadBalancingCall=void 0;const r=n(20920);const i=n(93122);const s=n(34679);const o=n(99978);const a=n(70757);const c=n(57213);const u=n(63038);const l=n(53908);const d=n(73496);const f="load_balancing_call";class h{constructor(e,t,n,r,i,s,o){var a,u;this.channel=e;this.callConfig=t;this.methodName=n;this.host=r;this.credentials=i;this.deadline=s;this.callNumber=o;this.child=null;this.readPending=false;this.pendingMessage=null;this.pendingHalfClose=false;this.ended=false;this.metadata=null;this.listener=null;this.onCallEnded=null;const l=this.methodName.split("/");let d="";if(l.length>=2){d=l[1]}const f=(u=(a=(0,c.splitHostPort)(this.host))===null||a===void 0?void 0:a.host)!==null&&u!==void 0?u:"localhost";this.serviceUrl=`https://${f}/${d}`}trace(e){u.trace(i.LogVerbosity.DEBUG,f,"["+this.callNumber+"] "+e)}outputStatus(e,t){var n,r;if(!this.ended){this.ended=true;this.trace("ended with status: code="+e.code+' details="'+e.details+'"');const i=Object.assign(Object.assign({},e),{progress:t});(n=this.listener)===null||n===void 0?void 0:n.onReceiveStatus(i);(r=this.onCallEnded)===null||r===void 0?void 0:r.call(this,i.code)}}doPick(){var e,t;if(this.ended){return}if(!this.metadata){throw new Error("doPick called before start")}this.trace("Pick called");const n=this.channel.doPick(this.metadata,this.callConfig.pickInformation);const c=n.subchannel?"("+n.subchannel.getChannelzRef().id+") "+n.subchannel.getAddress():""+n.subchannel;this.trace("Pick result: "+a.PickResultType[n.pickResultType]+" subchannel: "+c+" status: "+((e=n.status)===null||e===void 0?void 0:e.code)+" "+((t=n.status)===null||t===void 0?void 0:t.details));switch(n.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(e=>{var t,a,u;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}const l=this.metadata.clone();l.merge(e);if(l.get("authorization").length>1){this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new o.Metadata},"PROCESSED")}if(n.subchannel.getConnectivityState()!==r.ConnectivityState.READY){this.trace("Picked subchannel "+c+" has state "+r.ConnectivityState[n.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick");this.doPick();return}if(this.deadline!==Infinity){l.set("grpc-timeout",(0,s.getDeadlineTimeoutString)(this.deadline))}try{this.child=n.subchannel.getRealSubchannel().createCall(l,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata");this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message");this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status");if(e.rstCode===d.constants.NGHTTP2_REFUSED_STREAM){this.outputStatus(e,"REFUSED")}else{this.outputStatus(e,"PROCESSED")}}})}catch(e){this.trace("Failed to start call on picked subchannel "+c+" with error "+e.message);this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new o.Metadata},"NOT_STARTED");return}(a=(t=this.callConfig).onCommitted)===null||a===void 0?void 0:a.call(t);(u=n.onCallStarted)===null||u===void 0?void 0:u.call(n);this.onCallEnded=n.onCallEnded;this.trace("Created child call ["+this.child.getCallNumber()+"]");if(this.readPending){this.child.startRead()}if(this.pendingMessage){this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message)}if(this.pendingHalfClose){this.child.halfClose()}},e=>{const{code:t,details:n}=(0,l.restrictControlPlaneStatusCode)(typeof e.code==="number"?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:n,metadata:new o.Metadata},"PROCESSED")});break;case a.PickResultType.DROP:const{code:u,details:f}=(0,l.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:u,details:f,metadata:n.status.metadata},"DROP")});break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady){this.channel.queueCallForPick(this)}else{const{code:e,details:t}=(0,l.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:n.status.metadata},"PROCESSED")})}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var n;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"');(n=this.child)===null||n===void 0?void 0:n.cancelWithStatus(e,t);this.outputStatus({code:e,details:t,metadata:new o.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called");this.listener=t;this.metadata=e;this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);if(this.child){this.child.sendMessageWithContext(e,t)}else{this.pendingMessage={context:e,message:t}}}startRead(){this.trace("startRead called");if(this.child){this.child.startRead()}else{this.readPending=true}}halfClose(){this.trace("halfClose called");if(this.child){this.child.halfClose()}else{this.pendingHalfClose=true}}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}}t.LoadBalancingCall=h},66156:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(43210);var i=globalThis?.document?r.useLayoutEffect:()=>{}},66483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{resolveImages:function(){return d},resolveOpenGraph:function(){return p},resolveTwitter:function(){return g}});const i=n(77341);const s=n(96258);const o=n(57373);const a=n(77359);const c=n(21709);const u={article:["authors","tags"],song:["albums","musicians"],playlist:["albums","musicians"],radio:["creators"],video:["actors","directors","writers","tags"],basic:["emails","phoneNumbers","faxNumbers","alternateLocale","audio","videos"]};function l(e,t,n){if(!e)return undefined;const r=(0,s.isStringOrURL)(e);const i=r?e:e.url;if(!i)return undefined;const o=Boolean(process.env.VERCEL);const u=typeof i==="string"&&!(0,a.isFullStringUrl)(i);if(u&&(!t||n)){const e=(0,s.getSocialImageMetadataBaseFallback)(t);const n=!o&&!t&&(true||0);if(n){(0,c.warnOnce)(`metadataBase property in metadata export is not set for resolving social open graph or twitter images, using "${e.origin}". See https://nextjs.org/docs/app/api-reference/functions/generate-metadata#metadatabase`)}t=e}return r?{url:(0,s.resolveUrl)(i,t)}:{...e,url:(0,s.resolveUrl)(i,t)}}function d(e,t,n){const r=(0,i.resolveAsArrayOrUndefined)(e);if(!r)return r;const s=[];for(const e of r){const r=l(e,t,n);if(!r)continue;s.push(r)}return s}const f={article:u.article,book:u.article,"music.song":u.song,"music.album":u.song,"music.playlist":u.playlist,"music.radio_station":u.radio,"video.movie":u.video,"video.episode":u.video};function h(e){if(!e||!(e in f))return u.basic;return f[e].concat(u.basic)}const p=(e,t,n,r)=>{if(!e)return null;function a(e,r){const s=r&&"type"in r?r.type:undefined;const o=h(s);for(const t of o){const n=t;if(n in r&&n!=="url"){const t=r[n];e[n]=t?(0,i.resolveArray)(t):null}}e.images=d(r.images,t,n.isStaticMetadataRouteFile)}const c={...e,title:(0,o.resolveTitle)(e.title,r)};a(c,e);c.url=e.url?(0,s.resolveAbsoluteUrlWithPathname)(e.url,t,n):null;return c};const m=["site","siteId","creator","creatorId","description"];const g=(e,t,n,r)=>{var s;if(!e)return null;let a="card"in e?e.card:undefined;const c={...e,title:(0,o.resolveTitle)(e.title,r)};for(const t of m){c[t]=e[t]||null}c.images=d(e.images,t,n.isStaticMetadataRouteFile);a=a||(((s=c.images)==null?void 0:s.length)?"summary_large_image":"summary");c.card=a;if("card"in c){switch(c.card){case"player":{c.players=(0,i.resolveAsArrayOrUndefined)(c.players)||[];break}case"app":{c.app=c.app||{};break}default:break}}return c}},66608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"NextURL",{enumerable:true,get:function(){return l}});const r=n(43828);const i=n(37853);const s=n(91314);const o=n(39938);const a=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function c(e,t){return new URL(String(e).replace(a,"localhost"),t&&String(t).replace(a,"localhost"))}const u=Symbol("NextURLInternal");class l{constructor(e,t,n){let r;let i;if(typeof t==="object"&&"pathname"in t||typeof t==="string"){r=t;i=n||{}}else{i=n||t||{}}this[u]={url:c(e,r??i.base),options:i,basePath:""};this.analyze()}analyze(){var e,t,n,i,a;const c=(0,o.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!undefined,i18nProvider:this[u].options.i18nProvider});const l=(0,s.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(l):(0,r.detectDomainLocale)((t=this[u].options.nextConfig)==null?void 0:(e=t.i18n)==null?void 0:e.domains,l);const d=((n=this[u].domainLocale)==null?void 0:n.defaultLocale)||((a=this[u].options.nextConfig)==null?void 0:(i=a.i18n)==null?void 0:i.defaultLocale);this[u].url.pathname=c.pathname;this[u].defaultLocale=d;this[u].basePath=c.basePath??"";this[u].buildId=c.buildId;this[u].locale=c.locale??d;this[u].trailingSlash=c.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:!this[u].options.forceLocale?this[u].defaultLocale:undefined,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,n;if(!this[u].locale||!((n=this[u].options.nextConfig)==null?void 0:(t=n.i18n)==null?void 0:t.locales.includes(e))){throw Object.defineProperty(new TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:false,configurable:true})}this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){const e=this.formatPathname();const t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=c(e);this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new l(String(this),this[u].options)}}},66771:(e,t,n)=>{"use strict";var r=e.exports=n(89374);r.build="full";r.tokenize=n(60158);r.parse=n(27408);r.common=n(34346);r.Root._configure(r.Type,r.parse,r.common)},67086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{RedirectBoundary:function(){return f},RedirectErrorBoundary:function(){return d}});const i=n(40740);const s=n(60687);const o=i._(n(43210));const a=n(65773);const c=n(36875);const u=n(97860);function l(e){let{redirect:t,reset:n,redirectType:r}=e;const i=(0,a.useRouter)();(0,o.useEffect)(()=>{o.default.startTransition(()=>{if(r===u.RedirectType.push){i.push(t,{})}else{i.replace(t,{})}n()})},[t,r,n,i]);return null}class d extends o.default.Component{static getDerivedStateFromError(e){if((0,u.isRedirectError)(e)){const t=(0,c.getURLFromRedirectError)(e);const n=(0,c.getRedirectTypeFromError)(e);return{redirect:t,redirectType:n}}throw e}render(){const{redirect:e,redirectType:t}=this.state;if(e!==null&&t!==null){return(0,s.jsx)(l,{redirect:e,redirectType:t,reset:()=>this.setState({redirect:null})})}return this.props.children}constructor(e){super(e);this.state={redirect:null,redirectType:null}}}function f(e){let{children:t}=e;const n=(0,a.useRouter)();return(0,s.jsx)(d,{router:n,children:t})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},67625:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{METADATA_BOUNDARY_NAME:function(){return r},OUTLET_BOUNDARY_NAME:function(){return s},VIEWPORT_BOUNDARY_NAME:function(){return i}});const r="__next_metadata_boundary__";const i="__next_viewport_boundary__";const s="__next_outlet_boundary__"},67778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return s}});const r=n(77855);const i=n(42471);class s{static fromStatic(e){return new s(e,{metadata:{}})}constructor(e,{contentType:t,waitUntil:n,metadata:r}){this.response=e;this.contentType=t;this.metadata=r;this.waitUntil=n}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return this.response===null}get isDynamic(){return typeof this.response!=="string"}toUnchunkedBuffer(e=false){if(this.response===null){throw Object.defineProperty(new Error("Invariant: null responses cannot be unchunked"),"__NEXT_ERROR_CODE",{value:"E274",enumerable:false,configurable:true})}if(typeof this.response!=="string"){if(!e){throw Object.defineProperty(new Error("Invariant: dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E81",enumerable:false,configurable:true})}return(0,r.streamToBuffer)(this.readable)}return Buffer.from(this.response)}toUnchunkedString(e=false){if(this.response===null){throw Object.defineProperty(new Error("Invariant: null responses cannot be unchunked"),"__NEXT_ERROR_CODE",{value:"E274",enumerable:false,configurable:true})}if(typeof this.response!=="string"){if(!e){throw Object.defineProperty(new Error("Invariant: dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E81",enumerable:false,configurable:true})}return(0,r.streamToString)(this.readable)}return this.response}get readable(){if(this.response===null){throw Object.defineProperty(new Error("Invariant: null responses cannot be streamed"),"__NEXT_ERROR_CODE",{value:"E14",enumerable:false,configurable:true})}if(typeof this.response==="string"){throw Object.defineProperty(new Error("Invariant: static responses cannot be streamed"),"__NEXT_ERROR_CODE",{value:"E151",enumerable:false,configurable:true})}if(Buffer.isBuffer(this.response)){return(0,r.streamFromBuffer)(this.response)}if(Array.isArray(this.response)){return(0,r.chainStreams)(...this.response)}return this.response}chain(e){if(this.response===null){throw Object.defineProperty(new Error("Invariant: response is null. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E258",enumerable:false,configurable:true})}let t;if(typeof this.response==="string"){t=[(0,r.streamFromString)(this.response)]}else if(Array.isArray(this.response)){t=this.response}else if(Buffer.isBuffer(this.response)){t=[(0,r.streamFromBuffer)(this.response)]}else{t=[this.response]}t.push(e);this.response=t}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:true});if(this.waitUntil)await this.waitUntil;await e.close()}catch(t){if((0,i.isAbortError)(t)){await e.abort(t);return}throw t}}async pipeToNodeResponse(e){await (0,i.pipeToNodeResponse)(this.readable,e,this.waitUntil)}}},67839:e=>{(()=>{"use strict";var t={328:e=>{function t(e){var t=5381,n=e.length;while(n){t=t*33^e.charCodeAt(--n)}return t>>>0}e.exports=t}};var n={};function r(e){var i=n[e];if(i!==undefined){return i.exports}var s=n[e]={exports:{}};var o=true;try{t[e](s,s.exports,r);o=false}finally{if(o)delete n[e]}return s.exports}if(typeof r!=="undefined")r.ab=__dirname+"/";var i=r(328);e.exports=i})()},67989:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>r.Dk,Sx:()=>r.Sx,Wp:()=>r.Wp});var r=n(15048);var i="firebase";var s="12.5.0";(0,r.KO)(i,s,"app")},68048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Server=void 0;const r=n(73496);const i=n(93122);const s=n(62841);const o=n(663);const a=n(98605);const c=n(63038);const u=n(98387);const l=n(57213);const d=n(37216);const f=~(1<<31);const h=~(1<<31);const p=2e4;const{HTTP2_HEADER_PATH:m}=r.constants;const g="server";function y(){}function v(e){return{code:i.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}function b(e,t){const n=v(t);switch(e){case"unary":return(e,t)=>{t(n,null)};case"clientStream":return(e,t)=>{t(n,null)};case"serverStream":return e=>{e.emit("error",n)};case"bidi":return e=>{e.emit("error",n)};default:throw new Error(`Invalid handlerType ${e}`)}}class _{constructor(e){var t,n,r,i;this.http2ServerList=[];this.handlers=new Map;this.sessions=new Map;this.started=false;this.shutdown=false;this.serverAddressString="null";this.channelzEnabled=true;this.channelzTrace=new d.ChannelzTrace;this.callTracker=new d.ChannelzCallTracker;this.listenerChildrenTracker=new d.ChannelzChildrenTracker;this.sessionChildrenTracker=new d.ChannelzChildrenTracker;this.options=e!==null&&e!==void 0?e:{};if(this.options["grpc.enable_channelz"]===0){this.channelzEnabled=false}this.channelzRef=(0,d.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Server created")}this.maxConnectionAgeMs=(t=this.options["grpc.max_connection_age_ms"])!==null&&t!==void 0?t:f;this.maxConnectionAgeGraceMs=(n=this.options["grpc.max_connection_age_grace_ms"])!==null&&n!==void 0?n:f;this.keepaliveTimeMs=(r=this.options["grpc.keepalive_time_ms"])!==null&&r!==void 0?r:h;this.keepaliveTimeoutMs=(i=this.options["grpc.keepalive_timeout_ms"])!==null&&i!==void 0?i:p;this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,n,r;const i=this.sessions.get(e);const s=e.socket;const o=s.remoteAddress?(0,u.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null;const a=s.localAddress?(0,u.stringToSubchannelAddress)(s.localAddress,s.localPort):null;let c;if(e.encrypted){const e=s;const n=e.getCipher();const r=e.getCertificate();const i=e.getPeerCertificate();c={cipherSuiteStandardName:(t=n.standardName)!==null&&t!==void 0?t:null,cipherSuiteOtherName:n.standardName?null:n.name,localCertificate:r&&"raw"in r?r.raw:null,remoteCertificate:i&&"raw"in i?i.raw:null}}else{c=null}const l={remoteAddress:o,localAddress:a,security:c,remoteName:null,streamsStarted:i.streamTracker.callsStarted,streamsSucceeded:i.streamTracker.callsSucceeded,streamsFailed:i.streamTracker.callsFailed,messagesSent:i.messagesSent,messagesReceived:i.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:i.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:i.lastMessageSentTimestamp,lastMessageReceivedTimestamp:i.lastMessageReceivedTimestamp,localFlowControlWindow:(n=e.state.localWindowSize)!==null&&n!==void 0?n:null,remoteFlowControlWindow:(r=e.state.remoteWindowSize)!==null&&r!==void 0?r:null};return l}}trace(e){c.trace(i.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(e===null||typeof e!=="object"||t===null||typeof t!=="object"){throw new Error("addService() requires two objects as arguments")}const n=Object.keys(e);if(n.length===0){throw new Error("Cannot add an empty service to a server")}n.forEach(n=>{const r=e[n];let i;if(r.requestStream){if(r.responseStream){i="bidi"}else{i="clientStream"}}else{if(r.responseStream){i="serverStream"}else{i="unary"}}let s=t[n];let o;if(s===undefined&&typeof r.originalName==="string"){s=t[r.originalName]}if(s!==undefined){o=s.bind(t)}else{o=b(i,n)}const a=this.register(r.path,o,r.responseSerialize,r.requestDeserialize,i);if(a===false){throw new Error(`Method handler for ${r.path} already provided.`)}})}removeService(e){if(e===null||typeof e!=="object"){throw new Error("removeService() requires object as argument")}const t=Object.keys(e);t.forEach(t=>{const n=e[t];this.unregister(n.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,n){if(this.started===true){throw new Error("server is already started")}if(this.shutdown){throw new Error("bindAsync called after shutdown")}if(typeof e!=="string"){throw new TypeError("port must be a string")}if(t===null||!(t instanceof o.ServerCredentials)){throw new TypeError("creds must be a ServerCredentials object")}if(typeof n!=="function"){throw new TypeError("callback must be a function")}const s=(0,l.parseUri)(e);if(s===null){throw new Error(`Could not parse port "${e}"`)}const f=(0,a.mapUriDefaultScheme)(s);if(f===null){throw new Error(`Could not get a default scheme for port "${e}"`)}const h={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};if("grpc-node.max_session_memory"in this.options){h.maxSessionMemory=this.options["grpc-node.max_session_memory"]}else{h.maxSessionMemory=Number.MAX_SAFE_INTEGER}if("grpc.max_concurrent_streams"in this.options){h.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}}const p=(e,t)=>{process.nextTick(()=>n(e,t))};const m=()=>{let e;if(t._isSecure()){const n=Object.assign(h,t._getSettings());n.enableTrace=this.options["grpc-node.tls_enable_trace"]===1;e=r.createSecureServer(n);e.on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})})}else{e=r.createServer(h)}e.setTimeout(0,y);this._setupHandlers(e);return e};const g=(e,t,n)=>{if(e.length===0){return Promise.resolve({port:t,count:n})}return Promise.all(e.map(e=>{this.trace("Attempting to bind "+(0,u.subchannelAddressToString)(e));let n;if((0,u.isTcpSubchannelAddress)(e)){n={host:e.host,port:t}}else{n=e}const r=m();return new Promise((i,s)=>{const o=t=>{this.trace("Failed to bind "+(0,u.subchannelAddressToString)(e)+" with error "+t.message);i(t)};r.once("error",o);r.listen(n,()=>{if(this.shutdown){r.close();i(new Error("bindAsync failed because server is shutdown"));return}const e=r.address();let n;if(typeof e==="string"){n={path:e}}else{n={host:e.address,port:e.port}}const s=(0,d.registerChannelzSocket)((0,u.subchannelAddressToString)(n),()=>{return{localAddress:n,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}},this.channelzEnabled);if(this.channelzEnabled){this.listenerChildrenTracker.refChild(s)}this.http2ServerList.push({server:r,channelzRef:s});this.trace("Successfully bound "+(0,u.subchannelAddressToString)(n));i("port"in n?n.port:t);r.removeListener("error",o)})})})).then(e=>{let r=0;for(const n of e){if(typeof n==="number"){r+=1;if(n!==t){throw new Error("Invalid state: multiple port numbers added from single address")}}}return{port:t,count:r+n}})};const v=e=>{if(e.length===0){return Promise.resolve({port:0,count:0})}const t=e[0];const n=m();return new Promise((r,i)=>{const s=n=>{this.trace("Failed to bind "+(0,u.subchannelAddressToString)(t)+" with error "+n.message);r(v(e.slice(1)))};n.once("error",s);n.listen(t,()=>{if(this.shutdown){n.close();r({port:0,count:0});return}const t=n.address();const i={host:t.address,port:t.port};const o=(0,d.registerChannelzSocket)((0,u.subchannelAddressToString)(i),()=>{return{localAddress:i,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}},this.channelzEnabled);if(this.channelzEnabled){this.listenerChildrenTracker.refChild(o)}this.http2ServerList.push({server:n,channelzRef:o});this.trace("Successfully bound "+(0,u.subchannelAddressToString)(i));r(g(e.slice(1),t.port,1));n.removeListener("error",s)})})};const b={onSuccessfulResolution:(t,n,r)=>{b.onSuccessfulResolution=()=>{};if(this.shutdown){p(new Error(`bindAsync failed because server is shutdown`),0)}if(t.length===0){p(new Error(`No addresses resolved for port ${e}`),0);return}let s;if((0,u.isTcpSubchannelAddress)(t[0])){if(t[0].port===0){s=v(t)}else{s=g(t,t[0].port,0)}}else{s=g(t,1,0)}s.then(e=>{if(e.count===0){const e=`No address added out of total ${t.length} resolved`;c.log(i.LogVerbosity.ERROR,e);p(new Error(e),0)}else{if(e.count<t.length){c.log(i.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`)}p(null,e.port)}},e=>{const n=`No address added out of total ${t.length} resolved`;c.log(i.LogVerbosity.ERROR,n);p(new Error(n),0)})},onError:e=>{p(new Error(e.details),0)}};const _=(0,a.createResolver)(f,b,this.options);_.updateResolution()}forceShutdown(){for(const{server:e,channelzRef:t}of this.http2ServerList){if(e.listening){e.close(()=>{if(this.channelzEnabled){this.listenerChildrenTracker.unrefChild(t);(0,d.unregisterChannelzRef)(t)}})}}this.started=false;this.shutdown=true;this.sessions.forEach((e,t)=>{t.destroy(r.constants.NGHTTP2_CANCEL)});this.sessions.clear();if(this.channelzEnabled){(0,d.unregisterChannelzRef)(this.channelzRef)}}register(e,t,n,r,i){if(this.handlers.has(e)){return false}this.handlers.set(e,{func:t,serialize:n,deserialize:r,type:i,path:e});return true}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==true)){throw new Error("server must be bound in order to start")}if(this.started===true){throw new Error("server is already started")}if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Starting")}this.started=true}tryShutdown(e){const t=t=>{if(this.channelzEnabled){(0,d.unregisterChannelzRef)(this.channelzRef)}e(t)};let n=0;function r(){n--;if(n===0){t()}}this.started=false;this.shutdown=true;for(const{server:e,channelzRef:t}of this.http2ServerList){if(e.listening){n++;e.close(()=>{if(this.channelzEnabled){this.listenerChildrenTracker.unrefChild(t);(0,d.unregisterChannelzRef)(t)}r()})}}this.sessions.forEach((e,t)=>{if(!t.closed){n+=1;t.close(r)}});if(n===0){t()}}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){const n=t[r.constants.HTTP2_HEADER_CONTENT_TYPE];if(typeof n!=="string"||!n.startsWith("application/grpc")){e.respond({[r.constants.HTTP2_HEADER_STATUS]:r.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:true});return false}return true}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);const t=this.handlers.get(e);if(t===undefined){this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status.");return null}return t}_respondWithError(e,t,n=null){const r=new s.Http2ServerCallStream(t,null,this.options);if(e.code===undefined){e.code=i.Status.INTERNAL}if(this.channelzEnabled){this.callTracker.addCallFailed();n===null||n===void 0?void 0:n.streamTracker.addCallFailed()}r.sendError(e)}_channelzHandler(e,t){const n=this.sessions.get(e.session);this.callTracker.addCallStarted();n===null||n===void 0?void 0:n.streamTracker.addCallStarted();if(!this._verifyContentType(e,t)){this.callTracker.addCallFailed();n===null||n===void 0?void 0:n.streamTracker.addCallFailed();return}const r=t[m];const o=this._retrieveHandler(r);if(!o){this._respondWithError(v(r),e,n);return}const a=new s.Http2ServerCallStream(e,o,this.options);a.once("callEnd",e=>{if(e===i.Status.OK){this.callTracker.addCallSucceeded()}else{this.callTracker.addCallFailed()}});if(n){a.once("streamEnd",e=>{if(e){n.streamTracker.addCallSucceeded()}else{n.streamTracker.addCallFailed()}});a.on("sendMessage",()=>{n.messagesSent+=1;n.lastMessageSentTimestamp=new Date});a.on("receiveMessage",()=>{n.messagesReceived+=1;n.lastMessageReceivedTimestamp=new Date})}if(!this._runHandlerForCall(a,o,t)){this.callTracker.addCallFailed();n===null||n===void 0?void 0:n.streamTracker.addCallFailed();a.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${o.type}`})}}_streamHandler(e,t){if(this._verifyContentType(e,t)!==true){return}const n=t[m];const r=this._retrieveHandler(n);if(!r){this._respondWithError(v(n),e,null);return}const o=new s.Http2ServerCallStream(e,r,this.options);if(!this._runHandlerForCall(o,r,t)){o.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${r.type}`})}}_runHandlerForCall(e,t,n){var r;const i=e.receiveMetadata(n);const s=(r=i.get("grpc-encoding")[0])!==null&&r!==void 0?r:"identity";i.remove("grpc-encoding");const{type:o}=t;if(o==="unary"){E(e,t,i,s)}else if(o==="clientStream"){w(e,t,i,s)}else if(o==="serverStream"){S(e,t,i,s)}else if(o==="bidi"){T(e,t,i,s)}else{return false}return true}_setupHandlers(e){if(e===null){return}const t=e.address();let n="null";if(t){if(typeof t==="string"){n=t}else{n=t.address+":"+t.port}}this.serverAddressString=n;const i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this));e.on("session",e=>{var t,n,i,s,o;if(!this.started){e.destroy();return}const a=(0,d.registerChannelzSocket)((t=e.socket.remoteAddress)!==null&&t!==void 0?t:"unknown",this.getChannelzSessionInfoGetter(e),this.channelzEnabled);const c={ref:a,streamTracker:new d.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(e,c);const u=e.socket.remoteAddress;if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connection established by client "+u);this.sessionChildrenTracker.refChild(a)}let l=null;let h=null;let p=false;if(this.maxConnectionAgeMs!==f){const t=this.maxConnectionAgeMs/10;const s=Math.random()*t*2-t;l=(i=(n=setTimeout(()=>{var t,n;p=true;if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+u)}try{e.goaway(r.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch(t){e.destroy();return}e.close();if(this.maxConnectionAgeGraceMs!==f){h=(n=(t=setTimeout(()=>{e.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||n===void 0?void 0:n.call(t)}},this.maxConnectionAgeMs+s)).unref)===null||i===void 0?void 0:i.call(n)}const m=(o=(s=setInterval(()=>{var t,n;const r=(n=(t=setTimeout(()=>{p=true;if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+u)}e.close()},this.keepaliveTimeoutMs)).unref)===null||n===void 0?void 0:n.call(t);try{e.ping((e,t,n)=>{clearTimeout(r)})}catch(t){e.destroy()}},this.keepaliveTimeMs)).unref)===null||o===void 0?void 0:o.call(s);e.on("close",()=>{if(this.channelzEnabled){if(!p){this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+u)}this.sessionChildrenTracker.unrefChild(a);(0,d.unregisterChannelzRef)(a)}if(l){clearTimeout(l)}if(h){clearTimeout(h)}if(m){clearTimeout(m)}this.sessions.delete(e)})})}}t.Server=_;async function E(e,t,n,r){try{const i=await e.receiveUnaryMessage(r);if(i===undefined||e.cancelled){return}const o=new s.ServerUnaryCallImpl(e,n,i);t.func(o,(t,n,r,i)=>{e.sendUnaryMessage(t,n,r,i)})}catch(t){e.sendError(t)}}function w(e,t,n,r){const i=new s.ServerReadableStreamImpl(e,n,t.deserialize,r);function o(t,n,r,s){i.destroy();e.sendUnaryMessage(t,n,r,s)}if(e.cancelled){return}i.on("error",o);t.func(i,o)}async function S(e,t,n,r){try{const i=await e.receiveUnaryMessage(r);if(i===undefined||e.cancelled){return}const o=new s.ServerWritableStreamImpl(e,n,t.serialize,i);t.func(o)}catch(t){e.sendError(t)}}function T(e,t,n,r){const i=new s.ServerDuplexStreamImpl(e,n,t.serialize,t.deserialize,r);if(e.cancelled){return}t.func(i)}},68214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"hasInterceptionRouteInCurrentTree",{enumerable:true,get:function(){return i}});const r=n(72859);function i(e){let[t,n]=e;if(Array.isArray(t)&&(t[2]==="di"||t[2]==="ci")){return true}if(typeof t==="string"&&(0,r.isInterceptionRouteAppPath)(t)){return true}if(n){for(const e in n){if(i(n[e])){return true}}}return false}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},68388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{isHangingPromiseRejectionError:function(){return r},makeHangingPromise:function(){return o}});function r(e){if(typeof e!=="object"||e===null||!("digest"in e)){return false}return e.digest===i}const i="HANGING_PROMISE_REJECTION";class s extends Error{constructor(e){super(`During prerendering, ${e} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${e} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`),this.expression=e,this.digest=i}}function o(e,t){const n=new Promise((n,r)=>{e.addEventListener("abort",()=>{r(new s(t))},{once:true})});n.catch(a);return n}function a(){}},68474:(e,t,n)=>{"use strict";e.exports=n(66771)},68524:(e,t,n)=>{"use strict";e.exports=n(94041).vendored.contexts.ServerInsertedMetadata},68613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"unstable_rethrow",{enumerable:true,get:function(){return r}});const r=true?n(42292).unstable_rethrow:0;if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},68684:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{indexOfUint8Array:function(){return r},isEquivalentUint8Arrays:function(){return i},removeFromUint8Array:function(){return s}});function r(e,t){if(t.length===0)return 0;if(e.length===0||t.length>e.length)return-1;for(let n=0;n<=e.length-t.length;n++){let r=true;for(let i=0;i<t.length;i++){if(e[n+i]!==t[i]){r=false;break}}if(r){return n}}return-1}function i(e,t){if(e.length!==t.length)return false;for(let n=0;n<e.length;n++){if(e[n]!==t[n])return false}return true}function s(e,t){const n=r(e,t);if(n===0)return e.subarray(t.length);if(n>-1){const r=new Uint8Array(e.length-t.length);r.set(e.slice(0,n));r.set(e.slice(n+t.length),n);return r}else{return e}}},69024:(e,t,n)=>{"use strict";n.d(t,{Qg:()=>o,s6:()=>c});var r=n(43210);var i=n(14163);var s=n(60687);var o=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});var a="VisuallyHidden";var c=r.forwardRef((e,t)=>{return(0,s.jsx)(i.sG.span,{...e,ref:t,style:{...o,...e.style}})});c.displayName=a;var u=null&&c},69385:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getObjectClassLabel:function(){return r},isPlainObject:function(){return i}});function r(e){return Object.prototype.toString.call(e)}function i(e){if(r(e)!=="[object Object]"){return false}const t=Object.getPrototypeOf(e);return t===null||t.hasOwnProperty("isPrototypeOf")}},70155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isDuration=t.durationToMs=t.msToDuration=void 0;function n(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}}t.msToDuration=n;function r(e){return e.seconds*1e3+e.nanos/1e6|0}t.durationToMs=r;function i(e){return typeof e.seconds==="number"&&typeof e.nanos==="number"}t.isDuration=i},70569:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});function r(e,t,{checkForDefaultPrevented:n=true}={}){return function r(r){e?.(r);if(n===false||!r.defaultPrevented){return t?.(r)}}}},70635:e=>{"use strict";var t=Object.defineProperty;var n=Object.getOwnPropertyDescriptor;var r=Object.getOwnPropertyNames;var i=Object.prototype.hasOwnProperty;var s=(e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:true})};var o=(e,s,o,a)=>{if(s&&typeof s==="object"||typeof s==="function"){for(let c of r(s))if(!i.call(e,c)&&c!==o)t(e,c,{get:()=>s[c],enumerable:!(a=n(s,c))||a.enumerable})}return e};var a=e=>o(t({},"__esModule",{value:true}),e);var c={};s(c,{RequestCookies:()=>v,ResponseCookies:()=>b,parseCookie:()=>l,parseSetCookie:()=>d,stringifyCookie:()=>u});e.exports=a(c);function u(e){var t;const n=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||e.expires===0)&&`Expires=${(typeof e.expires==="number"?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&typeof e.maxAge==="number"&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);const r=`${e.name}=${encodeURIComponent((t=e.value)!=null?t:"")}`;return n.length===0?r:`${r}; ${n.join("; ")}`}function l(e){const t=new Map;for(const n of e.split(/; */)){if(!n)continue;const e=n.indexOf("=");if(e===-1){t.set(n,"true");continue}const[r,i]=[n.slice(0,e),n.slice(e+1)];try{t.set(r,decodeURIComponent(i!=null?i:"true"))}catch{}}return t}function d(e){if(!e){return void 0}const[[t,n],...r]=l(e);const{domain:i,expires:s,httponly:o,maxage:a,path:c,samesite:u,secure:d,partitioned:h,priority:m}=Object.fromEntries(r.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));const y={name:t,value:decodeURIComponent(n),domain:i,...s&&{expires:new Date(s)},...o&&{httpOnly:true},...typeof a==="string"&&{maxAge:Number(a)},path:c,...u&&{sameSite:p(u)},...d&&{secure:true},...m&&{priority:g(m)},...h&&{partitioned:true}};return f(y)}function f(e){const t={};for(const n in e){if(e[n]){t[n]=e[n]}}return t}var h=["strict","lax","none"];function p(e){e=e.toLowerCase();return h.includes(e)?e:void 0}var m=["low","medium","high"];function g(e){e=e.toLowerCase();return m.includes(e)?e:void 0}function y(e){if(!e)return[];var t=[];var n=0;var r;var i;var s;var o;var a;function c(){while(n<e.length&&/\s/.test(e.charAt(n))){n+=1}return n<e.length}function u(){i=e.charAt(n);return i!=="="&&i!==";"&&i!==","}while(n<e.length){r=n;a=false;while(c()){i=e.charAt(n);if(i===","){s=n;n+=1;c();o=n;while(n<e.length&&u()){n+=1}if(n<e.length&&e.charAt(n)==="="){a=true;n=o;t.push(e.substring(r,s));r=n}else{n=s+1}}else{n+=1}}if(!a||n>=e.length){t.push(e.substring(r,e.length))}}return t}var v=class{constructor(e){this._parsed=new Map;this._headers=e;const t=e.get("cookie");if(t){const e=l(t);for(const[t,n]of e){this._parsed.set(t,{name:t,value:n})}}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){const t=typeof e[0]==="string"?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;const n=Array.from(this._parsed);if(!e.length){return n.map(([e,t])=>t)}const r=typeof e[0]==="string"?e[0]:(t=e[0])==null?void 0:t.name;return n.filter(([e])=>e===r).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){const[t,n]=e.length===1?[e[0].name,e[0].value]:e;const r=this._parsed;r.set(t,{name:t,value:n});this._headers.set("cookie",Array.from(r).map(([e,t])=>u(t)).join("; "));return this}delete(e){const t=this._parsed;const n=!Array.isArray(e)?t.delete(e):e.map(e=>t.delete(e));this._headers.set("cookie",Array.from(t).map(([e,t])=>u(t)).join("; "));return n}clear(){this.delete(Array.from(this._parsed.keys()));return this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}};var b=class{constructor(e){this._parsed=new Map;var t,n,r;this._headers=e;const i=(r=(n=(t=e.getSetCookie)==null?void 0:t.call(e))!=null?n:e.get("set-cookie"))!=null?r:[];const s=Array.isArray(i)?i:y(i);for(const e of s){const t=d(e);if(t)this._parsed.set(t.name,t)}}get(...e){const t=typeof e[0]==="string"?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;const n=Array.from(this._parsed.values());if(!e.length){return n}const r=typeof e[0]==="string"?e[0]:(t=e[0])==null?void 0:t.name;return n.filter(e=>e.name===r)}has(e){return this._parsed.has(e)}set(...e){const[t,n,r]=e.length===1?[e[0].name,e[0].value,e[0]]:e;const i=this._parsed;i.set(t,E({name:t,value:n,...r}));_(i,this._headers);return this}delete(...e){const[t,n]=typeof e[0]==="string"?[e[0]]:[e[0].name,e[0]];return this.set({...n,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(u).join("; ")}};function _(e,t){t.delete("set-cookie");for(const[,n]of e){const e=u(n);t.append("set-cookie",e)}}function E(e={name:"",value:""}){if(typeof e.expires==="number"){e.expires=new Date(e.expires)}if(e.maxAge){e.expires=new Date(Date.now()+e.maxAge*1e3)}if(e.path===null||e.path===void 0){e.path="/"}return e}0&&0},70757:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;const r=n(99978);const i=n(93122);var s;(function(e){e[e["COMPLETE"]=0]="COMPLETE";e[e["QUEUE"]=1]="QUEUE";e[e["TRANSIENT_FAILURE"]=2]="TRANSIENT_FAILURE";e[e["DROP"]=3]="DROP"})(s||(t.PickResultType=s={}));class o{constructor(e){this.status=Object.assign({code:i.Status.UNAVAILABLE,details:"No connection established",metadata:new r.Metadata},e)}pick(e){return{pickResultType:s.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}t.UnavailablePicker=o;class a{constructor(e){this.loadBalancer=e;this.calledExitIdle=false}pick(e){if(!this.calledExitIdle){process.nextTick(()=>{this.loadBalancer.exitIdle()});this.calledExitIdle=true}return{pickResultType:s.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}t.QueuePicker=a},71140:(e,t)=>{"use strict";var n=t;var r=n.isAbsolute=function e(e){return/^(?:\/|\w+:)/.test(e)};var i=n.normalize=function e(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),n=r(e),i="";if(n)i=t.shift()+"/";for(var s=0;s<t.length;){if(t[s]===".."){if(s>0&&t[s-1]!=="..")t.splice(--s,2);else if(n)t.splice(s,1);else++s}else if(t[s]===".")t.splice(s,1);else++s}return i+t.join("/")};n.resolve=function e(e,t,n){if(!n)t=i(t);if(r(t))return t;if(!n)e=i(e);return(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t}},71202:(e,t,n)=>{"use strict";e.exports=s;var r=n(64824);((s.prototype=Object.create(r.prototype)).constructor=s).className="Method";var i=n(93107);function s(e,t,n,s,o,a,c,u,l){if(i.isObject(o)){c=o;o=a=undefined}else if(i.isObject(a)){c=a;a=undefined}if(!(t===undefined||i.isString(t)))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");r.call(this,e,c);this.type=t||"rpc";this.requestType=n;this.requestStream=o?true:undefined;this.responseType=s;this.responseStream=a?true:undefined;this.resolvedRequestType=null;this.resolvedResponseType=null;this.comment=u;this.parsedOptions=l}s.fromJSON=function e(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};s.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return i.toObject(["type",this.type!=="rpc"&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined,"parsedOptions",this.parsedOptions])};s.prototype.resolve=function e(){if(this.resolved)return this;this.resolvedRequestType=this.parent.lookupType(this.requestType);this.resolvedResponseType=this.parent.lookupType(this.responseType);return r.prototype.resolve.call(this)}},71617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"InvariantError",{enumerable:true,get:function(){return n}});class n extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t);this.name="InvariantError"}}},71866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getDefaultRootsData=t.CIPHER_SUITES=void 0;const r=n(29021);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let s=null;function o(){if(i){if(s===null){s=r.readFileSync(i)}return s}return null}t.getDefaultRootsData=o},72609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{describeHasCheckingStringProperty:function(){return s},describeStringPropertyAccess:function(){return i},wellKnownProperties:function(){return o}});const r=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function i(e,t){if(r.test(t)){return"`"+e+"."+t+"`"}return"`"+e+"["+JSON.stringify(t)+"]`"}function s(e,t){const n=JSON.stringify(t);return"`Reflect.has("+e+", "+n+")`, `"+n+" in "+e+"`, or similar"}const o=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},72639:(e,t,n)=>{"use strict";n.r(t);n.d(t,{_:()=>r});function r(e){return e&&e.__esModule?e:{default:e}}},72859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{INTERCEPTION_ROUTE_MARKERS:function(){return s},extractInterceptionRouteInformation:function(){return a},isInterceptionRouteAppPath:function(){return o}});const i=n(39444);const s=["(..)(..)","(.)","(..)","(...)"];function o(e){return e.split("/").find(e=>s.find(t=>e.startsWith(t)))!==undefined}function a(e){let t,n,r;for(const i of e.split("/")){n=s.find(e=>i.startsWith(e));if(n){;[t,r]=e.split(n,2);break}}if(!t||!n||!r){throw Object.defineProperty(new Error("Invalid interception route: "+e+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:false,configurable:true})}t=(0,i.normalizeAppPath)(t);switch(n){case"(.)":if(t==="/"){r="/"+r}else{r=t+"/"+r}break;case"(..)":if(t==="/"){throw Object.defineProperty(new Error("Invalid interception route: "+e+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:false,configurable:true})}r=t.split("/").slice(0,-1).concat(r).join("/");break;case"(...)":r="/"+r;break;case"(..)(..)":const o=t.split("/");if(o.length<=2){throw Object.defineProperty(new Error("Invalid interception route: "+e+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:false,configurable:true})}r=o.slice(0,-2).concat(r).join("/");break;default:throw Object.defineProperty(new Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:false,configurable:true})}return{interceptingRoute:t,interceptedRoute:r}}},72887:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"removeTrailingSlash",{enumerable:true,get:function(){return n}});function n(e){return e.replace(/\/$/,"")||"/"}},72900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{preconnect:function(){return c},preloadFont:function(){return a},preloadStyle:function(){return o}});const i=s(n(46033));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){const r={as:"style"};if(typeof t==="string"){r.crossOrigin=t}if(typeof n==="string"){r.nonce=n}i.default.preload(e,r)}function a(e,t,n,r){const s={as:"font",type:t};if(typeof n==="string"){s.crossOrigin=n}if(typeof r==="string"){s.nonce=r}i.default.preload(e,s)}function c(e,t,n){const r={};if(typeof t==="string"){r.crossOrigin=t}if(typeof n==="string"){r.nonce=n};i.default.preconnect(e,r)}},73102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createParamsFromClient:function(){return f},createPrerenderParamsForClientSegment:function(){return g},createServerParamsForMetadata:function(){return h},createServerParamsForRoute:function(){return p},createServerParamsForServerSegment:function(){return m}});const i=n(43763);const s=n(84971);const o=n(63033);const a=n(71617);const c=n(72609);const u=n(68388);const l=n(76926);const d=n(44523);function f(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}const h=m;function p(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}function m(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}function g(e,t){const n=o.workUnitAsyncStorage.getStore();if(n&&n.type==="prerender"){const r=t.fallbackRouteParams;if(r){for(let t in e){if(r.has(t)){return(0,u.makeHangingPromise)(n.renderSignal,"`params`")}}}}return Promise.resolve(e)}function y(e,t,n){const r=t.fallbackRouteParams;if(r){let i=false;for(const t in e){if(r.has(t)){i=true;break}}if(i){if(n.type==="prerender"){return _(e,t.route,n)}return E(e,r,t,n)}}return w(e)}function v(e,t){if(false){}else{return w(e)}}const b=new WeakMap;function _(e,t,n){const r=b.get(e);if(r){return r}const i=(0,u.makeHangingPromise)(n.renderSignal,"`params`");b.set(e,i);Object.keys(e).forEach(e=>{if(c.wellKnownProperties.has(e)){}else{Object.defineProperty(i,e,{get(){const r=(0,c.describeStringPropertyAccess)("params",e);const i=I(t,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(t,r,i,n)},set(t){Object.defineProperty(i,e,{value:t,writable:true,enumerable:true})},enumerable:true,configurable:true})}});return i}function E(e,t,n,r){const i=b.get(e);if(i){return i}const o={...e};const a=Promise.resolve(o);b.set(e,a);Object.keys(e).forEach(i=>{if(c.wellKnownProperties.has(i)){}else{if(t.has(i)){Object.defineProperty(o,i,{get(){const e=(0,c.describeStringPropertyAccess)("params",i);if(r.type==="prerender-ppr"){(0,s.postponeWithTracking)(n.route,e,r.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(e,n,r)}},enumerable:true});Object.defineProperty(a,i,{get(){const e=(0,c.describeStringPropertyAccess)("params",i);if(r.type==="prerender-ppr"){(0,s.postponeWithTracking)(n.route,e,r.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(e,n,r)}},set(e){Object.defineProperty(a,i,{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true})}else{;a[i]=e[i]}}});return a}function w(e){const t=b.get(e);if(t){return t}const n=Promise.resolve(e);b.set(e,n);Object.keys(e).forEach(t=>{if(c.wellKnownProperties.has(t)){}else{;n[t]=e[t]}});return n}function S(e,t){const n=b.get(e);if(n){return n}const r=new Promise(t=>(0,d.scheduleImmediate)(()=>t(e)));const s=new Set;const o=[];Object.keys(e).forEach(t=>{if(c.wellKnownProperties.has(t)){o.push(t)}else{s.add(t);r[t]=e[t]}});const a=new Proxy(r,{get(e,n,r){if(typeof n==="string"){if(s.has(n)){const e=(0,c.describeStringPropertyAccess)("params",n);T(t.route,e)}}return i.ReflectAdapter.get(e,n,r)},set(e,t,n,r){if(typeof t==="string"){s.delete(t)}return i.ReflectAdapter.set(e,t,n,r)},ownKeys(e){const n="`...params` or similar expression";T(t.route,n,o);return Reflect.ownKeys(e)}});b.set(e,a);return a}function T(e,t,n){const r=o.workUnitAsyncStorage.getStore();if(r&&r.type==="request"&&r.prerenderPhase===true){const e=r;(0,s.trackSynchronousRequestDataAccessInDev)(e)}if(n&&n.length>0){R(e,t,n)}else{C(e,t)}}const C=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(I);const R=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(O);function I(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`params\` should be awaited before using its properties. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E307",enumerable:false,configurable:true})}function O(e,t,n){const r=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${r}used ${t}. `+`\`params\` should be awaited before using its properties. `+`The following properties were not available through enumeration `+`because they conflict with builtin property names: `+`${A(n)}. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E482",enumerable:false,configurable:true})}function A(e){switch(e.length){case 0:throw Object.defineProperty(new a.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:false,configurable:true});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let n=0;n<e.length-1;n++){t+=`\`${e[n]}\`, `}t+=`, and \`${e[e.length-1]}\``;return t}}}},73267:(e,t,n)=>{"use strict";e.exports=u;var r=n(64824);((u.prototype=Object.create(r.prototype)).constructor=u).className="Field";var i=n(32110),s=n(61810),o=n(93107);var a;var c=/^required|optional|repeated$/;u.fromJSON=function e(e,t){var n=new u(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);if(t.edition)n._edition=t.edition;n._defaultEdition="proto3";return n};function u(e,t,n,i,a,u,l){if(o.isObject(i)){l=a;u=i;i=a=undefined}else if(o.isObject(a)){l=u;u=a;a=undefined}r.call(this,e,u);if(!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(n))throw TypeError("type must be a string");if(i!==undefined&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(a!==undefined&&!o.isString(a))throw TypeError("extend must be a string");if(i==="proto3_optional"){i="optional"}this.rule=i&&i!=="optional"?i:undefined;this.type=n;this.id=t;this.extend=a||undefined;this.repeated=i==="repeated";this.map=false;this.message=null;this.partOf=null;this.typeDefault=null;this.defaultValue=null;this.long=o.Long?s.long[n]!==undefined:false;this.bytes=n==="bytes";this.resolvedType=null;this.extensionField=null;this.declaringField=null;this.comment=l}Object.defineProperty(u.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(u.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(u.prototype,"delimited",{get:function(){return this.resolvedType instanceof a&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(u.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(u.prototype,"hasPresence",{get:function(){if(this.repeated||this.map){return false}return this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});u.prototype.setOption=function e(e,t,n){return r.prototype.setOption.call(this,e,t,n)};u.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return o.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])};u.prototype.resolve=function e(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===undefined){this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type);if(this.resolvedType instanceof a)this.typeDefault=null;else this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]}else if(this.options&&this.options.proto3_optional){this.typeDefault=null}if(this.options&&this.options["default"]!=null){this.typeDefault=this.options["default"];if(this.resolvedType instanceof i&&typeof this.typeDefault==="string")this.typeDefault=this.resolvedType.values[this.typeDefault]}if(this.options){if(this.options.packed!==undefined&&this.resolvedType&&!(this.resolvedType instanceof i))delete this.options.packed;if(!Object.keys(this.options).length)this.options=undefined}if(this.long){this.typeDefault=o.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u");if(Object.freeze)Object.freeze(this.typeDefault)}else if(this.bytes&&typeof this.typeDefault==="string"){var e;if(o.base64.test(this.typeDefault))o.base64.decode(this.typeDefault,e=o.newBuffer(o.base64.length(this.typeDefault)),0);else o.utf8.write(this.typeDefault,e=o.newBuffer(o.utf8.length(this.typeDefault)),0);this.typeDefault=e}if(this.map)this.defaultValue=o.emptyObject;else if(this.repeated)this.defaultValue=o.emptyArray;else this.defaultValue=this.typeDefault;if(this.parent instanceof a)this.parent.ctor.prototype[this.name]=this.defaultValue;return r.prototype.resolve.call(this)};u.prototype._inferLegacyProtoFeatures=function e(e){if(e!=="proto2"&&e!=="proto3"){return{}}var t={};if(this.rule==="required"){t.field_presence="LEGACY_REQUIRED"}if(this.parent&&s.defaults[this.type]===undefined){var n=this.parent.get(this.type.split(".").pop());if(n&&n instanceof a&&n.group){t.message_encoding="DELIMITED"}}if(this.getOption("packed")===true){t.repeated_field_encoding="PACKED"}else if(this.getOption("packed")===false){t.repeated_field_encoding="EXPANDED"}return t};u.prototype._resolveFeatures=function e(e){return r.prototype._resolveFeatures.call(this,this._edition||e)};u.d=function e(e,t,n,r){if(typeof t==="function")t=o.decorateType(t).name;else if(t&&typeof t==="object")t=o.decorateEnum(t).name;return function i(i,s){o.decorateType(i.constructor).add(new u(s,e,t,n,{"default":r}))}};u._configure=function e(e){a=e}},73322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=void 0;const r=n(98605);class i{constructor(e,t,n){this.listener=t;this.addresses=[];this.hasReturnedResult=false;let r;if(e.authority===""){r="/"+e.path}else{r=e.path}this.addresses=[{path:r}]}updateResolution(){if(!this.hasReturnedResult){this.hasReturnedResult=true;process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}}destroy(){}static getDefaultAuthority(e){return"localhost"}}function s(){(0,r.registerResolver)("unix",i)}t.setup=s},74007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getFlightDataPartsFromPath:function(){return r},getNextFlightSegmentPath:function(){return i},normalizeFlightData:function(){return s}});function r(e){const t=4;const[n,r,i,s]=e.slice(-t);const o=e.slice(0,-t);var a;return{pathToSegment:o.slice(0,-1),segmentPath:o,segment:(a=o[o.length-1])!=null?a:"",tree:n,seedData:r,head:i,isHeadPartial:s,isRootRender:e.length===t}}function i(e){return e.slice(2)}function s(e){if(typeof e==="string"){return e}return e.map(r)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},75108:e=>{"use strict";e.exports=t;function t(e,t){var n=new Array(arguments.length-1),r=0,i=2,s=true;while(i<arguments.length)n[r++]=arguments[i++];return new Promise(function i(i,o){n[r]=function e(e){if(s){s=false;if(e)o(e);else{var t=new Array(arguments.length-1),n=0;while(n<t.length)t[n++]=arguments[n];i.apply(null,t)}}};try{e.apply(t||null,n)}catch(e){if(s){s=false;o(e)}}})}},75280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CompressionAlgorithms=void 0;var n;(function(e){e[e["identity"]=0]="identity";e[e["deflate"]=1]="deflate";e[e["gzip"]=2]="gzip"})(n||(t.CompressionAlgorithms=n={}))},75317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{bgBlack:function(){return I},bgBlue:function(){return N},bgCyan:function(){return D},bgGreen:function(){return A},bgMagenta:function(){return x},bgRed:function(){return O},bgWhite:function(){return k},bgYellow:function(){return P},black:function(){return y},blue:function(){return E},bold:function(){return l},cyan:function(){return T},dim:function(){return d},gray:function(){return R},green:function(){return b},hidden:function(){return m},inverse:function(){return p},italic:function(){return f},magenta:function(){return w},purple:function(){return S},red:function(){return v},reset:function(){return u},strikethrough:function(){return g},underline:function(){return h},white:function(){return C},yellow:function(){return _}});var r;const{env:i,stdout:s}=((r=globalThis)==null?void 0:r.process)??{};const o=i&&!i.NO_COLOR&&(i.FORCE_COLOR||(s==null?void 0:s.isTTY)&&!i.CI&&i.TERM!=="dumb");const a=(e,t,n,r)=>{const i=e.substring(0,r)+n;const s=e.substring(r+t.length);const o=s.indexOf(t);return~o?i+a(s,t,n,o):i+s};const c=(e,t,n=e)=>{if(!o)return String;return r=>{const i=""+r;const s=i.indexOf(t,e.length);return~s?e+a(i,t,n,s)+t:e+i+t}};const u=o?e=>`\x1b[0m${e}\x1b[0m`:String;const l=c("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");const d=c("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m");const f=c("\x1b[3m","\x1b[23m");const h=c("\x1b[4m","\x1b[24m");const p=c("\x1b[7m","\x1b[27m");const m=c("\x1b[8m","\x1b[28m");const g=c("\x1b[9m","\x1b[29m");const y=c("\x1b[30m","\x1b[39m");const v=c("\x1b[31m","\x1b[39m");const b=c("\x1b[32m","\x1b[39m");const _=c("\x1b[33m","\x1b[39m");const E=c("\x1b[34m","\x1b[39m");const w=c("\x1b[35m","\x1b[39m");const S=c("\x1b[38;2;173;127;168m","\x1b[39m");const T=c("\x1b[36m","\x1b[39m");const C=c("\x1b[37m","\x1b[39m");const R=c("\x1b[90m","\x1b[39m");const I=c("\x1b[40m","\x1b[49m");const O=c("\x1b[41m","\x1b[49m");const A=c("\x1b[42m","\x1b[49m");const P=c("\x1b[43m","\x1b[49m");const N=c("\x1b[44m","\x1b[49m");const x=c("\x1b[45m","\x1b[49m");const D=c("\x1b[46m","\x1b[49m");const k=c("\x1b[47m","\x1b[49m")},75535:(e,t,n)=>{"use strict";n.d(t,{H9:()=>ml,x7:()=>yy,aU:()=>m_});var r=n(15048);var i=n(89495);var s=n(13634);var o=n(28354);var a=n(52122);var c=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var u={};var l;var d;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype;e.F=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1;this.blockSize=64;this.g=Array(4);this.C=Array(this.blockSize);this.o=this.h=0;this.u()}t(r,n);r.prototype.u=function(){this.g[0]=0x67452301;this.g[1]=0xefcdab89;this.g[2]=0x98badcfe;this.g[3]=0x10325476;this.o=this.h=0};function i(e,t,n){n||(n=0);const r=Array(16);if(typeof t==="string")for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0];n=e.g[1];i=e.g[2];let s=e.g[3],o;o=t+(s^n&(i^s))+r[0]+0xd76aa478&0xffffffff;t=n+(o<<7&0xffffffff|o>>>25);o=s+(i^t&(n^i))+r[1]+0xe8c7b756&0xffffffff;s=t+(o<<12&0xffffffff|o>>>20);o=i+(n^s&(t^n))+r[2]+0x242070db&0xffffffff;i=s+(o<<17&0xffffffff|o>>>15);o=n+(t^i&(s^t))+r[3]+0xc1bdceee&0xffffffff;n=i+(o<<22&0xffffffff|o>>>10);o=t+(s^n&(i^s))+r[4]+0xf57c0faf&0xffffffff;t=n+(o<<7&0xffffffff|o>>>25);o=s+(i^t&(n^i))+r[5]+0x4787c62a&0xffffffff;s=t+(o<<12&0xffffffff|o>>>20);o=i+(n^s&(t^n))+r[6]+0xa8304613&0xffffffff;i=s+(o<<17&0xffffffff|o>>>15);o=n+(t^i&(s^t))+r[7]+0xfd469501&0xffffffff;n=i+(o<<22&0xffffffff|o>>>10);o=t+(s^n&(i^s))+r[8]+0x698098d8&0xffffffff;t=n+(o<<7&0xffffffff|o>>>25);o=s+(i^t&(n^i))+r[9]+0x8b44f7af&0xffffffff;s=t+(o<<12&0xffffffff|o>>>20);o=i+(n^s&(t^n))+r[10]+0xffff5bb1&0xffffffff;i=s+(o<<17&0xffffffff|o>>>15);o=n+(t^i&(s^t))+r[11]+0x895cd7be&0xffffffff;n=i+(o<<22&0xffffffff|o>>>10);o=t+(s^n&(i^s))+r[12]+0x6b901122&0xffffffff;t=n+(o<<7&0xffffffff|o>>>25);o=s+(i^t&(n^i))+r[13]+0xfd987193&0xffffffff;s=t+(o<<12&0xffffffff|o>>>20);o=i+(n^s&(t^n))+r[14]+0xa679438e&0xffffffff;i=s+(o<<17&0xffffffff|o>>>15);o=n+(t^i&(s^t))+r[15]+0x49b40821&0xffffffff;n=i+(o<<22&0xffffffff|o>>>10);o=t+(i^s&(n^i))+r[1]+0xf61e2562&0xffffffff;t=n+(o<<5&0xffffffff|o>>>27);o=s+(n^i&(t^n))+r[6]+0xc040b340&0xffffffff;s=t+(o<<9&0xffffffff|o>>>23);o=i+(t^n&(s^t))+r[11]+0x265e5a51&0xffffffff;i=s+(o<<14&0xffffffff|o>>>18);o=n+(s^t&(i^s))+r[0]+0xe9b6c7aa&0xffffffff;n=i+(o<<20&0xffffffff|o>>>12);o=t+(i^s&(n^i))+r[5]+0xd62f105d&0xffffffff;t=n+(o<<5&0xffffffff|o>>>27);o=s+(n^i&(t^n))+r[10]+0x2441453&0xffffffff;s=t+(o<<9&0xffffffff|o>>>23);o=i+(t^n&(s^t))+r[15]+0xd8a1e681&0xffffffff;i=s+(o<<14&0xffffffff|o>>>18);o=n+(s^t&(i^s))+r[4]+0xe7d3fbc8&0xffffffff;n=i+(o<<20&0xffffffff|o>>>12);o=t+(i^s&(n^i))+r[9]+0x21e1cde6&0xffffffff;t=n+(o<<5&0xffffffff|o>>>27);o=s+(n^i&(t^n))+r[14]+0xc33707d6&0xffffffff;s=t+(o<<9&0xffffffff|o>>>23);o=i+(t^n&(s^t))+r[3]+0xf4d50d87&0xffffffff;i=s+(o<<14&0xffffffff|o>>>18);o=n+(s^t&(i^s))+r[8]+0x455a14ed&0xffffffff;n=i+(o<<20&0xffffffff|o>>>12);o=t+(i^s&(n^i))+r[13]+0xa9e3e905&0xffffffff;t=n+(o<<5&0xffffffff|o>>>27);o=s+(n^i&(t^n))+r[2]+0xfcefa3f8&0xffffffff;s=t+(o<<9&0xffffffff|o>>>23);o=i+(t^n&(s^t))+r[7]+0x676f02d9&0xffffffff;i=s+(o<<14&0xffffffff|o>>>18);o=n+(s^t&(i^s))+r[12]+0x8d2a4c8a&0xffffffff;n=i+(o<<20&0xffffffff|o>>>12);o=t+(n^i^s)+r[5]+0xfffa3942&0xffffffff;t=n+(o<<4&0xffffffff|o>>>28);o=s+(t^n^i)+r[8]+0x8771f681&0xffffffff;s=t+(o<<11&0xffffffff|o>>>21);o=i+(s^t^n)+r[11]+0x6d9d6122&0xffffffff;i=s+(o<<16&0xffffffff|o>>>16);o=n+(i^s^t)+r[14]+0xfde5380c&0xffffffff;n=i+(o<<23&0xffffffff|o>>>9);o=t+(n^i^s)+r[1]+0xa4beea44&0xffffffff;t=n+(o<<4&0xffffffff|o>>>28);o=s+(t^n^i)+r[4]+0x4bdecfa9&0xffffffff;s=t+(o<<11&0xffffffff|o>>>21);o=i+(s^t^n)+r[7]+0xf6bb4b60&0xffffffff;i=s+(o<<16&0xffffffff|o>>>16);o=n+(i^s^t)+r[10]+0xbebfbc70&0xffffffff;n=i+(o<<23&0xffffffff|o>>>9);o=t+(n^i^s)+r[13]+0x289b7ec6&0xffffffff;t=n+(o<<4&0xffffffff|o>>>28);o=s+(t^n^i)+r[0]+0xeaa127fa&0xffffffff;s=t+(o<<11&0xffffffff|o>>>21);o=i+(s^t^n)+r[3]+0xd4ef3085&0xffffffff;i=s+(o<<16&0xffffffff|o>>>16);o=n+(i^s^t)+r[6]+0x4881d05&0xffffffff;n=i+(o<<23&0xffffffff|o>>>9);o=t+(n^i^s)+r[9]+0xd9d4d039&0xffffffff;t=n+(o<<4&0xffffffff|o>>>28);o=s+(t^n^i)+r[12]+0xe6db99e5&0xffffffff;s=t+(o<<11&0xffffffff|o>>>21);o=i+(s^t^n)+r[15]+0x1fa27cf8&0xffffffff;i=s+(o<<16&0xffffffff|o>>>16);o=n+(i^s^t)+r[2]+0xc4ac5665&0xffffffff;n=i+(o<<23&0xffffffff|o>>>9);o=t+(i^(n|~s))+r[0]+0xf4292244&0xffffffff;t=n+(o<<6&0xffffffff|o>>>26);o=s+(n^(t|~i))+r[7]+0x432aff97&0xffffffff;s=t+(o<<10&0xffffffff|o>>>22);o=i+(t^(s|~n))+r[14]+0xab9423a7&0xffffffff;i=s+(o<<15&0xffffffff|o>>>17);o=n+(s^(i|~t))+r[5]+0xfc93a039&0xffffffff;n=i+(o<<21&0xffffffff|o>>>11);o=t+(i^(n|~s))+r[12]+0x655b59c3&0xffffffff;t=n+(o<<6&0xffffffff|o>>>26);o=s+(n^(t|~i))+r[3]+0x8f0ccc92&0xffffffff;s=t+(o<<10&0xffffffff|o>>>22);o=i+(t^(s|~n))+r[10]+0xffeff47d&0xffffffff;i=s+(o<<15&0xffffffff|o>>>17);o=n+(s^(i|~t))+r[1]+0x85845dd1&0xffffffff;n=i+(o<<21&0xffffffff|o>>>11);o=t+(i^(n|~s))+r[8]+0x6fa87e4f&0xffffffff;t=n+(o<<6&0xffffffff|o>>>26);o=s+(n^(t|~i))+r[15]+0xfe2ce6e0&0xffffffff;s=t+(o<<10&0xffffffff|o>>>22);o=i+(t^(s|~n))+r[6]+0xa3014314&0xffffffff;i=s+(o<<15&0xffffffff|o>>>17);o=n+(s^(i|~t))+r[13]+0x4e0811a1&0xffffffff;n=i+(o<<21&0xffffffff|o>>>11);o=t+(i^(n|~s))+r[4]+0xf7537e82&0xffffffff;t=n+(o<<6&0xffffffff|o>>>26);o=s+(n^(t|~i))+r[11]+0xbd3af235&0xffffffff;s=t+(o<<10&0xffffffff|o>>>22);o=i+(t^(s|~n))+r[2]+0x2ad7d2bb&0xffffffff;i=s+(o<<15&0xffffffff|o>>>17);o=n+(s^(i|~t))+r[9]+0xeb86d391&0xffffffff;e.g[0]=e.g[0]+t&0xffffffff;e.g[1]=e.g[1]+(i+(o<<21&0xffffffff|o>>>11))&0xffffffff;e.g[2]=e.g[2]+i&0xffffffff;e.g[3]=e.g[3]+s&0xffffffff}r.prototype.v=function(e,t){t===void 0&&(t=e.length);const n=t-this.blockSize,r=this.C;let s=this.h,o=0;for(;o<t;){if(s==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==="string")for(;o<t;){if(r[s++]=e.charCodeAt(o++),s==this.blockSize){i(this,r);s=0;break}}else for(;o<t;)if(r[s++]=e[o++],s==this.blockSize){i(this,r);s=0;break}}this.h=s;this.o+=t};r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;this.v(e);e=Array(16);t=0;for(n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function s(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var a={};function c(e){return-128<=e&&e<128?s(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function f(e){if(isNaN(e)||!isFinite(e))return p;if(e<0)return b(f(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=0x100000000;return new o(t,0)}function h(e,t){if(e.length==0)throw Error("number format error: empty string");t=t||10;if(t<2||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return b(h(e.substring(1),t));if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character');const n=f(Math.pow(t,8));let r=p;for(let s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s);const o=parseInt(e.substring(s,s+i),t);i<8?(i=f(Math.pow(t,i)),r=r.j(i).add(f(o))):(r=r.j(n),r=r.add(f(o)))}return r}var p=c(0),m=c(1),g=c(0x1000000);e=o.prototype;e.m=function(){if(v(this))return-b(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:0x100000000+r)*t;t*=0x100000000}return e};e.toString=function(e){e=e||10;if(e<2||36<e)throw Error("radix out of range: "+e);if(y(this))return"0";if(v(this))return"-"+b(this).toString(e);const t=f(Math.pow(e,6));var n=this;let r="";for(;;){const i=S(n,t).g;n=_(n,i.j(t));let s=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);n=i;if(y(n))return s+r;for(;s.length<6;)s="0"+s;r=s+r}};e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function y(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function v(e){return e.h==-1}e.l=function(e){e=_(this,e);return v(e)?-1:y(e)?0:1};function b(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(m)}e.abs=function(){return v(this)?b(this):this};e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),s=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16;t&=65535;s&=65535;n[i]=s<<16|t}return new o(n,n[n.length-1]&-0x80000000?-1:0)};function _(e,t){return e.add(b(t))}e.j=function(e){if(y(this)||y(e))return p;if(v(this))return v(e)?b(this).j(b(e)):b(b(this).j(e));if(v(e))return b(this.j(b(e)));if(this.l(g)<0&&e.l(g)<0)return f(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const i=this.i(r)>>>16,s=this.i(r)&65535,o=e.i(t)>>>16,a=e.i(t)&65535;n[2*r+2*t]+=s*a;E(n,2*r+2*t);n[2*r+2*t+1]+=i*a;E(n,2*r+2*t+1);n[2*r+2*t+1]+=s*o;E(n,2*r+2*t+1);n[2*r+2*t+2]+=i*o;E(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function E(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function w(e,t){this.g=e;this.h=t}function S(e,t){if(y(t))throw Error("division by zero");if(y(e))return new w(p,p);if(v(e))return t=S(b(e),t),new w(b(t.g),b(t.h));if(v(t))return t=S(e,b(t)),new w(b(t.g),t.h);if(e.g.length>30){if(v(e)||v(t))throw Error("slowDivide_ only works with positive integers.");for(var n=m,r=t;r.l(e)<=0;)n=T(n),r=T(r);var i=C(n,1),s=C(r,1);r=C(r,2);for(n=C(n,2);!y(r);){var o=s.add(r);o.l(e)<=0&&(i=i.add(n),s=o);r=C(r,1);n=C(n,1)}t=_(e,i.j(t));return new w(i,t)}for(i=p;e.l(t)>=0;){n=Math.max(1,Math.floor(e.m()/t.m()));r=Math.ceil(Math.log(n)/Math.LN2);r=r<=48?1:Math.pow(2,r-48);s=f(n);for(o=s.j(t);v(o)||o.l(e)>0;)n-=r,s=f(n),o=s.j(t);y(s)&&(s=m);i=i.add(s);e=_(e,o)}return new w(i,e)}e.B=function(e){return S(this,e).h};e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)};e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)};e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function T(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function C(e,t){const n=t>>5;t%=32;const r=e.g.length-n,i=[];for(let s=0;s<r;s++)i[s]=t>0?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A;r.prototype.reset=r.prototype.u;r.prototype.update=r.prototype.v;d=u.Md5=r;o.prototype.add=o.prototype.add;o.prototype.multiply=o.prototype.j;o.prototype.modulo=o.prototype.B;o.prototype.compare=o.prototype.l;o.prototype.toNumber=o.prototype.m;o.prototype.toString=o.prototype.toString;o.prototype.getBits=o.prototype.i;o.fromNumber=f;o.fromString=h;l=u.Integer=o}).apply(typeof c!=="undefined"?c:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var f=n(55511);var h=n(30959);var p=n(97587);const m="@firebase/firestore";const g="4.9.2";class y{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){if(this.isAuthenticated()){return"uid:"+this.uid}else{return"anonymous-user"}}isEqual(e){return e.uid===this.uid}}y.UNAUTHENTICATED=new y(null);y.GOOGLE_CREDENTIALS=new y("google-credentials-uid");y.FIRST_PARTY=new y("first-party-uid");y.MOCK_USER=new y("mock-user");const v="12.3.0";let b=v;function _(e){b=e}function E(e){return(0,o.inspect)(e,{depth:100})}const w=new s.Vy("@firebase/firestore");function S(){return w.logLevel}function T(e){w.setLogLevel(e)}function C(e,...t){if(w.logLevel<=s.$b.DEBUG){const n=t.map(O);w.debug(`Firestore (${b}): ${e}`,...n)}}function R(e,...t){if(w.logLevel<=s.$b.ERROR){const n=t.map(O);w.error(`Firestore (${b}): ${e}`,...n)}}function I(e,...t){if(w.logLevel<=s.$b.WARN){const n=t.map(O);w.warn(`Firestore (${b}): ${e}`,...n)}}function O(e){if(typeof e==="string"){return e}else{try{return E(e)}catch(t){return e}}}function A(e,t,n){let r="Unexpected state";if(typeof t==="string"){r=t}else{n=t}P(e,r,n)}function P(e,t,n){let r=`FIRESTORE (${b}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==undefined){try{const e=JSON.stringify(n);r+=" CONTEXT: "+e}catch(e){r+=" CONTEXT: "+n}}R(r);throw new Error(r)}function N(e,t,n,r){let i="Unexpected state";if(typeof n==="string"){i=n}else{r=n}if(!e){P(t,i,r)}}function x(e,t){if(!e){A(57014,t)}}function D(e,t){return e}const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends a.g{constructor(e,t){super(e,t);this.code=e;this.message=t;this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class L{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e;this.reject=t})}}class j{constructor(e,t){this.user=t;this.type="OAuth";this.headers=new Map;this.headers.set("Authorization",`Bearer ${e}`)}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(y.UNAUTHENTICATED))}shutdown(){}}class B{constructor(e){this.token=e;this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t;e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.authProvider=e;this.currentUser=y.UNAUTHENTICATED;this.tokenCounter=0;this.forceRefresh=false;this.auth=null}start(e,t){N(this.tokenListener===undefined,42304);let n=this.tokenCounter;const r=e=>{if(this.tokenCounter!==n){n=this.tokenCounter;return t(e)}else{return Promise.resolve()}};let i=new L;this.tokenListener=()=>{this.tokenCounter++;this.currentUser=this.getUser();i.resolve();i=new L;e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise;await r(this.currentUser)})};const o=e=>{C("FirebaseAuthCredentialsProvider","Auth detected");this.auth=e;if(this.tokenListener){this.auth.addAuthTokenListener(this.tokenListener);s()}};this.authProvider.onInit(e=>o(e));setTimeout(()=>{if(!this.auth){const e=this.authProvider.getImmediate({optional:true});if(e){o(e)}else{C("FirebaseAuthCredentialsProvider","Auth not yet detected");i.resolve();i=new L}}},0);s()}getToken(){const e=this.tokenCounter;const t=this.forceRefresh;this.forceRefresh=false;if(!this.auth){return Promise.resolve(null)}return this.auth.getToken(t).then(t=>{if(this.tokenCounter!==e){C("FirebaseAuthCredentialsProvider","getToken aborted due to token change.");return this.getToken()}else{if(t){N(typeof t.accessToken==="string",31837,{tokenData:t});return new j(t.accessToken,this.currentUser)}else{return null}}})}invalidateToken(){this.forceRefresh=true}shutdown(){if(this.auth&&this.tokenListener){this.auth.removeAuthTokenListener(this.tokenListener)}this.tokenListener=undefined}getUser(){const e=this.auth&&this.auth.getUid();N(e===null||typeof e==="string",2055,{currentUid:e});return new y(e)}}class V{constructor(e,t,n){this.sessionIndex=e;this.iamToken=t;this.authTokenFactory=n;this.type="FirstParty";this.user=y.FIRST_PARTY;this._headers=new Map}getAuthToken(){if(this.authTokenFactory){return this.authTokenFactory()}else{return null}}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);const e=this.getAuthToken();if(e){this._headers.set("Authorization",e)}if(this.iamToken){this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken)}return this._headers}}class z{constructor(e,t,n){this.sessionIndex=e;this.iamToken=t;this.authTokenFactory=n}getToken(){return Promise.resolve(new V(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(y.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q{constructor(e){this.value=e;this.type="AppCheck";this.headers=new Map;if(e&&e.length>0){this.headers.set("x-firebase-appcheck",this.value)}}}class G{constructor(e,t){this.appCheckProvider=t;this.forceRefresh=false;this.appCheck=null;this.latestAppCheckToken=null;this.serverAppAppCheckToken=null;if((0,r.xZ)(e)&&e.settings.appCheckToken){this.serverAppAppCheckToken=e.settings.appCheckToken}}start(e,t){N(this.tokenListener===undefined,3512);const n=e=>{if(e.error!=null){C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`)}const n=e.token!==this.latestAppCheckToken;this.latestAppCheckToken=e.token;C("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`);return n?t(e.token):Promise.resolve()};this.tokenListener=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{C("FirebaseAppCheckTokenProvider","AppCheck detected");this.appCheck=e;if(this.tokenListener){this.appCheck.addTokenListener(this.tokenListener)}};this.appCheckProvider.onInit(e=>r(e));setTimeout(()=>{if(!this.appCheck){const e=this.appCheckProvider.getImmediate({optional:true});if(e){r(e)}else{C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}},0)}getToken(){if(this.serverAppAppCheckToken){return Promise.resolve(new q(this.serverAppAppCheckToken))}const e=this.forceRefresh;this.forceRefresh=false;if(!this.appCheck){return Promise.resolve(null)}return this.appCheck.getToken(e).then(e=>{if(e){N(typeof e.token==="string",44558,{tokenResult:e});this.latestAppCheckToken=e.token;return new q(e.token)}else{return null}})}invalidateToken(){this.forceRefresh=true}shutdown(){if(this.appCheck&&this.tokenListener){this.appCheck.removeTokenListener(this.tokenListener)}this.tokenListener=undefined}}class ${getToken(){return Promise.resolve(new q(""))}invalidateToken(){}start(e,t){}shutdown(){}}function H(e){if(!e){return new F}switch(e["type"]){case"firstParty":return new z(e["sessionIndex"]||"0",e["iamToken"]||null,e["authTokenFactory"]||null);case"provider":return e["client"];default:throw new M(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function W(e){return(0,f.randomBytes)(e)}class K{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const t=Math.floor(256/e.length)*e.length;let n="";const r=20;while(n.length<r){const i=W(40);for(let s=0;s<i.length;++s){if(n.length<r&&i[s]<t){n+=e.charAt(i[s]%e.length)}}}return n}}function Q(e,t){if(e<t){return-1}if(e>t){return 1}return 0}function Y(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r);const i=t.charAt(r);if(n!==i){return Z(n)===Z(i)?Q(n,i):Z(n)?1:-1}}return Q(e.length,t.length)}const X=55296;const J=57343;function Z(e){const t=e.charCodeAt(0);return t>=X&&t<=J}function ee(e,t,n){if(e.length!==t.length){return false}return e.every((e,r)=>n(e,t[r]))}function et(e){return e+"\0"}const en="__name__";class er{constructor(e,t,n){if(t===undefined){t=0}else if(t>e.length){A(637,{offset:t,range:e.length})}if(n===undefined){n=e.length-t}else if(n>e.length-t){A(1746,{length:n,range:e.length-t})}this.segments=e;this.offset=t;this.len=n}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());if(e instanceof er){e.forEach(e=>{t.push(e)})}else{t.push(e)}return this.construct(t)}limit(){return this.offset+this.length}popFirst(e){e=e===undefined?1:e;return this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length){return false}for(let t=0;t<this.length;t++){if(this.get(t)!==e.get(t)){return false}}return true}isImmediateParentOf(e){if(this.length+1!==e.length){return false}for(let t=0;t<this.length;t++){if(this.get(t)!==e.get(t)){return false}}return true}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++){e(this.segments[t])}}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=er.compareSegments(e.get(r),t.get(r));if(n!==0){return n}}return Q(e.length,t.length)}static compareSegments(e,t){const n=er.isNumericId(e);const r=er.isNumericId(t);if(n&&!r){return-1}else if(!n&&r){return 1}else if(n&&r){return er.extractNumericId(e).compare(er.extractNumericId(t))}else{return Y(e,t)}}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return l.fromString(e.substring(4,e.length-2))}}class ei extends er{construct(e,t,n){return new ei(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0){throw new M(k.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`)}t.push(...n.split("/").filter(e=>e.length>0))}return new ei(t)}static emptyPath(){return new ei([])}}const es=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eo extends er{construct(e,t,n){return new eo(e,t,n)}static isValidIdentifier(e){return es.test(e)}canonicalString(){return this.toArray().map(e=>{e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`");if(!eo.isValidIdentifier(e)){e="`"+e+"`"}return e}).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===en}static keyField(){return new eo([en])}static fromServerFormat(e){const t=[];let n="";let r=0;const i=()=>{if(n.length===0){throw new M(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin `+`with '.', end with '.', or contain '..'`)}t.push(n);n=""};let s=false;while(r<e.length){const t=e[r];if(t==="\\"){if(r+1===e.length){throw new M(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e)}const t=e[r+1];if(!(t==="\\"||t==="."||t==="`")){throw new M(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e)}n+=t;r+=2}else if(t==="`"){s=!s;r++}else if(t==="."&&!s){i();r++}else{n+=t;r++}}i();if(s){throw new M(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e)}return new eo(t)}static emptyPath(){return new eo([])}}class ea{constructor(e){this.path=e}static fromPath(e){return new ea(ei.fromString(e))}static fromName(e){return new ea(ei.fromString(e).popFirst(5))}static empty(){return new ea(ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ei.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ei.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new ea(new ei(e.slice()))}}function ec(e,t,n){if(!n){throw new M(k.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}}function eu(e,t,n,r){if(t===true&&r===true){throw new M(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}}function el(e){if(!ea.isDocumentKey(e)){throw new M(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}}function ed(e){if(ea.isDocumentKey(e)){throw new M(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}}function ef(e){return typeof e==="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function eh(e){if(e===undefined){return"undefined"}else if(e===null){return"null"}else if(typeof e==="string"){if(e.length>20){e=`${e.substring(0,20)}...`}return JSON.stringify(e)}else if(typeof e==="number"||typeof e==="boolean"){return""+e}else if(typeof e==="object"){if(e instanceof Array){return"an array"}else{const t=ep(e);if(t){return`a custom ${t} object`}else{return"an object"}}}else if(typeof e==="function"){return"a function"}else{return A(12329,{type:typeof e})}}function ep(e){if(e.constructor){return e.constructor.name}return null}function em(e,t){if("_delegate"in e){e=e._delegate}if(!(e instanceof t)){if(t.name===e.constructor.name){throw new M(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a "+`reference from a different Firestore SDK?`)}else{const n=eh(e);throw new M(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function eg(e,t){if(t<=0){throw new M(k.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}}function ey(e,t){const n={typeString:e};if(t){n.value=t}return n}function ev(e,t){if(!ef(e)){throw new M(k.INVALID_ARGUMENT,"JSON must be an object")}let n=undefined;for(const r in t){if(t[r]){const i=t[r].typeString;const s="value"in t[r]?{value:t[r].value}:undefined;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}else if(s!==undefined&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}}if(n){throw new M(k.INVALID_ARGUMENT,n)}return true}const eb=-0xe7791f700;const e_=1e6;class eE{static now(){return eE.fromMillis(Date.now())}static fromDate(e){return eE.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3);const n=Math.floor((e-t*1e3)*e_);return new eE(t,n)}constructor(e,t){this.seconds=e;this.nanoseconds=t;if(t<0){throw new M(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t)}if(t>=1e9){throw new M(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t)}if(e<eb){throw new M(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}if(e>=0x3afff44180){throw new M(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/e_}_compareTo(e){if(this.seconds===e.seconds){return Q(this.nanoseconds,e.nanoseconds)}return Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:eE._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ev(e,eE._jsonSchema)){return new eE(e.seconds,e.nanoseconds)}}valueOf(){const e=this.seconds-eb;const t=String(e).padStart(12,"0");const n=String(this.nanoseconds).padStart(9,"0");return t+"."+n}}eE._jsonSchemaVersion="firestore/timestamp/1.0";eE._jsonSchema={type:ey("string",eE._jsonSchemaVersion),seconds:ey("number"),nanoseconds:ey("number")};class ew{static fromTimestamp(e){return new ew(e)}static min(){return new ew(new eE(0,0))}static max(){return new ew(new eE(0x3afff4417f,1e9-1))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eS=-1;const eT=0;class eC{constructor(e,t,n,r){this.indexId=e;this.collectionGroup=t;this.fields=n;this.indexState=r}}eC.UNKNOWN_ID=-1;function eR(e){return e.fields.find(e=>e.kind===2)}function eI(e){return e.fields.filter(e=>e.kind!==2)}function eO(e){const t=eI(e);return t.length===0?0:t[t.length-1].kind}function eA(e,t){let n=Q(e.collectionGroup,t.collectionGroup);if(n!==0){return n}for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r){n=ex(e.fields[r],t.fields[r]);if(n!==0){return n}}return Q(e.fields.length,t.fields.length)}function eP(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}class eN{constructor(e,t){this.fieldPath=e;this.kind=t}}function ex(e,t){const n=eo.comparator(e.fieldPath,t.fieldPath);if(n!==0){return n}return Q(e.kind,t.kind)}class eD{constructor(e,t){this.sequenceNumber=e;this.offset=t}static empty(){return new eD(eT,eL.min())}}function ek(e,t){const n=e.toTimestamp().seconds;const r=e.toTimestamp().nanoseconds+1;const i=ew.fromTimestamp(r===1e9?new eE(n+1,0):new eE(n,r));return new eL(i,ea.empty(),t)}function eM(e){return new eL(e.readTime,e.key,eS)}class eL{constructor(e,t,n){this.readTime=e;this.documentKey=t;this.largestBatchId=n}static min(){return new eL(ew.min(),ea.empty(),eS)}static max(){return new eL(ew.max(),ea.empty(),eS)}}function ej(e,t){let n=e.readTime.compareTo(t.readTime);if(n!==0){return n}n=ea.comparator(e.documentKey,t.documentKey);if(n!==0){return n}return Q(e.largestBatchId,t.largestBatchId)}const eF="The current tab is not in the required state to perform this operation. "+"It might be necessary to refresh the browser tab.";class eB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function eU(e){if(e.code===k.FAILED_PRECONDITION&&e.message===eF){C("LocalStore","Unexpectedly lost primary lease")}else{throw e}}class eV{constructor(e){this.nextCallback=null;this.catchCallback=null;this.result=undefined;this.error=undefined;this.isDone=false;this.callbackAttached=false;e(e=>{this.isDone=true;this.result=e;if(this.nextCallback){this.nextCallback(e)}},e=>{this.isDone=true;this.error=e;if(this.catchCallback){this.catchCallback(e)}})}catch(e){return this.next(undefined,e)}next(e,t){if(this.callbackAttached){A(59440)}this.callbackAttached=true;if(this.isDone){if(!this.error){return this.wrapSuccess(e,this.result)}else{return this.wrapFailure(t,this.error)}}else{return new eV((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)};this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();if(t instanceof eV){return t}else{return eV.resolve(t)}}catch(e){return eV.reject(e)}}wrapSuccess(e,t){if(e){return this.wrapUserFunction(()=>e(t))}else{return eV.resolve(t)}}wrapFailure(e,t){if(e){return this.wrapUserFunction(()=>e(t))}else{return eV.reject(t)}}static resolve(e){return new eV((t,n)=>{t(e)})}static reject(e){return new eV((t,n)=>{n(e)})}static waitFor(e){return new eV((t,n)=>{let r=0;let i=0;let s=false;e.forEach(e=>{++r;e.next(()=>{++i;if(s&&i===r){t()}},e=>n(e))});s=true;if(i===r){t()}})}static or(e){let t=eV.resolve(false);for(const n of e){t=t.next(e=>{if(e){return eV.resolve(e)}else{return n()}})}return t}static forEach(e,t){const n=[];e.forEach((e,r)=>{n.push(t.call(this,e,r))});return this.waitFor(n)}static mapArray(e,t){return new eV((n,r)=>{const i=e.length;const s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next(e=>{s[c]=e;++o;if(o===i){n(s)}},e=>r(e))}})}static doWhile(e,t){return new eV((n,r)=>{const i=()=>{if(e()===true){t().next(()=>{i()},r)}else{n()}};i()})}}const ez="SimpleDb";const eq=3;class eG{static open(e,t,n,r){try{return new eG(t,e.transaction(r,n))}catch(e){throw new eK(t,e)}}constructor(e,t){this.action=e;this.transaction=t;this.aborted=false;this.completionDeferred=new L;this.transaction.oncomplete=()=>{this.completionDeferred.resolve()};this.transaction.onabort=()=>{if(t.error){this.completionDeferred.reject(new eK(e,t.error))}else{this.completionDeferred.resolve()}};this.transaction.onerror=t=>{const n=eZ(t.target.error);this.completionDeferred.reject(new eK(e,n))}}get completionPromise(){return this.completionDeferred.promise}abort(e){if(e){this.completionDeferred.reject(e)}if(!this.aborted){C(ez,"Aborting transaction:",e?e.message:"Client-initiated abort");this.aborted=true;this.transaction.abort()}}maybeCommit(){const e=this.transaction;if(!this.aborted&&typeof e.commit==="function"){e.commit()}}store(e){const t=this.transaction.objectStore(e);return new eY(t)}}class e${static delete(e){C(ez,"Removing database:",e);const t=(0,a.mS)();return eX(t.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!(0,a.zW)()){return false}if(e$.isMockPersistence()){return true}const e=(0,a.ZQ)();const t=e$.getIOSVersion(e);const n=0<t&&t<10;const r=eH(e);const i=0<r&&r<4.5;if(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i){return false}else{return true}}static isMockPersistence(){return typeof process!=="undefined"&&process.env?.USE_MOCK_PERSISTENCE==="YES"}static getStore(e,t){return e.store(t)}static getIOSVersion(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);const n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e;this.version=t;this.schemaConverter=n;this.lastClosedDbVersion=null;const r=e$.getIOSVersion((0,a.ZQ)());if(r===12.2){R("Firestore persistence suffers from a bug in iOS 12.2 "+"Safari that may cause your app to stop working. See "+"https://stackoverflow.com/q/56496296/110915 for details "+"and a potential workaround.")}}async ensureDb(e){if(!this.db){C(ez,"Opening database:",this.name);this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)};r.onblocked=()=>{n(new eK(e,"Cannot upgrade IndexedDB schema while another tab is open. "+"Close all tabs that access Firestore and reload this page to proceed."))};r.onerror=t=>{const r=t.target.error;if(r.name==="VersionError"){n(new M(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted "+"data is not compatible with the version of the SDK you are now using. The SDK "+"will operate with persistence disabled. If you need persistence, please "+"re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB "+"data for your app to start fresh."))}else if(r.name==="InvalidStateError"){n(new M(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a "+"private browsing session on a browser whose private browsing sessions do not "+"support IndexedDB: "+r))}else{n(new eK(e,r))}};r.onupgradeneeded=e=>{C(ez,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.schemaConverter.createOrUpgrade(t,r.transaction,e.oldVersion,this.version).next(()=>{C(ez,"Database upgrade to version "+this.version+" complete")})}})}if(this.versionchangelistener){this.db.onversionchange=e=>this.versionchangelistener(e)}return this.db}setVersionChangeListener(e){this.versionchangelistener=e;if(this.db){this.db.onversionchange=t=>{return e(t)}}}async runTransaction(e,t,n,r){const i=t==="readonly";let s=0;while(true){++s;try{this.db=await this.ensureDb(e);const t=eG.open(this.db,e,i?"readonly":"readwrite",n);const s=r(t).next(e=>{t.maybeCommit();return e}).catch(e=>{t.abort(e);return eV.reject(e)}).toPromise();s.catch(()=>{});await t.completionPromise;return s}catch(n){const e=n;const t=e.name!=="FirebaseError"&&s<eq;C(ez,"Transaction failed with error:",e.message,"Retrying:",t);this.close();if(!t){return Promise.reject(e)}}}}close(){if(this.db){this.db.close()}this.db=undefined}}function eH(e){const t=e.match(/Android ([\d.]+)/i);const n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class eW{constructor(e){this.dbCursor=e;this.shouldStop=false;this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=true}skip(e){this.nextKey=e}delete(){return eX(this.dbCursor.delete())}}class eK extends M{constructor(e,t){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`);this.name="IndexedDbTransactionError"}}function eQ(e){return e.name==="IndexedDbTransactionError"}class eY{constructor(e){this.store=e}put(e,t){let n;if(t!==undefined){C(ez,"PUT",this.store.name,e,t);n=this.store.put(t,e)}else{C(ez,"PUT",this.store.name,"<auto-key>",e);n=this.store.put(e)}return eX(n)}add(e){C(ez,"ADD",this.store.name,e,e);const t=this.store.add(e);return eX(t)}get(e){const t=this.store.get(e);return eX(t).next(t=>{if(t===undefined){t=null}C(ez,"GET",this.store.name,e,t);return t})}delete(e){C(ez,"DELETE",this.store.name,e);const t=this.store.delete(e);return eX(t)}count(){C(ez,"COUNT",this.store.name);const e=this.store.count();return eX(e)}loadAll(e,t){const n=this.options(e,t);const r=n.index?this.store.index(n.index):this.store;if(typeof r.getAll==="function"){const e=r.getAll(n.range);return new eV((t,n)=>{e.onerror=e=>{n(e.target.error)};e.onsuccess=e=>{t(e.target.result)}})}else{const e=this.cursor(n);const t=[];return this.iterateCursor(e,(e,n)=>{t.push(n)}).next(()=>{return t})}}loadFirst(e,t){const n=this.store.getAll(e,t===null?undefined:t);return new eV((e,t)=>{n.onerror=e=>{t(e.target.error)};n.onsuccess=t=>{e(t.target.result)}})}deleteAll(e,t){C(ez,"DELETE ALL",this.store.name);const n=this.options(e,t);n.keysOnly=false;const r=this.cursor(n);return this.iterateCursor(r,(e,t,n)=>{return n.delete()})}iterate(e,t){let n;if(!t){n={};t=e}else{n=e}const r=this.cursor(n);return this.iterateCursor(r,t)}iterateSerial(e){const t=this.cursor({});return new eV((n,r)=>{t.onerror=e=>{const t=eZ(e.target.error);r(t)};t.onsuccess=t=>{const r=t.target.result;if(!r){n();return}e(r.primaryKey,r.value).next(e=>{if(e){r.continue()}else{n()}})}})}iterateCursor(e,t){const n=[];return new eV((r,i)=>{e.onerror=e=>{i(e.target.error)};e.onsuccess=e=>{const i=e.target.result;if(!i){r();return}const s=new eW(i);const o=t(i.primaryKey,i.value,s);if(o instanceof eV){const e=o.catch(e=>{s.done();return eV.reject(e)});n.push(e)}if(s.isDone){r()}else if(s.skipToKey===null){i.continue()}else{i.continue(s.skipToKey)}}}).next(()=>eV.waitFor(n))}options(e,t){let n=undefined;if(e!==undefined){if(typeof e==="string"){n=e}else{t=e}}return{index:n,range:t}}cursor(e){let t="next";if(e.reverse){t="prev"}if(e.index){const n=this.store.index(e.index);if(e.keysOnly){return n.openKeyCursor(e.range,t)}else{return n.openCursor(e.range,t)}}else{return this.store.openCursor(e.range,t)}}}function eX(e){return new eV((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)};e.onerror=e=>{const t=eZ(e.target.error);n(t)}})}let eJ=false;function eZ(e){const t=e$.getIOSVersion((0,a.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely `+`due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 `+`for details and a potential workaround.`);if(!eJ){eJ=true;setTimeout(()=>{throw e},0)}return e}}return e}const e0="IndexBackfiller";const e1=15*1e3;const e2=60*1e3;const e3=50;class e6{constructor(e,t){this.asyncQueue=e;this.backfiller=t;this.task=null}start(){this.schedule(e1)}stop(){if(this.task){this.task.cancel();this.task=null}}get started(){return this.task!==null}schedule(e){C(e0,`Scheduled in ${e}ms`);this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.backfiller.backfill();C(e0,`Documents written: ${e}`)}catch(e){if(eQ(e)){C(e0,"Ignoring IndexedDB error during index backfill: ",e)}else{await eU(e)}}await this.schedule(e2)})}}class e4{constructor(e,t){this.localStore=e;this.persistence=t}async backfill(e=e3){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.writeIndexEntries(t,e))}writeIndexEntries(e,t){const n=new Set;let r=t;let i=true;return eV.doWhile(()=>i===true&&r>0,()=>{return this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(t===null||n.has(t)){i=false}else{C(e0,`Processing collection: ${t}`);return this.writeEntriesForCollectionGroup(e,t,r).next(e=>{r-=e;n.add(t)})}})}).next(()=>t-r)}writeEntriesForCollectionGroup(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.getNewOffset(r,n)).next(n=>{C(e0,`Updating offset: ${n}`);return this.localStore.indexManager.updateCollectionGroup(e,t,n)}).next(()=>i.size)}))}getNewOffset(e,t){let n=e;t.changes.forEach((e,t)=>{const r=eM(t);if(ej(r,n)>0){n=r}});return new eL(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class e8{constructor(e,t){this.previousValue=e;if(t){t.sequenceNumberHandler=e=>this.setPreviousValue(e);this.writeNewSequenceNumber=e=>t.writeSequenceNumber(e)}}setPreviousValue(e){this.previousValue=Math.max(e,this.previousValue);return this.previousValue}next(){const e=++this.previousValue;if(this.writeNewSequenceNumber){this.writeNewSequenceNumber(e)}return e}}e8.INVALID=-1;const e5="\x01";const e7="\x01";const e9="\x10";const te="\x11";function tt(e){let t="";for(let n=0;n<e.length;n++){if(t.length>0){t=tr(t)}t=tn(e.get(n),t)}return tr(t)}function tn(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+=e5+e9;break;case e5:n+=e5+te;break;default:n+=r}}return n}function tr(e){return e+e5+e7}function ti(e){const t=e.length;N(t>=2,64408,{path:e});if(t===2){N(e.charAt(0)===e5&&e.charAt(1)===e7,56145,{path:e});return ei.emptyPath()}const n=t-2;const r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(e5,s);if(t<0||t>n){A(50515,{path:e})}const o=e.charAt(t+1);switch(o){case e7:const a=e.substring(s,t);let c;if(i.length===0){c=a}else{i+=a;c=i;i=""}r.push(c);break;case e9:i+=e.substring(s,t);i+="\0";break;case te:i+=e.substring(s,t+1);break;default:A(61167,{path:e})}s=t+2}return new ei(r)}const ts="remoteDocuments";const to="owner";const ta="owner";const tc="mutationQueues";const tu="userId";const tl="mutations";const td="batchId";const tf="userMutationsIndex";const th=["userId","batchId"];function tp(e){return[e]}function tm(e,t){return[e,tt(t)]}function tg(e,t,n){return[e,tt(t),n]}const ty={};const tv="documentMutations";const tb="remoteDocumentsV14";const t_=["prefixPath","collectionGroup","readTime","documentId"];const tE="documentKeyIndex";const tw=["prefixPath","collectionGroup","documentId"];const tS="collectionGroupIndex";const tT=["collectionGroup","readTime","prefixPath","documentId"];const tC="remoteDocumentGlobal";const tR="remoteDocumentGlobalKey";const tI="targets";const tO="targetId";const tA="queryTargetsIndex";const tP=["canonicalId","targetId"];const tN="targetDocuments";const tx=["targetId","path"];const tD="documentTargetsIndex";const tk=["path","targetId"];const tM="targetGlobalKey";const tL="targetGlobal";const tj="collectionParents";const tF=["collectionId","parent"];const tB="clientMetadata";const tU="clientId";const tV="bundles";const tz="bundleId";const tq="namedQueries";const tG="name";const t$="indexConfiguration";const tH="indexId";const tW="collectionGroupIndex";const tK="collectionGroup";const tQ="indexState";const tY=["indexId","uid"];const tX="sequenceNumberIndex";const tJ=["uid","sequenceNumber"];const tZ="indexEntries";const t0=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"];const t1="documentKeyIndex";const t2=["indexId","uid","orderedDocumentKey"];const t3="documentOverlays";const t6=["userId","collectionPath","documentId"];const t4="collectionPathOverlayIndex";const t8=["userId","collectionPath","largestBatchId"];const t5="collectionGroupOverlayIndex";const t7=["userId","collectionGroup","largestBatchId"];const t9="globals";const ne="name";const nt=[tc,tl,tv,ts,tI,to,tL,tN];const nn=nt;const nr=[...nn,tB];const ni=[...nr,tC];const ns=[...ni,tj];const no=[...ns,tV,tq];const na=[...no,t3];const nc=[tc,tl,tv,tb,tI,to,tL,tN,tB,tC,tj,tV,tq,t3];const nu=nc;const nl=[...nu,t$,tQ,tZ];const nd=nl;const nf=[...nl,t9];const nh=nf;function np(e){if(e===18){return nh}else if(e===17){return nf}else if(e===16){return nd}else if(e===15){return nl}else if(e===14){return nu}else if(e===13){return nc}else if(e===12){return na}else if(e===11){return no}else{A(60245)}}class nm extends eB{constructor(e,t){super();this.simpleDbTransaction=e;this.currentSequenceNumber=t}}function ng(e,t){const n=D(e);return e$.getStore(n.simpleDbTransaction,t)}function ny(e){let t=0;for(const n in e){if(Object.prototype.hasOwnProperty.call(e,n)){t++}}return t}function nv(e,t){for(const n in e){if(Object.prototype.hasOwnProperty.call(e,n)){t(n,e[n])}}}function nb(e,t){const n=[];for(const r in e){if(Object.prototype.hasOwnProperty.call(e,r)){n.push(t(e[r],r,e))}}return n}function n_(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}class nE{constructor(e,t){this.comparator=e;this.root=t?t:nS.EMPTY}insert(e,t){return new nE(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nS.BLACK,null,null))}remove(e){return new nE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nS.BLACK,null,null))}get(e){let t=this.root;while(!t.isEmpty()){const n=this.comparator(e,t.key);if(n===0){return t.value}else if(n<0){t=t.left}else if(n>0){t=t.right}}return null}indexOf(e){let t=0;let n=this.root;while(!n.isEmpty()){const r=this.comparator(e,n.key);if(r===0){return t+n.left.size}else if(r<0){n=n.left}else{t+=n.left.size+1;n=n.right}}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>{e(t,n);return false})}toString(){const e=[];this.inorderTraversal((t,n)=>{e.push(`${t}:${n}`);return false});return`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nw(this.root,null,this.comparator,false)}getIteratorFrom(e){return new nw(this.root,e,this.comparator,false)}getReverseIterator(){return new nw(this.root,null,this.comparator,true)}getReverseIteratorFrom(e){return new nw(this.root,e,this.comparator,true)}}class nw{constructor(e,t,n,r){this.isReverse=r;this.nodeStack=[];let i=1;while(!e.isEmpty()){i=t?n(e.key,t):1;if(t&&r){i*=-1}if(i<0){if(this.isReverse){e=e.left}else{e=e.right}}else if(i===0){this.nodeStack.push(e);break}else{this.nodeStack.push(e);if(this.isReverse){e=e.right}else{e=e.left}}}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse){e=e.left;while(!e.isEmpty()){this.nodeStack.push(e);e=e.right}}else{e=e.right;while(!e.isEmpty()){this.nodeStack.push(e);e=e.left}}return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0){return null}const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nS{constructor(e,t,n,r,i){this.key=e;this.value=t;this.color=n!=null?n:nS.RED;this.left=r!=null?r:nS.EMPTY;this.right=i!=null?i:nS.EMPTY;this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new nS(e!=null?e:this.key,t!=null?t:this.value,n!=null?n:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return false}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){if(this.left.isEmpty()){return this}else{return this.left.min()}}minKey(){return this.min().key}maxKey(){if(this.right.isEmpty()){return this.key}else{return this.right.maxKey()}}insert(e,t,n){let r=this;const i=n(e,r.key);if(i<0){r=r.copy(null,null,null,r.left.insert(e,t,n),null)}else if(i===0){r=r.copy(null,t,null,null,null)}else{r=r.copy(null,null,null,null,r.right.insert(e,t,n))}return r.fixUp()}removeMin(){if(this.left.isEmpty()){return nS.EMPTY}let e=this;if(!e.left.isRed()&&!e.left.left.isRed()){e=e.moveRedLeft()}e=e.copy(null,null,null,e.left.removeMin(),null);return e.fixUp()}remove(e,t){let n;let r=this;if(t(e,r.key)<0){if(!r.left.isEmpty()&&!r.left.isRed()&&!r.left.left.isRed()){r=r.moveRedLeft()}r=r.copy(null,null,null,r.left.remove(e,t),null)}else{if(r.left.isRed()){r=r.rotateRight()}if(!r.right.isEmpty()&&!r.right.isRed()&&!r.right.left.isRed()){r=r.moveRedRight()}if(t(e,r.key)===0){if(r.right.isEmpty()){return nS.EMPTY}else{n=r.right.min();r=r.copy(n.key,n.value,null,null,r.right.removeMin())}}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;if(e.right.isRed()&&!e.left.isRed()){e=e.rotateLeft()}if(e.left.isRed()&&e.left.left.isRed()){e=e.rotateRight()}if(e.left.isRed()&&e.right.isRed()){e=e.colorFlip()}return e}moveRedLeft(){let e=this.colorFlip();if(e.right.left.isRed()){e=e.copy(null,null,null,null,e.right.rotateRight());e=e.rotateLeft();e=e.colorFlip()}return e}moveRedRight(){let e=this.colorFlip();if(e.left.left.isRed()){e=e.rotateRight();e=e.colorFlip()}return e}rotateLeft(){const e=this.copy(null,null,nS.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nS.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null);const t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();if(Math.pow(2,e)<=this.size+1){return true}else{return false}}check(){if(this.isRed()&&this.left.isRed()){throw A(43730,{key:this.key,value:this.value})}if(this.right.isRed()){throw A(14113,{key:this.key,value:this.value})}const e=this.left.check();if(e!==this.right.check()){throw A(27949)}else{return e+(this.isRed()?0:1)}}}nS.EMPTY=null;nS.RED=true;nS.BLACK=false;class nT{constructor(){this.size=0}get key(){throw A(57766)}get value(){throw A(16141)}get color(){throw A(16727)}get left(){throw A(29726)}get right(){throw A(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new nS(e,t)}remove(e,t){return this}isEmpty(){return true}inorderTraversal(e){return false}reverseTraversal(e){return false}minKey(){return null}maxKey(){return null}isRed(){return false}checkMaxDepth(){return true}check(){return 0}}nS.EMPTY=new nT;class nC{constructor(e){this.comparator=e;this.data=new nE(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>{e(t);return false})}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);while(n.hasNext()){const r=n.getNext();if(this.comparator(r.key,e[1])>=0){return}t(r.key)}}forEachWhile(e,t){let n;if(t!==undefined){n=this.data.getIteratorFrom(t)}else{n=this.data.getIterator()}while(n.hasNext()){const t=n.getNext();const r=e(t.key);if(!r){return}}}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nR(this.data.getIterator())}getIteratorFrom(e){return new nR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,true))}delete(e){if(!this.has(e)){return this}return this.copy(this.data.remove(e))}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;if(t.size<e.size){t=e;e=this}e.forEach(e=>{t=t.add(e)});return t}isEqual(e){if(!(e instanceof nC)){return false}if(this.size!==e.size){return false}const t=this.data.getIterator();const n=e.data.getIterator();while(t.hasNext()){const e=t.getNext().key;const r=n.getNext().key;if(this.comparator(e,r)!==0){return false}}return true}toArray(){const e=[];this.forEach(t=>{e.push(t)});return e}toString(){const e=[];this.forEach(t=>e.push(t));return"SortedSet("+e.toString()+")"}copy(e){const t=new nC(this.comparator);t.data=e;return t}}class nR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nI(e,t,n,r,i){const s=e.getIterator();const o=t.getIterator();let a=nO(s);let c=nO(o);while(a||c){let e=false;let t=false;if(a&&c){const r=n(a,c);if(r<0){t=true}else if(r>0){e=true}}else if(a!=null){t=true}else{e=true}if(e){r(c);c=nO(o)}else if(t){i(a);a=nO(s)}else{a=nO(s);c=nO(o)}}}function nO(e){return e.hasNext()?e.getNext():undefined}class nA{constructor(e){this.fields=e;e.sort(eo.comparator)}static empty(){return new nA([])}unionWith(e){let t=new nC(eo.comparator);for(const e of this.fields){t=t.add(e)}for(const n of e){t=t.add(n)}return new nA(t.toArray())}covers(e){for(const t of this.fields){if(t.isPrefixOf(e)){return true}}return false}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}function nP(e){return Buffer.from(e,"base64").toString("binary")}function nN(e){return Buffer.from(e,"binary").toString("base64")}function nx(){return true}class nD{constructor(e){this.binaryString=e}static fromBase64String(e){const t=nP(e);return new nD(t)}static fromUint8Array(e){const t=nk(e);return new nD(t)}[Symbol.iterator](){let e=0;return{next:()=>{if(e<this.binaryString.length){return{value:this.binaryString.charCodeAt(e++),done:false}}else{return{value:undefined,done:true}}}}}toBase64(){return nN(this.binaryString)}toUint8Array(){return nM(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nD.EMPTY_BYTE_STRING=new nD("");function nk(e){let t="";for(let n=0;n<e.length;++n){t+=String.fromCharCode(e[n])}return t}function nM(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++){t[n]=e.charCodeAt(n)}return t}const nL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nj(e){N(!!e,39018);if(typeof e==="string"){let t=0;const n=nL.exec(e);N(!!n,46558,{timestamp:e});if(n[1]){let e=n[1];e=(e+"000000000").substr(0,9);t=Number(e)}const r=new Date(e);const i=Math.floor(r.getTime()/1e3);return{seconds:i,nanos:t}}else{const t=nF(e.seconds);const n=nF(e.nanos);return{seconds:t,nanos:n}}}function nF(e){if(typeof e==="number"){return e}else if(typeof e==="string"){return Number(e)}else{return 0}}function nB(e){if(typeof e==="string"){return nD.fromBase64String(e)}else{return nD.fromUint8Array(e)}}const nU="server_timestamp";const nV="__type__";const nz="__previous_value__";const nq="__local_write_time__";function nG(e){const t=(e?.mapValue?.fields||{})[nV]?.stringValue;return t===nU}function n$(e,t){const n={fields:{[nV]:{stringValue:nU},[nq]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};if(t&&nG(t)){t=nH(t)}if(t){n.fields[nz]=t}return{mapValue:n}}function nH(e){const t=e.mapValue.fields[nz];if(nG(t)){return nH(t)}return t}function nW(e){const t=nj(e.mapValue.fields[nq].timestampValue);return new eE(t.seconds,t.nanos)}class nK{constructor(e,t,n,r,i,s,o,a,c,u){this.databaseId=e;this.appId=t;this.persistenceKey=n;this.host=r;this.ssl=i;this.forceLongPolling=s;this.autoDetectLongPolling=o;this.longPollingOptions=a;this.useFetchStreams=c;this.isUsingEmulator=u}}const nQ="(default)";class nY{constructor(e,t){this.projectId=e;this.database=t?t:nQ}static empty(){return new nY("","")}get isDefaultDatabase(){return this.database===nQ}isEqual(e){return e instanceof nY&&e.projectId===this.projectId&&e.database===this.database}}function nX(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"])){throw new M(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}return new nY(e.options.projectId,t)}const nJ=-1;function nZ(e){return e===null||e===undefined}function n0(e){return e===0&&1/e===1/-0}function n1(e){return typeof e==="number"&&Number.isInteger(e)&&!n0(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const n2="__type__";const n3="__max__";const n6={mapValue:{fields:{"__type__":{stringValue:n3}}}};const n4="__vector__";const n8="value";const n5={nullValue:"NULL_VALUE"};function n7(e){if("nullValue"in e){return 0}else if("booleanValue"in e){return 1}else if("integerValue"in e||"doubleValue"in e){return 2}else if("timestampValue"in e){return 3}else if("stringValue"in e){return 5}else if("bytesValue"in e){return 6}else if("referenceValue"in e){return 7}else if("geoPointValue"in e){return 8}else if("arrayValue"in e){return 9}else if("mapValue"in e){if(nG(e)){return 4}else if(rL(e)){return 0x1fffffffffffff}else if(rk(e)){return 10}return 11}else{return A(28295,{value:e})}}function n9(e,t){if(e===t){return true}const n=n7(e);const r=n7(t);if(n!==r){return false}switch(n){case 0:return true;case 1:return e.booleanValue===t.booleanValue;case 4:return nW(e).isEqual(nW(t));case 3:return re(e,t);case 5:return e.stringValue===t.stringValue;case 6:return rn(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return rt(e,t);case 2:return rr(e,t);case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],n9);case 10:case 11:return ri(e,t);case 0x1fffffffffffff:return true;default:return A(52216,{left:e})}}function re(e,t){if(typeof e.timestampValue==="string"&&typeof t.timestampValue==="string"&&e.timestampValue.length===t.timestampValue.length){return e.timestampValue===t.timestampValue}const n=nj(e.timestampValue);const r=nj(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}function rt(e,t){return nF(e.geoPointValue.latitude)===nF(t.geoPointValue.latitude)&&nF(e.geoPointValue.longitude)===nF(t.geoPointValue.longitude)}function rn(e,t){return nB(e.bytesValue).isEqual(nB(t.bytesValue))}function rr(e,t){if("integerValue"in e&&"integerValue"in t){return nF(e.integerValue)===nF(t.integerValue)}else if("doubleValue"in e&&"doubleValue"in t){const n=nF(e.doubleValue);const r=nF(t.doubleValue);if(n===r){return n0(n)===n0(r)}else{return isNaN(n)&&isNaN(r)}}return false}function ri(e,t){const n=e.mapValue.fields||{};const r=t.mapValue.fields||{};if(ny(n)!==ny(r)){return false}for(const e in n){if(n.hasOwnProperty(e)){if(r[e]===undefined||!n9(n[e],r[e])){return false}}}return true}function rs(e,t){return(e.values||[]).find(e=>n9(e,t))!==undefined}function ro(e,t){if(e===t){return 0}const n=n7(e);const r=n7(t);if(n!==r){return Q(n,r)}switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return ra(e,t);case 3:return rc(e.timestampValue,t.timestampValue);case 4:return rc(nW(e),nW(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return rd(e.bytesValue,t.bytesValue);case 7:return ru(e.referenceValue,t.referenceValue);case 8:return rl(e.geoPointValue,t.geoPointValue);case 9:return rf(e.arrayValue,t.arrayValue);case 10:return rh(e.mapValue,t.mapValue);case 11:return rp(e.mapValue,t.mapValue);default:throw A(23264,{leftType:n})}}function ra(e,t){const n=nF(e.integerValue||e.doubleValue);const r=nF(t.integerValue||t.doubleValue);if(n<r){return-1}else if(n>r){return 1}else if(n===r){return 0}else{if(isNaN(n)){return isNaN(r)?0:-1}else{return 1}}}function rc(e,t){if(typeof e==="string"&&typeof t==="string"&&e.length===t.length){return Q(e,t)}const n=nj(e);const r=nj(t);const i=Q(n.seconds,r.seconds);if(i!==0){return i}return Q(n.nanos,r.nanos)}function ru(e,t){const n=e.split("/");const r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Q(n[e],r[e]);if(t!==0){return t}}return Q(n.length,r.length)}function rl(e,t){const n=Q(nF(e.latitude),nF(t.latitude));if(n!==0){return n}return Q(nF(e.longitude),nF(t.longitude))}function rd(e,t){const n=nB(e);const r=nB(t);return n.compareTo(r)}function rf(e,t){const n=e.values||[];const r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=ro(n[e],r[e]);if(t){return t}}return Q(n.length,r.length)}function rh(e,t){const n=e.fields||{};const r=t.fields||{};const i=n[n8]?.arrayValue;const s=r[n8]?.arrayValue;const o=Q(i?.values?.length||0,s?.values?.length||0);if(o!==0){return o}return rf(i,s)}function rp(e,t){if(e===n6.mapValue&&t===n6.mapValue){return 0}else if(e===n6.mapValue){return 1}else if(t===n6.mapValue){return-1}const n=e.fields||{};const r=Object.keys(n);const i=t.fields||{};const s=Object.keys(i);r.sort();s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=Y(r[e],s[e]);if(t!==0){return t}const o=ro(n[r[e]],i[s[e]]);if(o!==0){return o}}return Q(r.length,s.length)}function rm(e){return rg(e)}function rg(e){if("nullValue"in e){return"null"}else if("booleanValue"in e){return""+e.booleanValue}else if("integerValue"in e){return""+e.integerValue}else if("doubleValue"in e){return""+e.doubleValue}else if("timestampValue"in e){return rv(e.timestampValue)}else if("stringValue"in e){return e.stringValue}else if("bytesValue"in e){return ry(e.bytesValue)}else if("referenceValue"in e){return r_(e.referenceValue)}else if("geoPointValue"in e){return rb(e.geoPointValue)}else if("arrayValue"in e){return rw(e.arrayValue)}else if("mapValue"in e){return rE(e.mapValue)}else{return A(61005,{value:e})}}function ry(e){return nB(e).toBase64()}function rv(e){const t=nj(e);return`time(${t.seconds},${t.nanos})`}function rb(e){return`geo(${e.latitude},${e.longitude})`}function r_(e){return ea.fromName(e).toString()}function rE(e){const t=Object.keys(e.fields||{}).sort();let n="{";let r=true;for(const i of t){if(!r){n+=","}else{r=false}n+=`${i}:${rg(e.fields[i])}`}return n+"}"}function rw(e){let t="[";let n=true;for(const r of e.values||[]){if(!n){t+=","}else{n=false}t+=rg(r)}return t+"]"}function rS(e){switch(n7(e)){case 0:return 4;case 1:return 4;case 2:return 8;case 3:return 16;case 4:const t=nH(e);return t?16+rS(t):16;case 5:return e.stringValue.length*2;case 6:return nB(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 8:return 16;case 9:return rC(e.arrayValue);case 10:case 11:return rT(e.mapValue);default:throw A(13486,{value:e})}}function rT(e){let t=0;nv(e.fields,(e,n)=>{t+=e.length+rS(n)});return t}function rC(e){return(e.values||[]).reduce((e,t)=>e+rS(t),0)}function rR(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rI(e){return!!e&&"integerValue"in e}function rO(e){return!!e&&"doubleValue"in e}function rA(e){return rI(e)||rO(e)}function rP(e){return!!e&&"arrayValue"in e}function rN(e){return!!e&&"nullValue"in e}function rx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rD(e){return!!e&&"mapValue"in e}function rk(e){const t=(e?.mapValue?.fields||{})[n2]?.stringValue;return t===n4}function rM(e){if(e.geoPointValue){return{geoPointValue:{...e.geoPointValue}}}else if(e.timestampValue&&typeof e.timestampValue==="object"){return{timestampValue:{...e.timestampValue}}}else if(e.mapValue){const t={mapValue:{fields:{}}};nv(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=rM(n));return t}else if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n){t.arrayValue.values[n]=rM(e.arrayValue.values[n])}return t}else{return{...e}}}function rL(e){return(((e.mapValue||{}).fields||{})["__type__"]||{}).stringValue===n3}const rj={mapValue:{fields:{[n2]:{stringValue:n4},[n8]:{arrayValue:{}}}}};function rF(e){if("nullValue"in e){return n5}else if("booleanValue"in e){return{booleanValue:false}}else if("integerValue"in e||"doubleValue"in e){return{doubleValue:NaN}}else if("timestampValue"in e){return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}}else if("stringValue"in e){return{stringValue:""}}else if("bytesValue"in e){return{bytesValue:""}}else if("referenceValue"in e){return rR(nY.empty(),ea.empty())}else if("geoPointValue"in e){return{geoPointValue:{latitude:-90,longitude:-180}}}else if("arrayValue"in e){return{arrayValue:{}}}else if("mapValue"in e){if(rk(e)){return rj}return{mapValue:{}}}else{return A(35942,{value:e})}}function rB(e){if("nullValue"in e){return{booleanValue:false}}else if("booleanValue"in e){return{doubleValue:NaN}}else if("integerValue"in e||"doubleValue"in e){return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}}else if("timestampValue"in e){return{stringValue:""}}else if("stringValue"in e){return{bytesValue:""}}else if("bytesValue"in e){return rR(nY.empty(),ea.empty())}else if("referenceValue"in e){return{geoPointValue:{latitude:-90,longitude:-180}}}else if("geoPointValue"in e){return{arrayValue:{}}}else if("arrayValue"in e){return rj}else if("mapValue"in e){if(rk(e)){return{mapValue:{}}}return n6}else{return A(61959,{value:e})}}function rU(e,t){const n=ro(e.value,t.value);if(n!==0){return n}if(e.inclusive&&!t.inclusive){return-1}else if(!e.inclusive&&t.inclusive){return 1}return 0}function rV(e,t){const n=ro(e.value,t.value);if(n!==0){return n}if(e.inclusive&&!t.inclusive){return 1}else if(!e.inclusive&&t.inclusive){return-1}return 0}class rz{constructor(e){this.value=e}static empty(){return new rz({mapValue:{}})}field(e){if(e.isEmpty()){return this.value}else{let t=this.value;for(let n=0;n<e.length-1;++n){t=(t.mapValue.fields||{})[e.get(n)];if(!rD(t)){return null}}t=(t.mapValue.fields||{})[e.lastSegment()];return t||null}}set(e,t){const n=this.getFieldsMap(e.popLast());n[e.lastSegment()]=rM(t)}setAll(e){let t=eo.emptyPath();let n={};let r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r);n={};r=[];t=i.popLast()}if(e){n[i.lastSegment()]=rM(e)}else{r.push(i.lastSegment())}});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());if(rD(t)&&t.mapValue.fields){delete t.mapValue.fields[e.lastSegment()]}}isEqual(e){return n9(this.value,e.value)}getFieldsMap(e){let t=this.value;if(!t.mapValue.fields){t.mapValue={fields:{}}}for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];if(!rD(r)||!r.mapValue.fields){r={mapValue:{fields:{}}};t.mapValue.fields[e.get(n)]=r}t=r}return t.mapValue.fields}applyChanges(e,t,n){nv(t,(t,n)=>e[t]=n);for(const t of n){delete e[t]}}clone(){return new rz(rM(this.value))}}function rq(e){const t=[];nv(e.fields,(e,n)=>{const r=new eo([e]);if(rD(n)){const e=rq(n.mapValue);const i=e.fields;if(i.length===0){t.push(r)}else{for(const e of i){t.push(r.child(e))}}}else{t.push(r)}});return new nA(t)}class rG{constructor(e,t,n,r,i,s,o){this.key=e;this.documentType=t;this.version=n;this.readTime=r;this.createTime=i;this.data=s;this.documentState=o}static newInvalidDocument(e){return new rG(e,0,ew.min(),ew.min(),ew.min(),rz.empty(),0)}static newFoundDocument(e,t,n,r){return new rG(e,1,t,ew.min(),n,r,0)}static newNoDocument(e,t){return new rG(e,2,t,ew.min(),ew.min(),rz.empty(),0)}static newUnknownDocument(e,t){return new rG(e,3,t,ew.min(),ew.min(),rz.empty(),2)}convertToFoundDocument(e,t){if(this.createTime.isEqual(ew.min())&&(this.documentType===2||this.documentType===0)){this.createTime=e}this.version=e;this.documentType=1;this.data=t;this.documentState=0;return this}convertToNoDocument(e){this.version=e;this.documentType=2;this.data=rz.empty();this.documentState=0;return this}convertToUnknownDocument(e){this.version=e;this.documentType=3;this.data=rz.empty();this.documentState=2;return this}setHasCommittedMutations(){this.documentState=2;return this}setHasLocalMutations(){this.documentState=1;this.version=ew.min();return this}setReadTime(e){this.readTime=e;return this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rG&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rG(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, `+`{createTime: ${this.createTime}}), `+`{documentType: ${this.documentType}}), `+`{documentState: ${this.documentState}})`}}function r$(e,t,n){const r=t.data.field(e);const i=n.data.field(e);if(r!==null&&i!==null){return ro(r,i)}else{return A(42886)}}class rH{constructor(e,t){this.position=e;this.inclusive=t}}function rW(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i];const o=e.position[i];if(s.field.isKeyField()){r=ea.comparator(ea.fromName(o.referenceValue),n.key)}else{const e=n.data.field(s.field);r=ro(o,e)}if(s.dir==="desc"){r=r*-1}if(r!==0){break}}return r}function rK(e,t,n){const r=rW(e,t,n);return e.inclusive?r>=0:r>0}function rQ(e,t,n){const r=rW(e,t,n);return e.inclusive?r<=0:r<0}function rY(e,t){if(e===null){return t===null}else if(t===null){return false}if(e.inclusive!==t.inclusive||e.position.length!==t.position.length){return false}for(let n=0;n<e.position.length;n++){const r=e.position[n];const i=t.position[n];if(!n9(r,i)){return false}}return true}class rX{constructor(e,t="asc"){this.field=e;this.dir=t}}function rJ(e){return e.field.canonicalString()+e.dir}function rZ(e){return`${e.field.canonicalString()} (${e.dir})`}function r0(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class r1{}class r2 extends r1{constructor(e,t,n){super();this.field=e;this.op=t;this.value=n}static create(e,t,n){if(e.isKeyField()){if(t==="in"||t==="not-in"){return this.createKeyFieldInFilter(e,t,n)}else{return new ia(e,t,n)}}else if(t==="array-contains"){return new id(e,n)}else if(t==="in"){return new ih(e,n)}else if(t==="not-in"){return new ip(e,n)}else if(t==="array-contains-any"){return new im(e,n)}else{return new r2(e,t,n)}}static createKeyFieldInFilter(e,t,n){return t==="in"?new ic(e,n):new iu(e,n)}matches(e){const t=e.data.field(this.field);if(this.op==="!="){return t!==null&&t.nullValue===undefined&&this.matchesComparison(ro(t,this.value))}return t!==null&&n7(this.value)===n7(t)&&this.matchesComparison(ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return A(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class r3 extends r1{constructor(e,t){super();this.filters=e;this.op=t;this.memoizedFlattenedFilters=null}static create(e,t){return new r3(e,t)}matches(e){if(r6(this)){return this.filters.find(t=>!t.matches(e))===undefined}else{return this.filters.find(t=>t.matches(e))!==undefined}}getFlattenedFilters(){if(this.memoizedFlattenedFilters!==null){return this.memoizedFlattenedFilters}this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>{return e.concat(t.getFlattenedFilters())},[]);return this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function r6(e){return e.op==="and"}function r4(e){return e.op==="or"}function r8(e){return r5(e)&&r6(e)}function r5(e){for(const t of e.filters){if(t instanceof r3){return false}}return true}function r7(e){if(e instanceof r2){return e.field.canonicalString()+e.op.toString()+rm(e.value)}else if(r8(e)){return e.filters.map(e=>r7(e)).join(",")}else{const t=e.filters.map(e=>r7(e)).join(",");return`${e.op}(${t})`}}function r9(e,t){if(e instanceof r2){return ie(e,t)}else if(e instanceof r3){return it(e,t)}else{A(19439)}}function ie(e,t){return t instanceof r2&&e.op===t.op&&e.field.isEqual(t.field)&&n9(e.value,t.value)}function it(e,t){if(t instanceof r3&&e.op===t.op&&e.filters.length===t.filters.length){const n=e.filters.reduce((e,n,r)=>e&&r9(n,t.filters[r]),true);return n}return false}function ir(e,t){const n=e.filters.concat(t);return r3.create(n,e.op)}function ii(e){if(e instanceof r2){return io(e)}else if(e instanceof r3){return is(e)}else{return"Filter"}}function is(e){return e.op.toString()+` {`+e.getFilters().map(ii).join(" ,")+"}"}function io(e){return`${e.field.canonicalString()} ${e.op} ${rm(e.value)}`}class ia extends r2{constructor(e,t,n){super(e,t,n);this.key=ea.fromName(n.referenceValue)}matches(e){const t=ea.comparator(e.key,this.key);return this.matchesComparison(t)}}class ic extends r2{constructor(e,t){super(e,"in",t);this.keys=il("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iu extends r2{constructor(e,t){super(e,"not-in",t);this.keys=il("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function il(e,t){return(t.arrayValue?.values||[]).map(e=>{return ea.fromName(e.referenceValue)})}class id extends r2{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rP(t)&&rs(t.arrayValue,this.value)}}class ih extends r2{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rs(this.value.arrayValue,t)}}class ip extends r2{constructor(e,t){super(e,"not-in",t)}matches(e){if(rs(this.value.arrayValue,{nullValue:"NULL_VALUE"})){return false}const t=e.data.field(this.field);return t!==null&&t.nullValue===undefined&&!rs(this.value.arrayValue,t)}}class im extends r2{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);if(!rP(t)||!t.arrayValue.values){return false}return t.arrayValue.values.some(e=>rs(this.value.arrayValue,e))}}class ig{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e;this.collectionGroup=t;this.orderBy=n;this.filters=r;this.limit=i;this.startAt=s;this.endAt=o;this.memoizedCanonicalId=null}}function iy(e,t=null,n=[],r=[],i=null,s=null,o=null){return new ig(e,t,n,r,i,s,o)}function iv(e){const t=D(e);if(t.memoizedCanonicalId===null){let e=t.path.canonicalString();if(t.collectionGroup!==null){e+="|cg:"+t.collectionGroup}e+="|f:";e+=t.filters.map(e=>r7(e)).join(",");e+="|ob:";e+=t.orderBy.map(e=>rJ(e)).join(",");if(!nZ(t.limit)){e+="|l:";e+=t.limit}if(t.startAt){e+="|lb:";e+=t.startAt.inclusive?"b:":"a:";e+=t.startAt.position.map(e=>rm(e)).join(",")}if(t.endAt){e+="|ub:";e+=t.endAt.inclusive?"a:":"b:";e+=t.endAt.position.map(e=>rm(e)).join(",")}t.memoizedCanonicalId=e}return t.memoizedCanonicalId}function ib(e){let t=e.path.canonicalString();if(e.collectionGroup!==null){t+=" collectionGroup="+e.collectionGroup}if(e.filters.length>0){t+=`, filters: [${e.filters.map(e=>ii(e)).join(", ")}]`}if(!nZ(e.limit)){t+=", limit: "+e.limit}if(e.orderBy.length>0){t+=`, orderBy: [${e.orderBy.map(e=>rZ(e)).join(", ")}]`}if(e.startAt){t+=", startAt: ";t+=e.startAt.inclusive?"b:":"a:";t+=e.startAt.position.map(e=>rm(e)).join(",")}if(e.endAt){t+=", endAt: ";t+=e.endAt.inclusive?"a:":"b:";t+=e.endAt.position.map(e=>rm(e)).join(",")}return`Target(${t})`}function i_(e,t){if(e.limit!==t.limit){return false}if(e.orderBy.length!==t.orderBy.length){return false}for(let n=0;n<e.orderBy.length;n++){if(!r0(e.orderBy[n],t.orderBy[n])){return false}}if(e.filters.length!==t.filters.length){return false}for(let n=0;n<e.filters.length;n++){if(!r9(e.filters[n],t.filters[n])){return false}}if(e.collectionGroup!==t.collectionGroup){return false}if(!e.path.isEqual(t.path)){return false}if(!rY(e.startAt,t.startAt)){return false}return rY(e.endAt,t.endAt)}function iE(e){return ea.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function iw(e,t){return e.filters.filter(e=>e instanceof r2&&e.field.isEqual(t))}function iS(e,t){const n=eR(t);if(n===undefined){return null}for(const t of iw(e,n.fieldPath)){switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}}return null}function iT(e,t){const n=new Map;for(const r of eI(t)){for(const t of iw(e,r.fieldPath)){switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":n.set(r.fieldPath.canonicalString(),t.value);return Array.from(n.values())}}}return null}function iC(e,t){const n=[];let r=true;for(const i of eI(t)){const t=i.kind===0?iI(e,i.fieldPath,e.startAt):iO(e,i.fieldPath,e.startAt);n.push(t.value);r&&(r=t.inclusive)}return new rH(n,r)}function iR(e,t){const n=[];let r=true;for(const i of eI(t)){const t=i.kind===0?iO(e,i.fieldPath,e.endAt):iI(e,i.fieldPath,e.endAt);n.push(t.value);r&&(r=t.inclusive)}return new rH(n,r)}function iI(e,t,n){let r=n5;let i=true;for(const n of iw(e,t)){let e=n5;let t=true;switch(n.op){case"<":case"<=":e=rF(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value;t=false;break;case"!=":case"not-in":e=n5;break}if(rU({value:r,inclusive:i},{value:e,inclusive:t})<0){r=e;i=t}}if(n!==null){for(let s=0;s<e.orderBy.length;++s){const o=e.orderBy[s];if(o.field.isEqual(t)){const e=n.position[s];if(rU({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0){r=e;i=n.inclusive}break}}}return{value:r,inclusive:i}}function iO(e,t,n){let r=n6;let i=true;for(const n of iw(e,t)){let e=n6;let t=true;switch(n.op){case">=":case">":e=rB(n.value);t=false;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value;t=false;break;case"!=":case"not-in":e=n6;break}if(rV({value:r,inclusive:i},{value:e,inclusive:t})>0){r=e;i=t}}if(n!==null){for(let s=0;s<e.orderBy.length;++s){const o=e.orderBy[s];if(o.field.isEqual(t)){const e=n.position[s];if(rV({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0){r=e;i=n.inclusive}break}}}return{value:r,inclusive:i}}function iA(e){let t=new nC(eo.comparator);let n=false;for(const r of e.filters){for(const e of r.getFlattenedFilters()){if(e.field.isKeyField()){continue}if(e.op==="array-contains"||e.op==="array-contains-any"){n=true}else{t=t.add(e.field)}}}for(const n of e.orderBy){if(!n.field.isKeyField()){t=t.add(n.field)}}return t.size+(n?1:0)}function iP(e){return e.limit!==null}class iN{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e;this.collectionGroup=t;this.explicitOrderBy=n;this.filters=r;this.limit=i;this.limitType=s;this.startAt=o;this.endAt=a;this.memoizedNormalizedOrderBy=null;this.memoizedTarget=null;this.memoizedAggregateTarget=null;if(this.startAt);if(this.endAt);}}function ix(e,t,n,r,i,s,o,a){return new iN(e,t,n,r,i,s,o,a)}function iD(e){return new iN(e)}function ik(e,t){return new iN(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function iM(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function iL(e){let t=new nC(eo.comparator);e.filters.forEach(e=>{const n=e.getFlattenedFilters();n.forEach(e=>{if(e.isInequality()){t=t.add(e.field)}})});return t}function ij(e){return new iN(ei.emptyPath(),e)}function iF(e){return ea.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function iB(e){return e.collectionGroup!==null}function iU(e){const t=D(e);if(t.memoizedNormalizedOrderBy===null){t.memoizedNormalizedOrderBy=[];const e=new Set;for(const n of t.explicitOrderBy){t.memoizedNormalizedOrderBy.push(n);e.add(n.field.canonicalString())}const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";const r=iL(t);r.forEach(r=>{if(!e.has(r.canonicalString())&&!r.isKeyField()){t.memoizedNormalizedOrderBy.push(new rX(r,n))}});if(!e.has(eo.keyField().canonicalString())){t.memoizedNormalizedOrderBy.push(new rX(eo.keyField(),n))}}return t.memoizedNormalizedOrderBy}function iV(e){const t=D(e);if(!t.memoizedTarget){t.memoizedTarget=iq(t,iU(e))}return t.memoizedTarget}function iz(e){const t=D(e);if(!t.memoizedAggregateTarget){t.memoizedAggregateTarget=iq(t,e.explicitOrderBy)}return t.memoizedAggregateTarget}function iq(e,t){if(e.limitType==="F"){return iy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt)}else{t=t.map(e=>{const t=e.dir==="desc"?"asc":"desc";return new rX(e.field,t)});const n=e.endAt?new rH(e.endAt.position,e.endAt.inclusive):null;const r=e.startAt?new rH(e.startAt.position,e.startAt.inclusive):null;return iy(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function iG(e,t){const n=e.filters.concat([t]);return new iN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function i$(e,t){const n=e.explicitOrderBy.concat([t]);return new iN(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function iH(e,t,n){return new iN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function iW(e,t){return new iN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}function iK(e,t){return new iN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}function iQ(e,t){return i_(iV(e),iV(t))&&e.limitType===t.limitType}function iY(e){return`${iv(iV(e))}|lt:${e.limitType}`}function iX(e){return`Query(target=${ib(iV(e))}; limitType=${e.limitType})`}function iJ(e,t){return t.isFoundDocument()&&iZ(e,t)&&i0(e,t)&&i1(e,t)&&i2(e,t)}function iZ(e,t){const n=t.key.path;if(e.collectionGroup!==null){return t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}else if(ea.isDocumentKey(e.path)){return e.path.isEqual(n)}else{return e.path.isImmediateParentOf(n)}}function i0(e,t){for(const n of iU(e)){if(!n.field.isKeyField()&&t.data.field(n.field)===null){return false}}return true}function i1(e,t){for(const n of e.filters){if(!n.matches(t)){return false}}return true}function i2(e,t){if(e.startAt&&!rQ(e.startAt,iU(e),t)){return false}if(e.endAt&&!rK(e.endAt,iU(e),t)){return false}return true}function i3(e){return e.collectionGroup||(e.path.length%2===1?e.path.lastSegment():e.path.get(e.path.length-2))}function i6(e){return(t,n)=>{let r=false;for(const i of iU(e)){const e=i4(i,t,n);if(e!==0){return e}r=r||i.field.isKeyField()}return 0}}function i4(e,t,n){const r=e.field.isKeyField()?ea.comparator(t.key,n.key):r$(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A(19790,{direction:e.dir})}}class i8{constructor(e,t){this.mapKeyFn=e;this.equalsFn=t;this.inner={};this.innerSize=0}get(e){const t=this.mapKeyFn(e);const n=this.inner[t];if(n===undefined){return undefined}for(const[t,r]of n){if(this.equalsFn(t,e)){return r}}return undefined}has(e){return this.get(e)!==undefined}set(e,t){const n=this.mapKeyFn(e);const r=this.inner[n];if(r===undefined){this.inner[n]=[[e,t]];this.innerSize++;return}for(let n=0;n<r.length;n++){if(this.equalsFn(r[n][0],e)){r[n]=[e,t];return}}r.push([e,t]);this.innerSize++}delete(e){const t=this.mapKeyFn(e);const n=this.inner[t];if(n===undefined){return false}for(let r=0;r<n.length;r++){if(this.equalsFn(n[r][0],e)){if(n.length===1){delete this.inner[t]}else{n.splice(r,1)}this.innerSize--;return true}}return false}forEach(e){nv(this.inner,(t,n)=>{for(const[t,r]of n){e(t,r)}})}isEmpty(){return n_(this.inner)}size(){return this.innerSize}}const i5=new nE(ea.comparator);function i7(){return i5}const i9=new nE(ea.comparator);function se(...e){let t=i9;for(const n of e){t=t.insert(n.key,n)}return t}function st(){return ss()}function sn(e){let t=i9;e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument));return t}function sr(){return ss()}function si(){return ss()}function ss(){return new i8(e=>e.toString(),(e,t)=>e.isEqual(t))}const so=new nE(ea.comparator);function sa(){return so}const sc=new nC(ea.comparator);function su(...e){let t=sc;for(const n of e){t=t.add(n)}return t}const sl=new nC(Q);function sd(){return sl}function sf(e,t){if(e.useProto3Json){if(isNaN(t)){return{doubleValue:"NaN"}}else if(t===Infinity){return{doubleValue:"Infinity"}}else if(t===-Infinity){return{doubleValue:"-Infinity"}}}return{doubleValue:n0(t)?"-0":t}}function sh(e){return{integerValue:""+e}}function sp(e,t){return n1(t)?sh(t):sf(e,t)}class sm{constructor(){this._=undefined}}function sg(e,t,n){if(e instanceof s_){return n$(n,t)}else if(e instanceof sE){return sw(e,t)}else if(e instanceof sS){return sT(e,t)}else{return sR(e,t)}}function sy(e,t,n){if(e instanceof sE){return sw(e,t)}else if(e instanceof sS){return sT(e,t)}return n}function sv(e,t){if(e instanceof sC){return rA(t)?t:{integerValue:0}}return null}function sb(e,t){if(e instanceof sE&&t instanceof sE){return ee(e.elements,t.elements,n9)}else if(e instanceof sS&&t instanceof sS){return ee(e.elements,t.elements,n9)}else if(e instanceof sC&&t instanceof sC){return n9(e.operand,t.operand)}return e instanceof s_&&t instanceof s_}class s_ extends sm{}class sE extends sm{constructor(e){super();this.elements=e}}function sw(e,t){const n=sO(t);for(const t of e.elements){if(!n.some(e=>n9(e,t))){n.push(t)}}return{arrayValue:{values:n}}}class sS extends sm{constructor(e){super();this.elements=e}}function sT(e,t){let n=sO(t);for(const t of e.elements){n=n.filter(e=>!n9(e,t))}return{arrayValue:{values:n}}}class sC extends sm{constructor(e,t){super();this.serializer=e;this.operand=t}}function sR(e,t){const n=sv(e,t);const r=sI(n)+sI(e.operand);if(rI(n)&&rI(e.operand)){return sh(r)}else{return sf(e.serializer,r)}}function sI(e){return nF(e.integerValue||e.doubleValue)}function sO(e){return rP(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sA{constructor(e,t){this.field=e;this.transform=t}}function sP(e,t){return e.field.isEqual(t.field)&&sb(e.transform,t.transform)}function sN(e,t){if(e===undefined&&t===undefined){return true}if(e&&t){return ee(e,t,(e,t)=>sP(e,t))}return false}class sx{constructor(e,t){this.version=e;this.transformResults=t}}class sD{constructor(e,t){this.updateTime=e;this.exists=t}static none(){return new sD}static exists(e){return new sD(undefined,e)}static updateTime(e){return new sD(e)}get isNone(){return this.updateTime===undefined&&this.exists===undefined}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sk(e,t){if(e.updateTime!==undefined){return t.isFoundDocument()&&t.version.isEqual(e.updateTime)}else if(e.exists!==undefined){return e.exists===t.isFoundDocument()}else{return true}}class sM{}function sL(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0){return null}if(t===null){if(e.isNoDocument()){return new sY(e.key,sD.none())}else{return new sV(e.key,e.data,sD.none())}}else{const n=e.data;const r=rz.empty();let i=new nC(eo.comparator);for(let e of t.fields){if(!i.has(e)){let t=n.field(e);if(t===null&&e.length>1){e=e.popLast();t=n.field(e)}if(t===null){r.delete(e)}else{r.set(e,t)}i=i.add(e)}}return new sG(e.key,r,new nA(i.toArray()),sD.none())}}function sj(e,t,n){if(e instanceof sV){sz(e,t,n)}else if(e instanceof sG){s$(e,t,n)}else{sX(e,t,n)}}function sF(e,t,n,r){if(e instanceof sV){return sq(e,t,n,r)}else if(e instanceof sG){return sH(e,t,n,r)}else{return sJ(e,t,n)}}function sB(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field);const i=sv(r.transform,e||null);if(i!=null){if(n===null){n=rz.empty()}n.set(r.field,i)}}return n?n:null}function sU(e,t){if(e.type!==t.type){return false}if(!e.key.isEqual(t.key)){return false}if(!e.precondition.isEqual(t.precondition)){return false}if(!sN(e.fieldTransforms,t.fieldTransforms)){return false}if(e.type===0){return e.value.isEqual(t.value)}if(e.type===1){return e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)}return true}class sV extends sM{constructor(e,t,n,r=[]){super();this.key=e;this.value=t;this.precondition=n;this.fieldTransforms=r;this.type=0}getFieldMask(){return null}}function sz(e,t,n){const r=e.value.clone();const i=sK(e.fieldTransforms,t,n.transformResults);r.setAll(i);t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}function sq(e,t,n,r){if(!sk(e.precondition,t)){return n}const i=e.value.clone();const s=sQ(e.fieldTransforms,r,t);i.setAll(s);t.convertToFoundDocument(t.version,i).setHasLocalMutations();return null}class sG extends sM{constructor(e,t,n,r,i=[]){super();this.key=e;this.data=t;this.fieldMask=n;this.precondition=r;this.fieldTransforms=i;this.type=1}getFieldMask(){return this.fieldMask}}function s$(e,t,n){if(!sk(e.precondition,t)){t.convertToUnknownDocument(n.version);return}const r=sK(e.fieldTransforms,t,n.transformResults);const i=t.data;i.setAll(sW(e));i.setAll(r);t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}function sH(e,t,n,r){if(!sk(e.precondition,t)){return n}const i=sQ(e.fieldTransforms,r,t);const s=t.data;s.setAll(sW(e));s.setAll(i);t.convertToFoundDocument(t.version,s).setHasLocalMutations();if(n===null){return null}return n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}function sW(e){const t=new Map;e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}});return t}function sK(e,t,n){const r=new Map;N(e.length===n.length,32656,{serverTransformResultCount:n.length,fieldTransformCount:e.length});for(let i=0;i<n.length;i++){const s=e[i];const o=s.transform;const a=t.data.field(s.field);r.set(s.field,sy(o,a,n[i]))}return r}function sQ(e,t,n){const r=new Map;for(const i of e){const e=i.transform;const s=n.data.field(i.field);r.set(i.field,sg(e,s,t))}return r}class sY extends sM{constructor(e,t){super();this.key=e;this.precondition=t;this.type=2;this.fieldTransforms=[]}getFieldMask(){return null}}function sX(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}function sJ(e,t,n){if(sk(e.precondition,t)){t.convertToNoDocument(t.version).setHasLocalMutations();return null}return n}class sZ extends sM{constructor(e,t){super();this.key=e;this.precondition=t;this.type=3;this.fieldTransforms=[]}getFieldMask(){return null}}class s0{constructor(e,t,n,r){this.batchId=e;this.localWriteTime=t;this.baseMutations=n;this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];if(r.key.isEqual(e.key)){const i=n[t];sj(r,e,i)}}}applyToLocalView(e,t){for(const n of this.baseMutations){if(n.key.isEqual(e.key)){t=sF(n,e,t,this.localWriteTime)}}for(const n of this.mutations){if(n.key.isEqual(e.key)){t=sF(n,e,t,this.localWriteTime)}}return t}applyToLocalDocumentSet(e,t){const n=si();this.mutations.forEach(r=>{const i=e.get(r.key);const s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=sL(s,o);if(a!==null){n.set(r.key,a)}if(!s.isValidDocument()){s.convertToNoDocument(ew.min())}});return n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),su())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>sU(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>sU(e,t))}}class s1{constructor(e,t,n,r){this.batch=e;this.commitVersion=t;this.mutationResults=n;this.docVersions=r}static from(e,t,n){N(e.mutations.length===n.length,58842,{mutationsSent:e.mutations.length,resultsReceived:n.length});let r=sa();const i=e.mutations;for(let e=0;e<i.length;e++){r=r.insert(i[e].key,n[e].version)}return new s1(e,t,n,r)}}class s2{constructor(e,t){this.largestBatchId=e;this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class s3{constructor(e,t){this.count=e;this.unchangedNames=t}}var s6;(function(e){e[e["OK"]=0]="OK";e[e["CANCELLED"]=1]="CANCELLED";e[e["UNKNOWN"]=2]="UNKNOWN";e[e["INVALID_ARGUMENT"]=3]="INVALID_ARGUMENT";e[e["DEADLINE_EXCEEDED"]=4]="DEADLINE_EXCEEDED";e[e["NOT_FOUND"]=5]="NOT_FOUND";e[e["ALREADY_EXISTS"]=6]="ALREADY_EXISTS";e[e["PERMISSION_DENIED"]=7]="PERMISSION_DENIED";e[e["UNAUTHENTICATED"]=16]="UNAUTHENTICATED";e[e["RESOURCE_EXHAUSTED"]=8]="RESOURCE_EXHAUSTED";e[e["FAILED_PRECONDITION"]=9]="FAILED_PRECONDITION";e[e["ABORTED"]=10]="ABORTED";e[e["OUT_OF_RANGE"]=11]="OUT_OF_RANGE";e[e["UNIMPLEMENTED"]=12]="UNIMPLEMENTED";e[e["INTERNAL"]=13]="INTERNAL";e[e["UNAVAILABLE"]=14]="UNAVAILABLE";e[e["DATA_LOSS"]=15]="DATA_LOSS"})(s6||(s6={}));function s4(e){switch(e){case k.OK:return A(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return false;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return true;default:return A(15467,{code:e})}}function s8(e){return s4(e)&&e!==k.ABORTED}function s5(e){if(e===undefined){R("GRPC error has no .code");return k.UNKNOWN}switch(e){case s6.OK:return k.OK;case s6.CANCELLED:return k.CANCELLED;case s6.UNKNOWN:return k.UNKNOWN;case s6.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case s6.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case s6.INTERNAL:return k.INTERNAL;case s6.UNAVAILABLE:return k.UNAVAILABLE;case s6.UNAUTHENTICATED:return k.UNAUTHENTICATED;case s6.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case s6.NOT_FOUND:return k.NOT_FOUND;case s6.ALREADY_EXISTS:return k.ALREADY_EXISTS;case s6.PERMISSION_DENIED:return k.PERMISSION_DENIED;case s6.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case s6.ABORTED:return k.ABORTED;case s6.OUT_OF_RANGE:return k.OUT_OF_RANGE;case s6.UNIMPLEMENTED:return k.UNIMPLEMENTED;case s6.DATA_LOSS:return k.DATA_LOSS;default:return A(39323,{code:e})}}class s7 extends Error{constructor(){super(...arguments);this.name="Base64DecodeError"}}let s9=null;function oe(e){if(s9){throw new Error("a TestingHooksSpi instance is already set")}s9=e}function ot(){return new o.TextEncoder}function on(){return new TextDecoder("utf-8")}const or=new l([0xffffffff,0xffffffff],0);function oi(e){const t=ot().encode(e);const n=new d;n.update(t);return new Uint8Array(n.digest())}function os(e){const t=new DataView(e.buffer);const n=t.getUint32(0,true);const r=t.getUint32(4,true);const i=t.getUint32(8,true);const s=t.getUint32(12,true);const o=new l([n,r],0);const a=new l([i,s],0);return[o,a]}class oo{constructor(e,t,n){this.bitmap=e;this.padding=t;this.hashCount=n;if(t<0||t>=8){throw new oa(`Invalid padding: ${t}`)}if(n<0){throw new oa(`Invalid hash count: ${n}`)}if(e.length>0&&this.hashCount===0){throw new oa(`Invalid hash count: ${n}`)}if(e.length===0&&t!==0){throw new oa(`Invalid padding when bitmap length is 0: ${t}`)}this.bitCount=e.length*8-t;this.bitCountInInteger=l.fromNumber(this.bitCount)}getBitIndex(e,t,n){let r=e.add(t.multiply(l.fromNumber(n)));if(r.compare(or)===1){r=new l([r.getBits(0),r.getBits(1)],0)}return r.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){const t=this.bitmap[Math.floor(e/8)];const n=e%8;return(t&1<<n)!==0}mightContain(e){if(this.bitCount===0){return false}const t=oi(e);const[n,r]=os(t);for(let e=0;e<this.hashCount;e++){const t=this.getBitIndex(n,r,e);if(!this.isBitSet(t)){return false}}return true}static create(e,t,n){const r=e%8===0?0:8-e%8;const i=new Uint8Array(Math.ceil(e/8));const s=new oo(i,r,t);n.forEach(e=>s.insert(e));return s}insert(e){if(this.bitCount===0){return}const t=oi(e);const[n,r]=os(t);for(let e=0;e<this.hashCount;e++){const t=this.getBitIndex(n,r,e);this.setBit(t)}}setBit(e){const t=Math.floor(e/8);const n=e%8;this.bitmap[t]|=1<<n}}class oa extends Error{constructor(){super(...arguments);this.name="BloomFilterError"}}class oc{constructor(e,t,n,r,i){this.snapshotVersion=e;this.targetChanges=t;this.targetMismatches=n;this.documentUpdates=r;this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;r.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,n));return new oc(ew.min(),r,new nE(Q),i7(),su())}}class ou{constructor(e,t,n,r,i){this.resumeToken=e;this.current=t;this.addedDocuments=n;this.modifiedDocuments=r;this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ou(n,t,su(),su(),su())}}class ol{constructor(e,t,n,r){this.updatedTargetIds=e;this.removedTargetIds=t;this.key=n;this.newDoc=r}}class od{constructor(e,t){this.targetId=e;this.existenceFilter=t}}class of{constructor(e,t,n=nD.EMPTY_BYTE_STRING,r=null){this.state=e;this.targetIds=t;this.resumeToken=n;this.cause=r}}class oh{constructor(){this.pendingResponses=0;this.documentChanges=oy();this._resumeToken=nD.EMPTY_BYTE_STRING;this._current=false;this._hasPendingChanges=true}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){if(e.approximateByteSize()>0){this._hasPendingChanges=true;this._resumeToken=e}}toTargetChange(){let e=su();let t=su();let n=su();this.documentChanges.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A(38017,{changeType:i})}});return new ou(this._resumeToken,this._current,e,t,n)}clearPendingChanges(){this._hasPendingChanges=false;this.documentChanges=oy()}addDocumentChange(e,t){this._hasPendingChanges=true;this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=true;this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1;N(this.pendingResponses>=0,3241,{pendingResponses:this.pendingResponses})}markCurrent(){this._hasPendingChanges=true;this._current=true}}const op="WatchChangeAggregator";class om{constructor(e){this.metadataProvider=e;this.targetStates=new Map;this.pendingDocumentUpdates=i7();this.pendingDocumentUpdatesByTarget=og();this.pendingDocumentTargetMapping=og();this.pendingTargetResets=new nE(Q)}handleDocumentChange(e){for(const t of e.updatedTargetIds){if(e.newDoc&&e.newDoc.isFoundDocument()){this.addDocumentToTarget(t,e.newDoc)}else{this.removeDocumentFromTarget(t,e.key,e.newDoc)}}for(const t of e.removedTargetIds){this.removeDocumentFromTarget(t,e.key,e.newDoc)}}handleTargetChange(e){this.forEachTarget(e,t=>{const n=this.ensureTargetState(t);switch(e.state){case 0:if(this.isActiveTarget(t)){n.updateResumeToken(e.resumeToken)}break;case 1:n.recordTargetResponse();if(!n.isPending){n.clearPendingChanges()}n.updateResumeToken(e.resumeToken);break;case 2:n.recordTargetResponse();if(!n.isPending){this.removeTarget(t)}break;case 3:if(this.isActiveTarget(t)){n.markCurrent();n.updateResumeToken(e.resumeToken)}break;case 4:if(this.isActiveTarget(t)){this.resetTarget(t);n.updateResumeToken(e.resumeToken)}break;default:A(56790,{state:e.state})}})}forEachTarget(e,t){if(e.targetIds.length>0){e.targetIds.forEach(t)}else{this.targetStates.forEach((e,n)=>{if(this.isActiveTarget(n)){t(n)}})}}handleExistenceFilter(e){const t=e.targetId;const n=e.existenceFilter.count;const r=this.targetDataForActiveTarget(t);if(r){const i=r.target;if(iE(i)){if(n===0){const e=new ea(i.path);this.removeDocumentFromTarget(t,e,rG.newNoDocument(e,ew.min()))}else{N(n===1,20013,{expectedCount:n})}}else{const r=this.getCurrentDocumentCountForTarget(t);if(r!==n){const n=this.parseBloomFilter(e);const i=n?this.applyBloomFilter(n,e,r):1;if(i!==0){this.resetTarget(t);const e=i===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,e)}s9?.notifyOnExistenceFilterMismatch(ov(r,e.existenceFilter,this.metadataProvider.getDatabaseId(),n,i))}}}}parseBloomFilter(e){const t=e.existenceFilter.unchangedNames;if(!t||!t.bits){return null}const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s;try{s=nB(n).toUint8Array()}catch(e){if(e instanceof s7){I("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query.");return null}else{throw e}}let o;try{o=new oo(s,r,i)}catch(e){if(e instanceof oa){I("BloomFilter error: ",e)}else{I("Applying bloom filter failed: ",e)}return null}if(o.bitCount===0){return null}return o}applyBloomFilter(e,t,n){const r=t.existenceFilter.count;const i=this.filterRemovedDocuments(e,t.targetId);return r===n-i?0:2}filterRemovedDocuments(e,t){const n=this.metadataProvider.getRemoteKeysForTarget(t);let r=0;n.forEach(n=>{const i=this.metadataProvider.getDatabaseId();const s=`projects/${i.projectId}`+`/databases/${i.database}`+`/documents/${n.path.canonicalString()}`;if(!e.mightContain(s)){this.removeDocumentFromTarget(t,n,null);r++}});return r}createRemoteEvent(e){const t=new Map;this.targetStates.forEach((n,r)=>{const i=this.targetDataForActiveTarget(r);if(i){if(n.current&&iE(i.target)){const t=new ea(i.target.path);if(!this.ensureDocumentUpdateByTarget(t).has(r)&&!this.targetContainsDocument(r,t)){this.removeDocumentFromTarget(r,t,rG.newNoDocument(t,e))}}if(n.hasPendingChanges){t.set(r,n.toTargetChange());n.clearPendingChanges()}}});let n=su();this.pendingDocumentTargetMapping.forEach((e,t)=>{let r=true;t.forEachWhile(e=>{const t=this.targetDataForActiveTarget(e);if(t&&t.purpose!=="TargetPurposeLimboResolution"){r=false;return false}return true});if(r){n=n.add(e)}});this.pendingDocumentUpdates.forEach((t,n)=>n.setReadTime(e));const r=new oc(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,n);this.pendingDocumentUpdates=i7();this.pendingDocumentUpdatesByTarget=og();this.pendingDocumentTargetMapping=og();this.pendingTargetResets=new nE(Q);return r}addDocumentToTarget(e,t){if(!this.isActiveTarget(e)){return}const n=this.targetContainsDocument(e,t.key)?2:0;const r=this.ensureTargetState(e);r.addDocumentChange(t.key,n);this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t);this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(t.key,this.ensureDocumentUpdateByTarget(t.key).add(e));this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,n){if(!this.isActiveTarget(e)){return}const r=this.ensureTargetState(e);if(this.targetContainsDocument(e,t)){r.addDocumentChange(t,1)}else{r.removeDocumentChange(t)}this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e));this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).add(e));if(n){this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n)}}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){const t=this.ensureTargetState(e);const n=t.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}recordPendingTargetRequest(e){const t=this.ensureTargetState(e);t.recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);if(!t){t=new oh;this.targetStates.set(e,t)}return t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);if(!t){t=new nC(Q);this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)}return t}ensureDocumentUpdateByTarget(e){let t=this.pendingDocumentUpdatesByTarget.get(e);if(!t){t=new nC(Q);this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(e,t)}return t}isActiveTarget(e){const t=this.targetDataForActiveTarget(e)!==null;if(!t){C(op,"Detected inactive target",e)}return t}targetDataForActiveTarget(e){const t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new oh);const t=this.metadataProvider.getRemoteKeysForTarget(e);t.forEach(t=>{this.removeDocumentFromTarget(e,t,null)})}targetContainsDocument(e,t){const n=this.metadataProvider.getRemoteKeysForTarget(e);return n.has(t)}}function og(){return new nE(ea.comparator)}function oy(){return new nE(ea.comparator)}function ov(e,t,n,r,i){const s={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId};const o=t.unchangedNames;if(o){s.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??false}}return s}const ob=(()=>{const e={};e["asc"]="ASCENDING";e["desc"]="DESCENDING";return e})();const o_=(()=>{const e={};e["<"]="LESS_THAN";e["<="]="LESS_THAN_OR_EQUAL";e[">"]="GREATER_THAN";e[">="]="GREATER_THAN_OR_EQUAL";e["=="]="EQUAL";e["!="]="NOT_EQUAL";e["array-contains"]="ARRAY_CONTAINS";e["in"]="IN";e["not-in"]="NOT_IN";e["array-contains-any"]="ARRAY_CONTAINS_ANY";return e})();const oE=(()=>{const e={};e["and"]="AND";e["or"]="OR";return e})();function ow(e,t){}class oS{constructor(e,t){this.databaseId=e;this.useProto3Json=t}}function oT(e){const t=e.code===undefined?k.UNKNOWN:s5(e.code);return new M(t,e.message||"")}function oC(e,t){if(e.useProto3Json||nZ(t)){return t}else{return{value:t}}}function oR(e){let t;if(typeof e==="object"){t=e.value}else{t=e}return nZ(t)?null:t}function oI(e,t){if(e.useProto3Json){const e=new Date(t.seconds*1e3).toISOString();const n=e.replace(/\.\d*/,"").replace("Z","");const r=("000000000"+t.nanoseconds).slice(-9);return`${n}.${r}Z`}else{return{seconds:""+t.seconds,nanos:t.nanoseconds}}}function oO(e){const t=nj(e);return new eE(t.seconds,t.nanos)}function oA(e,t){if(e.useProto3Json){return t.toBase64()}else{return t.toUint8Array()}}function oP(e,t){if(e.useProto3Json){N(t===undefined||typeof t==="string",58123);return nD.fromBase64String(t?t:"")}else{N(t===undefined||t instanceof Buffer||t instanceof Uint8Array,16193);return nD.fromUint8Array(t?t:new Uint8Array)}}function oN(e,t){return oI(e,t.toTimestamp())}function ox(e){N(!!e,49232);return ew.fromTimestamp(oO(e))}function oD(e,t){return ok(e,t).canonicalString()}function ok(e,t){const n=oV(e).child("documents");return t===undefined?n:n.child(t)}function oM(e){const t=ei.fromString(e);N(ax(t),10190,{key:t.toString()});return t}function oL(e,t){return oD(e.databaseId,t.path)}function oj(e,t){const n=oM(t);if(n.get(1)!==e.databaseId.projectId){throw new M(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId)}if(n.get(3)!==e.databaseId.database){throw new M(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database)}return new ea(oz(n))}function oF(e,t){return oD(e.databaseId,t)}function oB(e){const t=oM(e);if(t.length===4){return ei.emptyPath()}return oz(t)}function oU(e){const t=new ei(["projects",e.databaseId.projectId,"databases",e.databaseId.database]);return t.canonicalString()}function oV(e){return new ei(["projects",e.projectId,"databases",e.database])}function oz(e){N(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()});return e.popFirst(5)}function oq(e,t,n){return{name:oL(e,t),fields:n.value.mapValue.fields}}function oG(e,t){return{name:oL(e,t.key),fields:t.data.value.mapValue.fields,updateTime:oI(e,t.version.toTimestamp()),createTime:oI(e,t.createTime.toTimestamp())}}function o$(e,t,n){const r=oj(e,t.name);const i=ox(t.updateTime);const s=t.createTime?ox(t.createTime):ew.min();const o=new rz({mapValue:{fields:t.fields}});const a=rG.newFoundDocument(r,i,s,o);if(n){a.setHasCommittedMutations()}return n?a.setHasCommittedMutations():a}function oH(e,t){N(!!t.found,43571);ow(t.found.name);ow(t.found.updateTime);const n=oj(e,t.found.name);const r=ox(t.found.updateTime);const i=t.found.createTime?ox(t.found.createTime):ew.min();const s=new rz({mapValue:{fields:t.found.fields}});return rG.newFoundDocument(n,r,i,s)}function oW(e,t){N(!!t.missing,3894);N(!!t.readTime,22933);const n=oj(e,t.missing);const r=ox(t.readTime);return rG.newNoDocument(n,r)}function oK(e,t){if("found"in t){return oH(e,t)}else if("missing"in t){return oW(e,t)}return A(7234,{result:t})}function oQ(e,t){let n;if("targetChange"in t){ow(t.targetChange);const r=oY(t.targetChange.targetChangeType||"NO_CHANGE");const i=t.targetChange.targetIds||[];const s=oP(e,t.targetChange.resumeToken);const o=t.targetChange.cause;const a=o&&oT(o);n=new of(r,i,s,a||null)}else if("documentChange"in t){ow(t.documentChange);const r=t.documentChange;ow(r.document);ow(r.document.name);ow(r.document.updateTime);const i=oj(e,r.document.name);const s=ox(r.document.updateTime);const o=r.document.createTime?ox(r.document.createTime):ew.min();const a=new rz({mapValue:{fields:r.document.fields}});const c=rG.newFoundDocument(i,s,o,a);const u=r.targetIds||[];const l=r.removedTargetIds||[];n=new ol(u,l,c.key,c)}else if("documentDelete"in t){ow(t.documentDelete);const r=t.documentDelete;ow(r.document);const i=oj(e,r.document);const s=r.readTime?ox(r.readTime):ew.min();const o=rG.newNoDocument(i,s);const a=r.removedTargetIds||[];n=new ol([],a,o.key,o)}else if("documentRemove"in t){ow(t.documentRemove);const r=t.documentRemove;ow(r.document);const i=oj(e,r.document);const s=r.removedTargetIds||[];n=new ol([],s,i,null)}else if("filter"in t){ow(t.filter);const e=t.filter;ow(e.targetId);const{count:r=0,unchangedNames:i}=e;const s=new s3(r,i);const o=e.targetId;n=new od(o,s)}else{return A(11601,{change:t})}return n}function oY(e){if(e==="NO_CHANGE"){return 0}else if(e==="ADD"){return 1}else if(e==="REMOVE"){return 2}else if(e==="CURRENT"){return 3}else if(e==="RESET"){return 4}else{return A(39313,{state:e})}}function oX(e){if(!("targetChange"in e)){return ew.min()}const t=e.targetChange;if(t.targetIds&&t.targetIds.length){return ew.min()}if(!t.readTime){return ew.min()}return ox(t.readTime)}function oJ(e,t){let n;if(t instanceof sV){n={update:oq(e,t.key,t.value)}}else if(t instanceof sY){n={delete:oL(e,t.key)}}else if(t instanceof sG){n={update:oq(e,t.key,t.data),updateMask:aP(t.fieldMask)}}else if(t instanceof sZ){n={verify:oL(e,t.key)}}else{return A(16599,{mutationType:t.type})}if(t.fieldTransforms.length>0){n.updateTransforms=t.fieldTransforms.map(t=>o6(e,t))}if(!t.precondition.isNone){n.currentDocument=o0(e,t.precondition)}return n}function oZ(e,t){const n=t.currentDocument?o1(t.currentDocument):sD.none();const r=t.updateTransforms?t.updateTransforms.map(t=>o4(e,t)):[];if(t.update){ow(t.update.name);const i=oj(e,t.update.name);const s=new rz({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=aN(t.updateMask);return new sG(i,s,e,n,r)}else{return new sV(i,s,n,r)}}else if(t.delete){const r=oj(e,t.delete);return new sY(r,n)}else if(t.verify){const r=oj(e,t.verify);return new sZ(r,n)}else{return A(1463,{proto:t})}}function o0(e,t){if(t.updateTime!==undefined){return{updateTime:oN(e,t.updateTime)}}else if(t.exists!==undefined){return{exists:t.exists}}else{return A(27497)}}function o1(e){if(e.updateTime!==undefined){return sD.updateTime(ox(e.updateTime))}else if(e.exists!==undefined){return sD.exists(e.exists)}else{return sD.none()}}function o2(e,t){let n=e.updateTime?ox(e.updateTime):ox(t);if(n.isEqual(ew.min())){n=ox(t)}return new sx(n,e.transformResults||[])}function o3(e,t){if(e&&e.length>0){N(t!==undefined,14353);return e.map(e=>o2(e,t))}else{return[]}}function o6(e,t){const n=t.transform;if(n instanceof s_){return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}}else if(n instanceof sE){return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}}}else if(n instanceof sS){return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}}}else if(n instanceof sC){return{fieldPath:t.field.canonicalString(),increment:n.operand}}else{throw A(20930,{transform:t.transform})}}function o4(e,t){let n=null;if("setToServerValue"in t){N(t.setToServerValue==="REQUEST_TIME",16630,{proto:t});n=new s_}else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new sE(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new sS(e)}else if("increment"in t){n=new sC(e,t.increment)}else{A(16584,{proto:t})}const r=eo.fromServerFormat(t.fieldPath);return new sA(r,n)}function o8(e,t){return{documents:[oF(e,t.path)]}}function o5(e){const t=e.documents.length;N(t===1,1966,{count:t});const n=e.documents[0];return iV(iD(oB(n)))}function o7(e,t){const n={structuredQuery:{}};const r=t.path;let i;if(t.collectionGroup!==null){i=r;n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:true}]}else{i=r.popLast();n.structuredQuery.from=[{collectionId:r.lastSegment()}]}n.parent=oF(e,i);const s=as(t.filters);if(s){n.structuredQuery.where=s}const o=ac(t.orderBy);if(o){n.structuredQuery.orderBy=o}const a=oC(e,t.limit);if(a!==null){n.structuredQuery.limit=a}if(t.startAt){n.structuredQuery.startAt=al(t.startAt)}if(t.endAt){n.structuredQuery.endAt=ad(t.endAt)}return{queryTarget:n,parent:i}}function o9(e,t,n,r){const{queryTarget:i,parent:s}=o7(e,t);const o={};const a=[];let c=0;n.forEach(e=>{const t=r?e.alias:`aggregate_${c++}`;o[t]=e.alias;if(e.aggregateType==="count"){a.push({alias:t,count:{}})}else if(e.aggregateType==="avg"){a.push({alias:t,avg:{field:a_(e.fieldPath)}})}else if(e.aggregateType==="sum"){a.push({alias:t,sum:{field:a_(e.fieldPath)}})}});return{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},aliasMap:o,parent:s}}function ae(e){let t=oB(e.parent);const n=e.structuredQuery;const r=n.from?n.from.length:0;let i=null;if(r>0){N(r===1,65062);const e=n.from[0];if(e.allDescendants){i=e.collectionId}else{t=t.child(e.collectionId)}}let s=[];if(n.where){s=ao(n.where)}let o=[];if(n.orderBy){o=au(n.orderBy)}let a=null;if(n.limit){a=oR(n.limit)}let c=null;if(n.startAt){c=af(n.startAt)}let u=null;if(n.endAt){u=ah(n.endAt)}return ix(t,i,o,s,a,"F",c,u)}function at(e){return iV(ae(e))}function an(e,t){const n=ar(t.purpose);if(n==null){return null}else{return{"goog-listen-tags":n}}}function ar(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return A(28987,{purpose:e})}}function ai(e,t){let n;const r=t.target;if(iE(r)){n={documents:o8(e,r)}}else{n={query:o7(e,r).queryTarget}}n.targetId=t.targetId;if(t.resumeToken.approximateByteSize()>0){n.resumeToken=oA(e,t.resumeToken);const r=oC(e,t.expectedCount);if(r!==null){n.expectedCount=r}}else if(t.snapshotVersion.compareTo(ew.min())>0){n.readTime=oI(e,t.snapshotVersion.toTimestamp());const r=oC(e,t.expectedCount);if(r!==null){n.expectedCount=r}}return n}function as(e){if(e.length===0){return}return aT(r3.create(e,"and"))}function ao(e){const t=aa(e);if(t instanceof r3&&r8(t)){return t.getFilters()}return[t]}function aa(e){if(e.unaryFilter!==undefined){return aI(e)}else if(e.fieldFilter!==undefined){return aO(e)}else if(e.compositeFilter!==undefined){return aA(e)}else{return A(30097,{filter:e})}}function ac(e){if(e.length===0){return}return e.map(e=>aw(e))}function au(e){return e.map(e=>aS(e))}function al(e){return{before:e.inclusive,values:e.position}}function ad(e){return{before:!e.inclusive,values:e.position}}function af(e){const t=!!e.before;const n=e.values||[];return new rH(n,t)}function ah(e){const t=!e.before;const n=e.values||[];return new rH(n,t)}function ap(e){return ob[e]}function am(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return undefined}}function ag(e){return o_[e]}function ay(e){return oE[e]}function av(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return A(58110);default:return A(50506)}}function ab(e){switch(e){case"AND":return"and";case"OR":return"or";default:return A(1026)}}function a_(e){return{fieldPath:e.canonicalString()}}function aE(e){return eo.fromServerFormat(e.fieldPath)}function aw(e){return{field:a_(e.field),direction:ap(e.dir)}}function aS(e){return new rX(aE(e.field),am(e.direction))}function aT(e){if(e instanceof r2){return aR(e)}else if(e instanceof r3){return aC(e)}else{return A(54877,{filter:e})}}function aC(e){const t=e.getFilters().map(e=>aT(e));if(t.length===1){return t[0]}return{compositeFilter:{op:ay(e.op),filters:t}}}function aR(e){if(e.op==="=="){if(rx(e.value)){return{unaryFilter:{field:a_(e.field),op:"IS_NAN"}}}else if(rN(e.value)){return{unaryFilter:{field:a_(e.field),op:"IS_NULL"}}}}else if(e.op==="!="){if(rx(e.value)){return{unaryFilter:{field:a_(e.field),op:"IS_NOT_NAN"}}}else if(rN(e.value)){return{unaryFilter:{field:a_(e.field),op:"IS_NOT_NULL"}}}}return{fieldFilter:{field:a_(e.field),op:ag(e.op),value:e.value}}}function aI(e){switch(e.unaryFilter.op){case"IS_NAN":const t=aE(e.unaryFilter.field);return r2.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=aE(e.unaryFilter.field);return r2.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=aE(e.unaryFilter.field);return r2.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=aE(e.unaryFilter.field);return r2.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return A(61313);default:return A(60726)}}function aO(e){return r2.create(aE(e.fieldFilter.field),av(e.fieldFilter.op),e.fieldFilter.value)}function aA(e){return r3.create(e.compositeFilter.filters.map(e=>aa(e)),ab(e.compositeFilter.op))}function aP(e){const t=[];e.fields.forEach(e=>t.push(e.canonicalString()));return{fieldPaths:t}}function aN(e){const t=e.fieldPaths||[];return new nA(t.map(e=>eo.fromServerFormat(e)))}function ax(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class aD{constructor(e,t,n,r,i=ew.min(),s=ew.min(),o=nD.EMPTY_BYTE_STRING,a=null){this.target=e;this.targetId=t;this.purpose=n;this.sequenceNumber=r;this.snapshotVersion=i;this.lastLimboFreeSnapshotVersion=s;this.resumeToken=o;this.expectedCount=a}withSequenceNumber(e){return new aD(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new aD(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aD(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aD(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ak{constructor(e){this.remoteSerializer=e}}function aM(e,t){let n;if(t.document){n=o$(e.remoteSerializer,t.document,!!t.hasCommittedMutations)}else if(t.noDocument){const e=ea.fromSegments(t.noDocument.path);const r=aU(t.noDocument.readTime);n=rG.newNoDocument(e,r);if(t.hasCommittedMutations){n.setHasCommittedMutations()}}else if(t.unknownDocument){const e=ea.fromSegments(t.unknownDocument.path);const r=aU(t.unknownDocument.version);n=rG.newUnknownDocument(e,r)}else{return A(56709)}if(t.readTime){n.setReadTime(aF(t.readTime))}return n}function aL(e,t){const n=t.key;const r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:aj(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument()){r.document=oG(e.remoteSerializer,t)}else if(t.isNoDocument()){r.noDocument={path:n.path.toArray(),readTime:aB(t.version)}}else if(t.isUnknownDocument()){r.unknownDocument={path:n.path.toArray(),version:aB(t.version)}}else{return A(57904,{document:t})}return r}function aj(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aF(e){const t=new eE(e[0],e[1]);return ew.fromTimestamp(t)}function aB(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function aU(e){const t=new eE(e.seconds,e.nanoseconds);return ew.fromTimestamp(t)}function aV(e,t,n){const r=n.baseMutations.map(t=>oJ(e.remoteSerializer,t));const i=n.mutations.map(t=>oJ(e.remoteSerializer,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}function az(e,t){const n=(t.baseMutations||[]).map(t=>oZ(e.remoteSerializer,t));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];const r=e+1<t.mutations.length&&t.mutations[e+1].transform!==undefined;if(r){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms;t.mutations.splice(e+1,1);++e}}const r=t.mutations.map(t=>oZ(e.remoteSerializer,t));const i=eE.fromMillis(t.localWriteTimeMs);return new s0(t.batchId,i,n,r)}function aq(e){const t=aU(e.readTime);const n=e.lastLimboFreeSnapshotVersion!==undefined?aU(e.lastLimboFreeSnapshotVersion):ew.min();let r;if(a$(e.query)){r=o5(e.query)}else{r=at(e.query)}return new aD(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,nD.fromBase64String(e.resumeToken))}function aG(e,t){const n=aB(t.snapshotVersion);const r=aB(t.lastLimboFreeSnapshotVersion);let i;if(iE(t.target)){i=o8(e.remoteSerializer,t.target)}else{i=o7(e.remoteSerializer,t.target).queryTarget}const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:iv(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function a$(e){return e.documents!==undefined}function aH(e){return{id:e.bundleId,createTime:aU(e.createTime),version:e.version}}function aW(e){return{bundleId:e.id,createTime:aB(ox(e.createTime)),version:e.version}}function aK(e){return{name:e.name,query:aY(e.bundledQuery),readTime:aU(e.readTime)}}function aQ(e){return{name:e.name,readTime:aB(ox(e.readTime)),bundledQuery:e.bundledQuery}}function aY(e){const t=ae({parent:e.parent,structuredQuery:e.structuredQuery});if(e.limitType==="LAST"){return iH(t,t.limit,"L")}return t}function aX(e){return{name:e.name,query:aY(e.bundledQuery),readTime:ox(e.readTime)}}function aJ(e){return{id:e.id,version:e.version,createTime:ox(e.createTime)}}function aZ(e,t){return new s2(t.largestBatchId,oZ(e.remoteSerializer,t.overlayMutation))}function a0(e,t,n){const[r,i,s]=a1(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:oJ(e.remoteSerializer,n.mutation)}}function a1(e,t){const n=t.path.lastSegment();const r=tt(t.path.popLast());return[e,r,n]}function a2(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}function a3(e,t){const n=t?new eD(t.sequenceNumber,new eL(aU(t.readTime),new ea(ti(t.documentKey)),t.largestBatchId)):eD.empty();const r=e.fields.map(([e,t])=>new eN(eo.fromServerFormat(e),t));return new eC(e.indexId,e.collectionGroup,r,n)}function a6(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:aB(r.readTime),documentKey:tt(r.documentKey.path),largestBatchId:r.largestBatchId}}class a4{getBundleMetadata(e,t){return a8(e).get(t).next(e=>{if(e){return aH(e)}return undefined})}saveBundleMetadata(e,t){return a8(e).put(aW(t))}getNamedQuery(e,t){return a5(e).get(t).next(e=>{if(e){return aK(e)}return undefined})}saveNamedQuery(e,t){return a5(e).put(aQ(t))}}function a8(e){return ng(e,tV)}function a5(e){return ng(e,tq)}class a7{constructor(e,t){this.serializer=e;this.userId=t}static forUser(e,t){const n=t.uid||"";return new a7(e,n)}getOverlay(e,t){return a9(e).get(a1(this.userId,t)).next(e=>{if(e){return aZ(this.serializer,e)}return null})}getOverlays(e,t){const n=sr();return eV.forEach(t,t=>{return this.getOverlay(e,t).next(e=>{if(e!==null){n.set(t,e)}})}).next(()=>n)}saveOverlays(e,t,n){const r=[];n.forEach((n,i)=>{const s=new s2(t,i);r.push(this.saveOverlay(e,s))});return eV.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(tt(e.getCollectionPath())));const i=[];r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],false,true);i.push(a9(e).deleteAll(t4,r))});return eV.waitFor(i)}getOverlaysForCollection(e,t,n){const r=sr();const i=tt(t);const s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],true);return a9(e).loadAll(t4,s).next(e=>{for(const t of e){const e=aZ(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=sr();let s=undefined;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],true);return a9(e).iterate({index:t5,range:o},(e,t,n)=>{const o=aZ(this.serializer,t);if(i.size()<r||o.largestBatchId===s){i.set(o.getKey(),o);s=o.largestBatchId}else{n.done()}}).next(()=>i)}saveOverlay(e,t){return a9(e).put(a0(this.serializer,this.userId,t))}}function a9(e){return ng(e,t3)}class ce{globalsStore(e){return ng(e,t9)}getSessionToken(e){const t=this.globalsStore(e);return t.get("sessionToken").next(e=>{const t=e?.value;return t?nD.fromUint8Array(t):nD.EMPTY_BYTE_STRING})}setSessionToken(e,t){const n=this.globalsStore(e);return n.put({name:"sessionToken",value:t.toUint8Array()})}}const ct=5;const cn=10;const cr=13;const ci=15;const cs=20;const co=25;const ca=30;const cc=37;const cu=45;const cl=50;const cd=53;const cf=55;const ch=60;const cp=2;class cm{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t);t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e){this.writeValueTypeLabel(t,ct)}else if("booleanValue"in e){this.writeValueTypeLabel(t,cn);t.writeNumber(e.booleanValue?1:0)}else if("integerValue"in e){this.writeValueTypeLabel(t,ci);t.writeNumber(nF(e.integerValue))}else if("doubleValue"in e){const n=nF(e.doubleValue);if(isNaN(n)){this.writeValueTypeLabel(t,cr)}else{this.writeValueTypeLabel(t,ci);if(n0(n)){t.writeNumber(0)}else{t.writeNumber(n)}}}else if("timestampValue"in e){let n=e.timestampValue;this.writeValueTypeLabel(t,cs);if(typeof n==="string"){n=nj(n)}t.writeString(`${n.seconds||""}`);t.writeNumber(n.nanos||0)}else if("stringValue"in e){this.writeIndexString(e.stringValue,t);this.writeTruncationMarker(t)}else if("bytesValue"in e){this.writeValueTypeLabel(t,ca);t.writeBytes(nB(e.bytesValue));this.writeTruncationMarker(t)}else if("referenceValue"in e){this.writeIndexEntityRef(e.referenceValue,t)}else if("geoPointValue"in e){const n=e.geoPointValue;this.writeValueTypeLabel(t,cu);t.writeNumber(n.latitude||0);t.writeNumber(n.longitude||0)}else if("mapValue"in e){if(rL(e)){this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER)}else if(rk(e)){this.writeIndexVector(e.mapValue,t)}else{this.writeIndexMap(e.mapValue,t);this.writeTruncationMarker(t)}}else if("arrayValue"in e){this.writeIndexArray(e.arrayValue,t);this.writeTruncationMarker(t)}else{A(19022,{indexValue:e})}}writeIndexString(e,t){this.writeValueTypeLabel(t,co);this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){const n=e.fields||{};this.writeValueTypeLabel(t,cf);for(const e of Object.keys(n)){this.writeIndexString(e,t);this.writeIndexValueAux(n[e],t)}}writeIndexVector(e,t){const n=e.fields||{};this.writeValueTypeLabel(t,cd);const r=n8;const i=n[r].arrayValue?.values?.length||0;this.writeValueTypeLabel(t,ci);t.writeNumber(nF(i));this.writeIndexString(r,t);this.writeIndexValueAux(n[r],t)}writeIndexArray(e,t){const n=e.values||[];this.writeValueTypeLabel(t,cl);for(const e of n){this.writeIndexValueAux(e,t)}}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,cc);const n=ea.fromName(e).path;n.forEach(e=>{this.writeValueTypeLabel(t,ch);this.writeUnlabeledIndexString(e,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(cp)}}cm.INSTANCE=new cm;const cg="\uD800";const cy="\uDBFF";const cv=0;const cb=255;const c_=1;const cE=255;const cw=255;const cS=0;const cT=64;const cC=8;const cR=1024;function cI(e){const t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e,false);return new Uint8Array(t.buffer)}function cO(e){if(e===0){return 8}let t=0;if(e>>4===0){t+=4;e=e<<4}if(e>>6===0){t+=2;e=e<<2}if(e>>7===0){t+=1}return t}function cA(e){let t=0;for(let n=0;n<8;++n){const r=cO(e[n]&255);t+=r;if(r!==8){break}}return t}function cP(e){const t=cT-cA(e);return Math.ceil(t/cC)}class cN{constructor(){this.buffer=new Uint8Array(cR);this.position=0}writeBytesAscending(e){const t=e[Symbol.iterator]();let n=t.next();while(!n.done){this.writeByteAscending(n.value);n=t.next()}this.writeSeparatorAscending()}writeBytesDescending(e){const t=e[Symbol.iterator]();let n=t.next();while(!n.done){this.writeByteDescending(n.value);n=t.next()}this.writeSeparatorDescending()}writeUtf8Ascending(e){for(const t of e){const e=t.charCodeAt(0);if(e<128){this.writeByteAscending(e)}else if(e<2048){this.writeByteAscending(15<<6|e>>>6);this.writeByteAscending(128|63&e)}else if(t<cg||cy<t){this.writeByteAscending(15<<5|e>>>12);this.writeByteAscending(128|63&e>>>6);this.writeByteAscending(128|63&e)}else{const e=t.codePointAt(0);this.writeByteAscending(15<<4|e>>>18);this.writeByteAscending(128|63&e>>>12);this.writeByteAscending(128|63&e>>>6);this.writeByteAscending(128|63&e)}}this.writeSeparatorAscending()}writeUtf8Descending(e){for(const t of e){const e=t.charCodeAt(0);if(e<128){this.writeByteDescending(e)}else if(e<2048){this.writeByteDescending(15<<6|e>>>6);this.writeByteDescending(128|63&e)}else if(t<cg||cy<t){this.writeByteDescending(15<<5|e>>>12);this.writeByteDescending(128|63&e>>>6);this.writeByteDescending(128|63&e)}else{const e=t.codePointAt(0);this.writeByteDescending(15<<4|e>>>18);this.writeByteDescending(128|63&e>>>12);this.writeByteDescending(128|63&e>>>6);this.writeByteDescending(128|63&e)}}this.writeSeparatorDescending()}writeNumberAscending(e){const t=this.toOrderedBits(e);const n=cP(t);this.ensureAvailable(1+n);this.buffer[this.position++]=n&255;for(let e=t.length-n;e<t.length;++e){this.buffer[this.position++]=t[e]&255}}writeNumberDescending(e){const t=this.toOrderedBits(e);const n=cP(t);this.ensureAvailable(1+n);this.buffer[this.position++]=~(n&255);for(let e=t.length-n;e<t.length;++e){this.buffer[this.position++]=~(t[e]&255)}}writeInfinityAscending(){this.writeEscapedByteAscending(cE);this.writeEscapedByteAscending(cw)}writeInfinityDescending(){this.writeEscapedByteDescending(cE);this.writeEscapedByteDescending(cw)}reset(){this.position=0}seed(e){this.ensureAvailable(e.length);this.buffer.set(e,this.position);this.position+=e.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(e){const t=cI(e);const n=(t[0]&128)!==0;t[0]^=n?255:128;for(let e=1;e<t.length;++e){t[e]^=n?255:0}return t}writeByteAscending(e){const t=e&255;if(t===cv){this.writeEscapedByteAscending(cv);this.writeEscapedByteAscending(cb)}else if(t===cE){this.writeEscapedByteAscending(cE);this.writeEscapedByteAscending(cS)}else{this.writeEscapedByteAscending(t)}}writeByteDescending(e){const t=e&255;if(t===cv){this.writeEscapedByteDescending(cv);this.writeEscapedByteDescending(cb)}else if(t===cE){this.writeEscapedByteDescending(cE);this.writeEscapedByteDescending(cS)}else{this.writeEscapedByteDescending(e)}}writeSeparatorAscending(){this.writeEscapedByteAscending(cv);this.writeEscapedByteAscending(c_)}writeSeparatorDescending(){this.writeEscapedByteDescending(cv);this.writeEscapedByteDescending(c_)}writeEscapedByteAscending(e){this.ensureAvailable(1);this.buffer[this.position++]=e}writeEscapedByteDescending(e){this.ensureAvailable(1);this.buffer[this.position++]=~e}ensureAvailable(e){const t=e+this.position;if(t<=this.buffer.length){return}let n=this.buffer.length*2;if(n<t){n=t}const r=new Uint8Array(n);r.set(this.buffer);this.buffer=r}}class cx{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesAscending(e)}writeString(e){this.orderedCode.writeUtf8Ascending(e)}writeNumber(e){this.orderedCode.writeNumberAscending(e)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class cD{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesDescending(e)}writeString(e){this.orderedCode.writeUtf8Descending(e)}writeNumber(e){this.orderedCode.writeNumberDescending(e)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class ck{constructor(){this.orderedCode=new cN;this.ascending=new cx(this.orderedCode);this.descending=new cD(this.orderedCode)}seed(e){this.orderedCode.seed(e)}forKind(e){return e===0?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}class cM{constructor(e,t,n,r){this._indexId=e;this._documentKey=t;this._arrayValue=n;this._directionalValue=r}successor(){const e=this._directionalValue.length;const t=e===0||this._directionalValue[e-1]===255?e+1:e;const n=new Uint8Array(t);n.set(this._directionalValue,0);if(t!==e){n.set([0],this._directionalValue.length)}else{++n[n.length-1]}return new cM(this._indexId,this._documentKey,this._arrayValue,n)}dbIndexEntry(e,t,n){return{indexId:this._indexId,uid:e,arrayValue:cF(this._arrayValue),directionalValue:cF(this._directionalValue),orderedDocumentKey:cF(t),documentKey:n.path.toArray()}}dbIndexEntryKey(e,t,n){const r=this.dbIndexEntry(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function cL(e,t){let n=e._indexId-t._indexId;if(n!==0){return n}n=cj(e._arrayValue,t._arrayValue);if(n!==0){return n}n=cj(e._directionalValue,t._directionalValue);if(n!==0){return n}return ea.comparator(e._documentKey,t._documentKey)}function cj(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(r!==0){return r}}return e.length-t.length}function cF(e){if((0,a.Ov)()){return cU(e)}return e}function cB(e){if(typeof e!=="string"){return e}return cV(e)}function cU(e){let t="";for(let n=0;n<e.length;n++){t+=String.fromCharCode(e[n])}return t}function cV(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++){t[n]=e.charCodeAt(n)}return t}class cz{constructor(e){this.inequalityFilters=new nC((e,t)=>eo.comparator(e.field,t.field));this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();this.orderBys=e.orderBy;this.equalityFilters=[];for(const t of e.filters){const e=t;if(e.isInequality()){this.inequalityFilters=this.inequalityFilters.add(e)}else{this.equalityFilters.push(e)}}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(e){N(e.collectionGroup===this.collectionId,49279);if(this.hasMultipleInequality){return false}const t=eR(e);if(t!==undefined&&!this.hasMatchingEqualityFilter(t)){return false}const n=eI(e);let r=new Set;let i=0;let s=0;for(;i<n.length;++i){if(this.hasMatchingEqualityFilter(n[i])){r=r.add(n[i].fieldPath.canonicalString())}else{break}}if(i===n.length){return true}if(this.inequalityFilters.size>0){const e=this.inequalityFilters.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.matchesFilter(e,t)||!this.matchesOrderBy(this.orderBys[s++],t)){return false}}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[s++],e)){return false}}return true}buildTargetIndex(){if(this.hasMultipleInequality){return null}let e=new nC(eo.comparator);const t=[];for(const n of this.equalityFilters){if(n.field.isKeyField()){continue}const r=n.op==="array-contains"||n.op==="array-contains-any";if(r){t.push(new eN(n.field,2))}else{if(e.has(n.field)){continue}e=e.add(n.field);t.push(new eN(n.field,0))}}for(const n of this.orderBys){if(n.field.isKeyField()){continue}if(e.has(n.field)){continue}e=e.add(n.field);t.push(new eN(n.field,n.dir==="asc"?0:1))}return new eC(eC.UNKNOWN_ID,this.collectionId,t,eD.empty())}hasMatchingEqualityFilter(e){for(const t of this.equalityFilters){if(this.matchesFilter(t,e)){return true}}return false}matchesFilter(e,t){if(e===undefined||!e.field.isEqual(t.fieldPath)){return false}const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}matchesOrderBy(e,t){if(!e.field.isEqual(t.fieldPath)){return false}return t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc"}}function cq(e){N(e instanceof r2||e instanceof r3,20012);if(e instanceof r2){if(e instanceof ih){const t=e.value.arrayValue?.values?.map(t=>r2.create(e.field,"==",t))||[];return r3.create(t,"or")}else{return e}}const t=e.filters.map(e=>cq(e));return r3.create(t,e.op)}function cG(e){if(e.getFilters().length===0){return[]}const t=cQ(cq(e));N(cW(t),7391);if(c$(t)||cH(t)){return[t]}return t.getFilters()}function c$(e){return e instanceof r2}function cH(e){return e instanceof r3&&r8(e)}function cW(e){return c$(e)||cH(e)||cK(e)}function cK(e){if(e instanceof r3){if(r4(e)){for(const t of e.getFilters()){if(!c$(t)&&!cH(t)){return false}}return true}}return false}function cQ(e){N(e instanceof r2||e instanceof r3,34018);if(e instanceof r2){return e}if(e.filters.length===1){return cQ(e.filters[0])}const t=e.filters.map(e=>cQ(e));let n=r3.create(t,e.op);n=c0(n);if(cW(n)){return n}N(n instanceof r3,64498);N(r6(n),40251);N(n.filters.length>1,57927);return n.filters.reduce((e,t)=>cY(e,t))}function cY(e,t){N(e instanceof r2||e instanceof r3,38388);N(t instanceof r2||t instanceof r3,25473);let n;if(e instanceof r2){if(t instanceof r2){n=cX(e,t)}else{n=cZ(e,t)}}else{if(t instanceof r2){n=cZ(t,e)}else{n=cJ(e,t)}}return c0(n)}function cX(e,t){return r3.create([e,t],"and")}function cJ(e,t){N(e.filters.length>0&&t.filters.length>0,48005);if(r6(e)&&r6(t)){return ir(e,t.getFilters())}const n=r4(e)?e:t;const r=r4(e)?t:e;const i=n.filters.map(e=>cY(e,r));return r3.create(i,"or")}function cZ(e,t){if(r6(t)){return ir(t,e.getFilters())}else{const n=t.filters.map(t=>cY(e,t));return r3.create(n,"or")}}function c0(e){N(e instanceof r2||e instanceof r3,11850);if(e instanceof r2){return e}const t=e.getFilters();if(t.length===1){return c0(t[0])}if(r5(e)){return e}const n=t.map(e=>c0(e));const r=[];n.forEach(t=>{if(t instanceof r2){r.push(t)}else if(t instanceof r3){if(t.op===e.op){r.push(...t.filters)}else{r.push(t)}}});if(r.length===1){return r[0]}return r3.create(r,e.op)}class c1{constructor(){this.collectionParentIndex=new c2}addToCollectionParentIndex(e,t){this.collectionParentIndex.add(t);return eV.resolve()}getCollectionParents(e,t){return eV.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return eV.resolve()}deleteFieldIndex(e,t){return eV.resolve()}deleteAllFieldIndexes(e){return eV.resolve()}createTargetIndexes(e,t){return eV.resolve()}getDocumentsMatchingTarget(e,t){return eV.resolve(null)}getIndexType(e,t){return eV.resolve(0)}getFieldIndexes(e,t){return eV.resolve([])}getNextCollectionGroupToUpdate(e){return eV.resolve(null)}getMinOffset(e,t){return eV.resolve(eL.min())}getMinOffsetFromCollectionGroup(e,t){return eV.resolve(eL.min())}updateCollectionGroup(e,t,n){return eV.resolve()}updateIndexEntries(e,t){return eV.resolve()}}class c2{constructor(){this.index={}}add(e){const t=e.lastSegment();const n=e.popLast();const r=this.index[t]||new nC(ei.comparator);const i=!r.has(n);this.index[t]=r.add(n);return i}has(e){const t=e.lastSegment();const n=e.popLast();const r=this.index[t];return r&&r.has(n)}getEntries(e){const t=this.index[e]||new nC(ei.comparator);return t.toArray()}}const c3="IndexedDbIndexManager";const c6=new Uint8Array(0);class c4{constructor(e,t){this.databaseId=t;this.collectionParentsCache=new c2;this.targetToDnfSubTargets=new i8(e=>iv(e),(e,t)=>i_(e,t));this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.collectionParentsCache.has(t)){const n=t.lastSegment();const r=t.popLast();e.addOnCommittedListener(()=>{this.collectionParentsCache.add(t)});const i={collectionId:n,parent:tt(r)};return c8(e).put(i)}return eV.resolve()}getCollectionParents(e,t){const n=[];const r=IDBKeyRange.bound([t,""],[et(t),""],false,true);return c8(e).loadAll(r).next(e=>{for(const r of e){if(r.collectionId!==t){break}n.push(ti(r.parent))}return n})}addFieldIndex(e,t){const n=c7(e);const r=a2(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=c9(e);return i.next(e=>{n.put(a6(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}else{return i.next()}}deleteFieldIndex(e,t){const n=c7(e);const r=c9(e);const i=c5(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],false,true))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],false,true)))}deleteAllFieldIndexes(e){const t=c7(e);const n=c5(e);const r=c9(e);return t.deleteAll().next(()=>n.deleteAll()).next(()=>r.deleteAll())}createTargetIndexes(e,t){return eV.forEach(this.getSubTargets(t),t=>{return this.getIndexType(e,t).next(n=>{if(n===0||n===1){const n=new cz(t);const r=n.buildTargetIndex();if(r!=null){return this.addFieldIndex(e,r)}}})})}getDocumentsMatchingTarget(e,t){const n=c5(e);let r=true;const i=new Map;return eV.forEach(this.getSubTargets(t),t=>{return this.getFieldIndex(e,t).next(e=>{r&&(r=!!e);i.set(t,e)})}).next(()=>{if(!r){return eV.resolve(null)}else{let e=su();const r=[];return eV.forEach(i,(i,s)=>{C(c3,`Using index ${eP(i)} to execute ${iv(t)}`);const o=iS(s,i);const a=iT(s,i);const c=iC(s,i);const u=iR(s,i);const l=this.encodeBound(i,s,c);const d=this.encodeBound(i,s,u);const f=this.encodeValues(i,s,a);const h=this.generateIndexRanges(i.indexId,o,l,c.inclusive,d,u.inclusive,f);return eV.forEach(h,i=>{return n.loadFirst(i,t.limit).next(t=>{t.forEach(t=>{const n=ea.fromSegments(t.documentKey);if(!e.has(n)){e=e.add(n);r.push(n)}})})})}).next(()=>r)}})}getSubTargets(e){let t=this.targetToDnfSubTargets.get(e);if(t){return t}if(e.filters.length===0){t=[e]}else{const n=cG(r3.create(e.filters,"and"));t=n.map(t=>iy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))}this.targetToDnfSubTargets.set(e,t);return t}generateIndexRanges(e,t,n,r,i,s,o){const a=(t!=null?t.length:1)*Math.max(n.length,i.length);const c=a/(t!=null?t.length:1);const u=[];for(let l=0;l<a;++l){const a=t?this.encodeSingleElement(t[l/c]):c6;const d=this.generateLowerBound(e,a,n[l%c],r);const f=this.generateUpperBound(e,a,i[l%c],s);const h=o.map(t=>this.generateLowerBound(e,a,t,true));u.push(...this.createRange(d,f,h))}return u}generateLowerBound(e,t,n,r){const i=new cM(e,ea.empty(),t,n);return r?i:i.successor()}generateUpperBound(e,t,n,r){const i=new cM(e,ea.empty(),t,n);return r?i.successor():i}getFieldIndex(e,t){const n=new cz(t);const r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e){const e=n.servedByIndex(r);if(e&&(!t||r.fields.length>t.fields.length)){t=r}}return t})}getIndexType(e,t){let n=2;const r=this.getSubTargets(t);return eV.forEach(r,t=>{return this.getFieldIndex(e,t).next(e=>{if(!e){n=0}else if(n!==0&&e.fields.length<iA(t)){n=1}})}).next(()=>{if(iP(t)&&r.length>1&&n===2){return 1}return n})}encodeDirectionalElements(e,t){const n=new ck;for(const r of eI(e)){const e=t.data.field(r.fieldPath);if(e==null){return null}const i=n.forKind(r.kind);cm.INSTANCE.writeIndexValue(e,i)}return n.encodedBytes()}encodeSingleElement(e){const t=new ck;cm.INSTANCE.writeIndexValue(e,t.forKind(0));return t.encodedBytes()}encodeDirectionalKey(e,t){const n=new ck;cm.INSTANCE.writeIndexValue(rR(this.databaseId,t),n.forKind(eO(e)));return n.encodedBytes()}encodeValues(e,t,n){if(n===null){return[]}let r=[];r.push(new ck);let i=0;for(const s of eI(e)){const e=n[i++];for(const n of r){if(this.isInFilter(t,s.fieldPath)&&rP(e)){r=this.expandIndexValues(r,s,e)}else{const t=n.forKind(s.kind);cm.INSTANCE.writeIndexValue(e,t)}}}return this.getEncodedBytes(r)}encodeBound(e,t,n){return this.encodeValues(e,t,n.position)}getEncodedBytes(e){const t=[];for(let n=0;n<e.length;++n){t[n]=e[n].encodedBytes()}return t}expandIndexValues(e,t,n){const r=[...e];const i=[];for(const e of n.arrayValue.values||[]){for(const n of r){const r=new ck;r.seed(n.encodedBytes());cm.INSTANCE.writeIndexValue(e,r.forKind(t.kind));i.push(r)}}return i}isInFilter(e,t){return!!e.filters.find(e=>e instanceof r2&&e.field.isEqual(t)&&(e.op==="in"||e.op==="not-in"))}getFieldIndexes(e,t){const n=c7(e);const r=c9(e);return(t?n.loadAll(tW,IDBKeyRange.bound(t,t)):n.loadAll()).next(e=>{const t=[];return eV.forEach(e,e=>{return r.get([e.indexId,this.uid]).next(n=>{t.push(a3(e,n))})}).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>{if(e.length===0){return null}e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return n!==0?n:Q(e.collectionGroup,t.collectionGroup)});return e[0].collectionGroup})}updateCollectionGroup(e,t,n){const r=c7(e);const i=c9(e);return this.getNextSequenceNumber(e).next(e=>r.loadAll(tW,IDBKeyRange.bound(t,t)).next(t=>eV.forEach(t,t=>i.put(a6(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return eV.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);const s=i?eV.resolve(i):this.getFieldIndexes(e,t.collectionGroup);return s.next(i=>{n.set(t.collectionGroup,i);return eV.forEach(i,n=>{return this.getExistingIndexEntries(e,t,n).next(t=>{const i=this.computeIndexEntries(r,n);if(!t.isEqual(i)){return this.updateEntries(e,r,n,t,i)}return eV.resolve()})})})})}addIndexEntry(e,t,n,r){const i=c5(e);return i.put(r.dbIndexEntry(this.uid,this.encodeDirectionalKey(n,t.key),t.key))}deleteIndexEntry(e,t,n,r){const i=c5(e);return i.delete(r.dbIndexEntryKey(this.uid,this.encodeDirectionalKey(n,t.key),t.key))}getExistingIndexEntries(e,t,n){const r=c5(e);let i=new nC(cL);return r.iterate({index:t1,range:IDBKeyRange.only([n.indexId,this.uid,cF(this.encodeDirectionalKey(n,t))])},(e,r)=>{i=i.add(new cM(n.indexId,t,cB(r.arrayValue),cB(r.directionalValue)))}).next(()=>i)}computeIndexEntries(e,t){let n=new nC(cL);const r=this.encodeDirectionalElements(t,e);if(r==null){return n}const i=eR(t);if(i!=null){const s=e.data.field(i.fieldPath);if(rP(s)){for(const i of s.arrayValue.values||[]){n=n.add(new cM(t.indexId,e.key,this.encodeSingleElement(i),r))}}}else{n=n.add(new cM(t.indexId,e.key,c6,r))}return n}updateEntries(e,t,n,r,i){C(c3,"Updating index entries for document '%s'",t.key);const s=[];nI(r,i,cL,r=>{s.push(this.addIndexEntry(e,t,n,r))},r=>{s.push(this.deleteIndexEntry(e,t,n,r))});return eV.waitFor(s)}getNextSequenceNumber(e){let t=1;const n=c9(e);return n.iterate({index:tX,reverse:true,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done();t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>cL(e,t)).filter((e,t,n)=>!t||cL(e,n[t-1])!==0);const r=[];r.push(e);for(const i of n){const n=cL(i,e);const s=cL(i,t);if(n===0){r[0]=e.successor()}else if(n>0&&s<0){r.push(i);r.push(i.successor())}else if(s>0){break}}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.isRangeMatchable(r[e],r[e+1])){return[]}const t=r[e].dbIndexEntryKey(this.uid,c6,ea.empty());const n=r[e+1].dbIndexEntryKey(this.uid,c6,ea.empty());i.push(IDBKeyRange.bound(t,n))}return i}isRangeMatchable(e,t){return cL(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ue)}getMinOffset(e,t){return eV.mapArray(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>e?e:A(44426))).next(ue)}}function c8(e){return ng(e,tj)}function c5(e){return ng(e,tZ)}function c7(e){return ng(e,t$)}function c9(e){return ng(e,tQ)}function ue(e){N(e.length!==0,28825);let t=e[0].indexState.offset;let n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;if(ej(i,t)<0){t=i}if(n<i.largestBatchId){n=i.largestBatchId}}return new eL(t.readTime,t.documentKey,n)}function ut(e,t,n){const r=e.store(tl);const i=e.store(tv);const s=[];const o=IDBKeyRange.only(n.batchId);let a=0;const c=r.iterate({range:o},(e,t,n)=>{a++;return n.delete()});s.push(c.next(()=>{N(a===1,47070,{batchId:n.batchId})}));const u=[];for(const e of n.mutations){const r=tg(t,e.key.path,n.batchId);s.push(i.delete(r));u.push(e.key)}return eV.waitFor(s).next(()=>u)}function un(e){if(!e){return 0}let t;if(e.document){t=e.document}else if(e.unknownDocument){t=e.unknownDocument}else if(e.noDocument){t=e.noDocument}else{throw A(14731)}return JSON.stringify(t).length}class ur{constructor(e,t,n,r){this.userId=e;this.serializer=t;this.indexManager=n;this.referenceDelegate=r;this.documentKeysByBatchId={}}static forUser(e,t,n,r){N(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new ur(i,t,n,r)}checkEmpty(e){let t=true;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uo(e).iterate({index:tf,range:n},(e,n,r)=>{t=false;r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=ua(e);const s=uo(e);return s.add({}).next(o=>{N(typeof o==="number",49019);const a=new s0(o,t,n,r);const c=aV(this.serializer,this.userId,a);const u=[];let l=new nC((e,t)=>Q(e.canonicalString(),t.canonicalString()));for(const e of r){const t=tg(this.userId,e.key.path,o);l=l.add(e.key.path.popLast());u.push(s.put(c));u.push(i.put(t,ty))}l.forEach(t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))});e.addOnCommittedListener(()=>{this.documentKeysByBatchId[o]=a.keys()});return eV.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return uo(e).get(t).next(e=>{if(e){N(e.userId===this.userId,48,`Unexpected user for mutation batch`,{userId:e.userId,batchId:t});return az(this.serializer,e)}return null})}lookupMutationKeys(e,t){if(this.documentKeysByBatchId[t]){return eV.resolve(this.documentKeysByBatchId[t])}else{return this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();this.documentKeysByBatchId[t]=n;return n}else{return null}})}}getNextMutationBatchAfterBatchId(e,t){const n=t+1;const r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return uo(e).iterate({index:tf,range:r},(e,t,r)=>{if(t.userId===this.userId){N(t.batchId>=n,47524,{nextBatchId:n});i=az(this.serializer,t)}r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=nJ;return uo(e).iterate({index:tf,range:t,reverse:true},(e,t,r)=>{n=t.batchId;r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,nJ],[this.userId,Number.POSITIVE_INFINITY]);return uo(e).loadAll(tf,t).next(e=>e.map(e=>az(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=tm(this.userId,t.path);const r=IDBKeyRange.lowerBound(n);const i=[];return ua(e).iterate({range:r},(n,r,s)=>{const[o,a,c]=n;const u=ti(a);if(o!==this.userId||!t.path.isEqual(u)){s.done();return}return uo(e).get(c).next(e=>{if(!e){throw A(61480,{indexKey:n,batchId:c})}N(e.userId===this.userId,10503,`Unexpected user for mutation batch`,{userId:e.userId,batchId:c});i.push(az(this.serializer,e))})}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nC(Q);const r=[];t.forEach(t=>{const i=tm(this.userId,t.path);const s=IDBKeyRange.lowerBound(i);const o=ua(e).iterate({range:s},(e,r,i)=>{const[s,o,a]=e;const c=ti(o);if(s!==this.userId||!t.path.isEqual(c)){i.done();return}n=n.add(a)});r.push(o)});return eV.waitFor(r).next(()=>this.lookupMutationBatches(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path;const r=n.length+1;const i=tm(this.userId,n);const s=IDBKeyRange.lowerBound(i);let o=new nC(Q);return ua(e).iterate({range:s},(e,t,i)=>{const[s,a,c]=e;const u=ti(a);if(s!==this.userId||!n.isPrefixOf(u)){i.done();return}if(u.length!==r){return}o=o.add(c)}).next(()=>this.lookupMutationBatches(e,o))}lookupMutationBatches(e,t){const n=[];const r=[];t.forEach(t=>{r.push(uo(e).get(t).next(e=>{if(e===null){throw A(35274,{batchId:t})}N(e.userId===this.userId,9748,`Unexpected user for mutation batch`,{userId:e.userId,batchId:t});n.push(az(this.serializer,e))}))});return eV.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return ut(e.simpleDbTransaction,this.userId,t).next(n=>{e.addOnCommittedListener(()=>{this.removeCachedMutationKeys(t.batchId)});return eV.forEach(n,t=>{return this.referenceDelegate.markPotentiallyOrphaned(e,t)})})}removeCachedMutationKeys(e){delete this.documentKeysByBatchId[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t){return eV.resolve()}const n=IDBKeyRange.lowerBound(tp(this.userId));const r=[];return ua(e).iterate({range:n},(e,t,n)=>{const i=e[0];if(i!==this.userId){n.done();return}else{const t=ti(e[1]);r.push(t)}}).next(()=>{N(r.length===0,56720,{danglingKeys:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return ui(e,this.userId,t)}getMutationQueueMetadata(e){return uc(e).get(this.userId).next(e=>{return e||{userId:this.userId,lastAcknowledgedBatchId:nJ,lastStreamToken:""}})}}function ui(e,t,n){const r=tm(t,n.path);const i=r[1];const s=IDBKeyRange.lowerBound(r);let o=false;return ua(e).iterate({range:s,keysOnly:true},(e,n,r)=>{const[s,a,c]=e;if(s===t&&a===i){o=true}r.done()}).next(()=>o)}function us(e,t){let n=false;return uc(e).iterateSerial(r=>{return ui(e,r,t).next(e=>{if(e){n=true}return eV.resolve(!e)})}).next(()=>n)}function uo(e){return ng(e,tl)}function ua(e){return ng(e,tv)}function uc(e){return ng(e,tc)}const uu=2;class ul{constructor(e){this.lastId=e}next(){this.lastId+=uu;return this.lastId}static forTargetCache(){return new ul(2-uu)}static forSyncEngine(){return new ul(1-uu)}}class ud{constructor(e,t){this.referenceDelegate=e;this.serializer=t}allocateTargetId(e){return this.retrieveMetadata(e).next(t=>{const n=new ul(t.highestTargetId);t.highestTargetId=n.next();return this.saveMetadata(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.retrieveMetadata(e).next(e=>{return ew.fromTimestamp(new eE(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}getHighestSequenceNumber(e){return this.retrieveMetadata(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.retrieveMetadata(e).next(r=>{r.highestListenSequenceNumber=t;if(n){r.lastRemoteSnapshotVersion=n.toTimestamp()}if(t>r.highestListenSequenceNumber){r.highestListenSequenceNumber=t}return this.saveMetadata(e,r)})}addTargetData(e,t){return this.saveTargetData(e,t).next(()=>{return this.retrieveMetadata(e).next(n=>{n.targetCount+=1;this.updateMetadataFromTargetData(t,n);return this.saveMetadata(e,n)})})}updateTargetData(e,t){return this.saveTargetData(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>uf(e).delete(t.targetId)).next(()=>this.retrieveMetadata(e)).next(t=>{N(t.targetCount>0,8065);t.targetCount-=1;return this.saveMetadata(e,t)})}removeTargets(e,t,n){let r=0;const i=[];return uf(e).iterate((s,o)=>{const a=aq(o);if(a.sequenceNumber<=t&&n.get(a.targetId)===null){r++;i.push(this.removeTargetData(e,a))}}).next(()=>eV.waitFor(i)).next(()=>r)}forEachTarget(e,t){return uf(e).iterate((e,n)=>{const r=aq(n);t(r)})}retrieveMetadata(e){return uh(e).get(tM).next(e=>{N(e!==null,2888);return e})}saveMetadata(e,t){return uh(e).put(tM,t)}saveTargetData(e,t){return uf(e).put(aG(this.serializer,t))}updateMetadataFromTargetData(e,t){let n=false;if(e.targetId>t.highestTargetId){t.highestTargetId=e.targetId;n=true}if(e.sequenceNumber>t.highestListenSequenceNumber){t.highestListenSequenceNumber=e.sequenceNumber;n=true}return n}getTargetCount(e){return this.retrieveMetadata(e).next(e=>e.targetCount)}getTargetData(e,t){const n=iv(t);const r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return uf(e).iterate({range:r,index:tA},(e,n,r)=>{const s=aq(n);if(i_(t,s.target)){i=s;r.done()}}).next(()=>i)}addMatchingKeys(e,t,n){const r=[];const i=up(e);t.forEach(t=>{const s=tt(t.path);r.push(i.put({targetId:n,path:s}));r.push(this.referenceDelegate.addReference(e,n,t))});return eV.waitFor(r)}removeMatchingKeys(e,t,n){const r=up(e);return eV.forEach(t,t=>{const i=tt(t.path);return eV.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=up(e);const r=IDBKeyRange.bound([t],[t+1],false,true);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],false,true);const r=up(e);let i=su();return r.iterate({range:n,keysOnly:true},(e,t,n)=>{const r=ti(e[1]);const s=new ea(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=tt(t.path);const r=IDBKeyRange.bound([n],[et(n)],false,true);let i=0;return up(e).iterate({index:tD,keysOnly:true,range:r},([e,t],n,r)=>{if(e!==0){i++;r.done()}}).next(()=>i>0)}getTargetDataForTarget(e,t){return uf(e).get(t).next(e=>{if(e){return aq(e)}else{return null}})}}function uf(e){return ng(e,tI)}function uh(e){return ng(e,tL)}function up(e){return ng(e,tN)}const um={didRun:false,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};const ug=-1;const uy=40*1024*1024;class uv{static withCacheSize(e){return new uv(e,uv.DEFAULT_COLLECTION_PERCENTILE,uv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e;this.percentileToCollect=t;this.maximumSequenceNumbersToCollect=n}}uv.DEFAULT_COLLECTION_PERCENTILE=10;uv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;uv.DEFAULT=new uv(uy,uv.DEFAULT_COLLECTION_PERCENTILE,uv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);uv.DISABLED=new uv(ug,0,0);const ub="LruGarbageCollector";const u_=1*1024*1024;const uE=1*60*1e3;const uw=5*60*1e3;function uS([e,t],[n,r]){const i=Q(e,n);if(i===0){return Q(t,r)}else{return i}}class uT{constructor(e){this.maxElements=e;this.buffer=new nC(uS);this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){const t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements){this.buffer=this.buffer.add(t)}else{const e=this.buffer.last();if(uS(t,e)<0){this.buffer=this.buffer.delete(e).add(t)}}}get maxValue(){return this.buffer.last()[0]}}class uC{constructor(e,t,n){this.garbageCollector=e;this.asyncQueue=t;this.localStore=n;this.gcTask=null}start(){if(this.garbageCollector.params.cacheSizeCollectionThreshold!==ug){this.scheduleGC(uE)}}stop(){if(this.gcTask){this.gcTask.cancel();this.gcTask=null}}get started(){return this.gcTask!==null}scheduleGC(e){C(ub,`Garbage collection scheduled in ${e}ms`);this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){if(eQ(e)){C(ub,"Ignoring IndexedDB error during garbage collection: ",e)}else{await eU(e)}}await this.scheduleGC(uw)})}}class uR{constructor(e,t){this.delegate=e;this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(e=>{return Math.floor(t/100*e)})}nthSequenceNumber(e,t){if(t===0){return eV.resolve(e8.INVALID)}const n=new uT(t);return this.delegate.forEachTarget(e,e=>n.addElement(e.sequenceNumber)).next(()=>{return this.delegate.forEachOrphanedDocumentSequenceNumber(e,e=>n.addElement(e))}).next(()=>n.maxValue)}removeTargets(e,t,n){return this.delegate.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){if(this.params.cacheSizeCollectionThreshold===ug){C("LruGarbageCollector","Garbage collection skipped; disabled");return eV.resolve(um)}return this.getCacheSize(e).next(n=>{if(n<this.params.cacheSizeCollectionThreshold){C("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} `+`is lower than threshold ${this.params.cacheSizeCollectionThreshold}`);return um}else{return this.runGarbageCollection(e,t)}})}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let n;let r,i;let o,a,c,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>{if(t>this.params.maximumSequenceNumbersToCollect){C("LruGarbageCollector","Capping sequence numbers to collect down "+`to the maximum of ${this.params.maximumSequenceNumbersToCollect} `+`from ${t}`);r=this.params.maximumSequenceNumbersToCollect}else{r=t}o=Date.now();return this.nthSequenceNumber(e,r)}).next(r=>{n=r;a=Date.now();return this.removeTargets(e,n,t)}).next(t=>{i=t;c=Date.now();return this.removeOrphanedDocuments(e,n)}).next(e=>{u=Date.now();if(S()<=s.$b.DEBUG){const t="LRU Garbage Collection\n"+`	Counted targets in ${o-l}ms
`+`	Determined least recently used ${r} in `+`${a-o}ms
`+`	Removed ${i} targets in `+`${c-a}ms
`+`	Removed ${e} documents in `+`${u-c}ms
`+`Total Duration: ${u-l}ms`;C("LruGarbageCollector",t)}return eV.resolve({didRun:true,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}function uI(e,t){return new uR(e,t)}class uO{constructor(e,t){this.db=e;this.garbageCollector=uI(this,t)}getSequenceNumberCount(e){const t=this.orphanedDocumentCount(e);const n=this.db.getTargetCache().getTargetCount(e);return n.next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}forEachOrphanedDocumentSequenceNumber(e,t){return this.forEachOrphanedDocument(e,(e,n)=>t(n))}addReference(e,t,n){return uN(e,n)}removeReference(e,t,n){return uN(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return uN(e,t)}isPinned(e,t){return us(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache();const r=n.newChangeBuffer();const i=[];let s=0;const o=this.forEachOrphanedDocument(e,(n,o)=>{if(o<=t){const t=this.isPinned(e,n).next(t=>{if(!t){s++;return r.getEntry(e,n).next(()=>{r.removeEntry(n,ew.min());return up(e).delete(uA(n))})}});i.push(t)}});return o.next(()=>eV.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return uN(e,t)}forEachOrphanedDocument(e,t){const n=up(e);let r=e8.INVALID;let i;return n.iterate({index:tD},([e,n],{path:s,sequenceNumber:o})=>{if(e===0){if(r!==e8.INVALID){t(new ea(ti(i)),r)}r=o;i=s}else{r=e8.INVALID}}).next(()=>{if(r!==e8.INVALID){t(new ea(ti(i)),r)}})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uA(e){return[0,tt(e.path)]}function uP(e,t){return{targetId:0,path:tt(e.path),sequenceNumber:t}}function uN(e,t){return up(e).put(uP(t,e.currentSequenceNumber))}class ux{constructor(){this.changes=new i8(e=>e.toString(),(e,t)=>e.isEqual(t));this.changesApplied=false}addEntry(e){this.assertNotApplied();this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied();this.changes.set(e,rG.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);if(n!==undefined){return eV.resolve(n)}else{return this.getFromCache(e,t)}}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){this.assertNotApplied();this.changesApplied=true;return this.applyChanges(e)}assertNotApplied(){}}class uD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){const r=uj(e);return r.put(n)}removeEntry(e,t,n){const r=uj(e);return r.delete(uB(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>{n.byteSize+=t;return this.setMetadata(e,n)})}getEntry(e,t){let n=rG.newInvalidDocument(t);return uj(e).iterate({index:tE,range:IDBKeyRange.only(uF(t))},(e,r)=>{n=this.maybeDecodeDocument(t,r)}).next(()=>n)}getSizedEntry(e,t){let n={size:0,document:rG.newInvalidDocument(t)};return uj(e).iterate({index:tE,range:IDBKeyRange.only(uF(t))},(e,r)=>{n={document:this.maybeDecodeDocument(t,r),size:un(r)}}).next(()=>n)}getEntries(e,t){let n=i7();return this.forEachDbEntry(e,t,(e,t)=>{const r=this.maybeDecodeDocument(e,t);n=n.insert(e,r)}).next(()=>n)}getSizedEntries(e,t){let n=i7();let r=new nE(ea.comparator);return this.forEachDbEntry(e,t,(e,t)=>{const i=this.maybeDecodeDocument(e,t);n=n.insert(e,i);r=r.insert(e,un(t))}).next(()=>{return{documents:n,sizeMap:r}})}forEachDbEntry(e,t,n){if(t.isEmpty()){return eV.resolve()}let r=new nC(uV);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(uF(r.first()),uF(r.last()));const s=r.getIterator();let o=s.getNext();return uj(e).iterate({index:tE,range:i},(e,t,r)=>{const i=ea.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);while(o&&uV(o,i)<0){n(o,null);o=s.getNext()}if(o&&o.isEqual(i)){n(o,t);o=s.hasNext()?s.getNext():null}if(o){r.skip(uF(o))}else{r.done()}}).next(()=>{while(o){n(o,null);o=s.hasNext()?s.getNext():null}})}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path;const o=[s.popLast().toArray(),s.lastSegment(),aj(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()];const a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uj(e).loadAll(IDBKeyRange.bound(o,a,true)).next(e=>{i?.incrementDocumentReadCount(e.length);let n=i7();for(const i of e){const e=this.maybeDecodeDocument(ea.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);if(e.isFoundDocument()&&(iJ(t,e)||r.has(e.key))){n=n.insert(e.key,e)}}return n})}getAllFromCollectionGroup(e,t,n,r){let i=i7();const s=uU(t,n);const o=uU(t,eL.max());return uj(e).iterate({index:tS,range:IDBKeyRange.bound(s,o,true)},(e,t,n)=>{const s=this.maybeDecodeDocument(ea.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s);if(i.size===r){n.done()}}).next(()=>i)}newChangeBuffer(e){return new uM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return uL(e).get(tR).next(e=>{N(!!e,20021);return e})}setMetadata(e,t){return uL(e).put(tR,t)}maybeDecodeDocument(e,t){if(t){const e=aM(this.serializer,t);const n=e.isNoDocument()&&e.version.isEqual(ew.min());if(!n){return e}}return rG.newInvalidDocument(e)}}function uk(e){return new uD(e)}class uM extends ux{constructor(e,t){super();this.documentCache=e;this.trackRemovals=t;this.documentStates=new i8(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0;let r=new nC((e,t)=>Q(e.canonicalString(),t.canonicalString()));this.changes.forEach((i,s)=>{const o=this.documentStates.get(i);t.push(this.documentCache.removeEntry(e,i,o.readTime));if(s.isValidDocument()){const a=aL(this.documentCache.serializer,s);r=r.add(i.path.popLast());const c=un(a);n+=c-o.size;t.push(this.documentCache.addEntry(e,i,a))}else{n-=o.size;if(this.trackRemovals){const n=aL(this.documentCache.serializer,s.convertToNoDocument(ew.min()));t.push(this.documentCache.addEntry(e,i,n))}}});r.forEach(n=>{t.push(this.documentCache.indexManager.addToCollectionParentIndex(e,n))});t.push(this.documentCache.updateMetadata(e,n));return eV.waitFor(t)}getFromCache(e,t){return this.documentCache.getSizedEntry(e,t).next(e=>{this.documentStates.set(t,{size:e.size,readTime:e.document.readTime});return e.document})}getAllFromCache(e,t){return this.documentCache.getSizedEntries(e,t).next(({documents:e,sizeMap:t})=>{t.forEach((t,n)=>{this.documentStates.set(t,{size:n,readTime:e.get(t).readTime})});return e})}}function uL(e){return ng(e,tC)}function uj(e){return ng(e,tb)}function uF(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uB(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],aj(t),n[n.length-1]]}function uU(e,t){const n=t.documentKey.path.toArray();return[e,aj(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function uV(e,t){const n=e.path.toArray();const r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e){i=Q(n[e],r[e]);if(i){return i}}i=Q(n.length,r.length);if(i){return i}i=Q(n[n.length-2],r[r.length-2]);if(i){return i}return Q(n[n.length-1],r[r.length-1])}const uz=18;class uq{constructor(e,t){this.overlayedDocument=e;this.mutatedFields=t}}class uG{constructor(e,t,n,r){this.remoteDocumentCache=e;this.mutationQueue=t;this.documentOverlayCache=n;this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>{n=r;return this.remoteDocumentCache.getEntry(e,t)}).next(e=>{if(n!==null){sF(n.mutation,e,nA.empty(),eE.now())}return e})}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,su()).next(()=>t))}getLocalViewOfDocuments(e,t,n=su()){const r=sr();return this.populateOverlays(e,r,t).next(()=>{return this.computeViews(e,t,r,n).next(e=>{let t=se();e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)});return t})})}getOverlayedDocuments(e,t){const n=sr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,su()))}populateOverlays(e,t,n){const r=[];n.forEach(e=>{if(!t.has(e)){r.push(e)}});return this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=i7();const s=ss();const o=st();t.forEach((e,t)=>{const o=n.get(t.key);if(r.has(t.key)&&(o===undefined||o.mutation instanceof sG)){i=i.insert(t.key,t)}else if(o!==undefined){s.set(t.key,o.mutation.getFieldMask());sF(o.mutation,t,o.mutation.getFieldMask(),eE.now())}else{s.set(t.key,nA.empty())}});return this.recalculateAndSaveOverlays(e,i).next(e=>{e.forEach((e,t)=>s.set(e,t));t.forEach((e,t)=>o.set(e,new uq(t,s.get(e)??null)));return o})}recalculateAndSaveOverlays(e,t){const n=ss();let r=new nE((e,t)=>e-t);let i=su();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e){i.keys().forEach(e=>{const s=t.get(e);if(s===null){return}let o=n.get(e)||nA.empty();o=i.applyToLocalView(s,o);n.set(e,o);const a=(r.get(i.batchId)||su()).add(e);r=r.insert(i.batchId,a)})}}).next(()=>{const s=[];const o=r.getReverseIterator();while(o.hasNext()){const r=o.getNext();const a=r.key;const c=r.value;const u=si();c.forEach(e=>{if(!i.has(e)){const r=sL(t.get(e),n.get(e));if(r!==null){u.set(e,r)}i=i.add(e)}});s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return eV.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){if(iF(t)){return this.getDocumentsMatchingDocumentQuery(e,t.path)}else if(iB(t)){return this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r)}else{return this.getDocumentsMatchingCollectionQuery(e,t,n,r)}}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):eV.resolve(sr());let o=eS;let a=i;return s.next(t=>{return eV.forEach(t,(t,n)=>{if(o<n.largestBatchId){o=n.largestBatchId}if(i.get(t)){return eV.resolve()}return this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)})}).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,su())).next(e=>({batchId:o,changes:sn(e)}))})})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ea(t)).next(e=>{let t=se();if(e.isFoundDocument()){t=t.insert(e.key,e)}return t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=se();return this.indexManager.getCollectionParents(e,i).next(o=>{return eV.forEach(o,o=>{const a=ik(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s)})}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>{i=s;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)}).next(e=>{i.forEach((t,n)=>{const r=n.getKey();if(e.get(r)===null){e=e.insert(r,rG.newInvalidDocument(r))}});let n=se();e.forEach((e,r)=>{const s=i.get(e);if(s!==undefined){sF(s.mutation,r,nA.empty(),eE.now())}if(iJ(t,r)){n=n.insert(e,r)}});return n})}}class u${constructor(e){this.serializer=e;this.bundles=new Map;this.namedQueries=new Map}getBundleMetadata(e,t){return eV.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){this.bundles.set(t.id,aJ(t));return eV.resolve()}getNamedQuery(e,t){return eV.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){this.namedQueries.set(t.name,aX(t));return eV.resolve()}}class uH{constructor(){this.overlays=new nE(ea.comparator);this.overlayByBatchId=new Map}getOverlay(e,t){return eV.resolve(this.overlays.get(t))}getOverlays(e,t){const n=sr();return eV.forEach(t,t=>{return this.getOverlay(e,t).next(e=>{if(e!==null){n.set(t,e)}})}).next(()=>n)}saveOverlays(e,t,n){n.forEach((n,r)=>{this.saveOverlay(e,t,r)});return eV.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.overlayByBatchId.get(n);if(r!==undefined){r.forEach(e=>this.overlays=this.overlays.remove(e));this.overlayByBatchId.delete(n)}return eV.resolve()}getOverlaysForCollection(e,t,n){const r=sr();const i=t.length+1;const s=new ea(t.child(""));const o=this.overlays.getIteratorFrom(s);while(o.hasNext()){const e=o.getNext();const s=e.value;const a=s.getKey();if(!t.isPrefixOf(a.path)){break}if(a.path.length!==i){continue}if(s.largestBatchId>n){r.set(s.getKey(),s)}}return eV.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new nE((e,t)=>e-t);const s=this.overlays.getIterator();while(s.hasNext()){const e=s.getNext();const r=e.value;const o=r.getKey();if(o.getCollectionGroup()!==t){continue}if(r.largestBatchId>n){let e=i.get(r.largestBatchId);if(e===null){e=sr();i=i.insert(r.largestBatchId,e)}e.set(r.getKey(),r)}}const o=sr();const a=i.getIterator();while(a.hasNext()){const e=a.getNext();const t=e.value;t.forEach((e,t)=>o.set(e,t));if(o.size()>=r){break}}return eV.resolve(o)}saveOverlay(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const e=this.overlayByBatchId.get(r.largestBatchId).delete(n.key);this.overlayByBatchId.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new s2(t,n));let i=this.overlayByBatchId.get(t);if(i===undefined){i=su();this.overlayByBatchId.set(t,i)}this.overlayByBatchId.set(t,i.add(n.key))}}class uW{constructor(){this.sessionToken=nD.EMPTY_BYTE_STRING}getSessionToken(e){return eV.resolve(this.sessionToken)}setSessionToken(e,t){this.sessionToken=t;return eV.resolve()}}class uK{constructor(){this.refsByKey=new nC(uQ.compareByKey);this.refsByTarget=new nC(uQ.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){const n=new uQ(e,t);this.refsByKey=this.refsByKey.add(n);this.refsByTarget=this.refsByTarget.add(n)}addReferences(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.removeRef(new uQ(e,t))}removeReferences(e,t){e.forEach(e=>this.removeReference(e,t))}removeReferencesForId(e){const t=new ea(new ei([]));const n=new uQ(t,e);const r=new uQ(t,e+1);const i=[];this.refsByTarget.forEachInRange([n,r],e=>{this.removeRef(e);i.push(e.key)});return i}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e);this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){const t=new ea(new ei([]));const n=new uQ(t,e);const r=new uQ(t,e+1);let i=su();this.refsByTarget.forEachInRange([n,r],e=>{i=i.add(e.key)});return i}containsKey(e){const t=new uQ(e,0);const n=this.refsByKey.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class uQ{constructor(e,t){this.key=e;this.targetOrBatchId=t}static compareByKey(e,t){return ea.comparator(e.key,t.key)||Q(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return Q(e.targetOrBatchId,t.targetOrBatchId)||ea.comparator(e.key,t.key)}}class uY{constructor(e,t){this.indexManager=e;this.referenceDelegate=t;this.mutationQueue=[];this.nextBatchId=1;this.batchesByDocumentKey=new nC(uQ.compareByKey)}checkEmpty(e){return eV.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const i=this.nextBatchId;this.nextBatchId++;if(this.mutationQueue.length>0){this.mutationQueue[this.mutationQueue.length-1]}const s=new s0(i,t,n,r);this.mutationQueue.push(s);for(const t of r){this.batchesByDocumentKey=this.batchesByDocumentKey.add(new uQ(t.key,i));this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast())}return eV.resolve(s)}lookupMutationBatch(e,t){return eV.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1;const r=this.indexOfBatchId(n);const i=r<0?0:r;return eV.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return eV.resolve(this.mutationQueue.length===0?nJ:this.nextBatchId-1)}getAllMutationBatches(e){return eV.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new uQ(t,0);const r=new uQ(t,Number.POSITIVE_INFINITY);const i=[];this.batchesByDocumentKey.forEachInRange([n,r],e=>{const t=this.findMutationBatch(e.targetOrBatchId);i.push(t)});return eV.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nC(Q);t.forEach(e=>{const t=new uQ(e,0);const r=new uQ(e,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([t,r],e=>{n=n.add(e.targetOrBatchId)})});return eV.resolve(this.findMutationBatches(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path;const r=n.length+1;let i=n;if(!ea.isDocumentKey(i)){i=i.child("")}const s=new uQ(new ea(i),0);let o=new nC(Q);this.batchesByDocumentKey.forEachWhile(e=>{const t=e.key.path;if(!n.isPrefixOf(t)){return false}else{if(t.length===r){o=o.add(e.targetOrBatchId)}return true}},s);return eV.resolve(this.findMutationBatches(o))}findMutationBatches(e){const t=[];e.forEach(e=>{const n=this.findMutationBatch(e);if(n!==null){t.push(n)}});return t}removeMutationBatch(e,t){const n=this.indexOfExistingBatchId(t.batchId,"removed");N(n===0,55003);this.mutationQueue.shift();let r=this.batchesByDocumentKey;return eV.forEach(t.mutations,n=>{const i=new uQ(n.key,t.batchId);r=r.delete(i);return this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.batchesByDocumentKey=r})}removeCachedMutationKeys(e){}containsKey(e,t){const n=new uQ(t,0);const r=this.batchesByDocumentKey.firstAfterOrEqual(n);return eV.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){if(this.mutationQueue.length===0);return eV.resolve()}indexOfExistingBatchId(e,t){const n=this.indexOfBatchId(e);return n}indexOfBatchId(e){if(this.mutationQueue.length===0){return 0}const t=this.mutationQueue[0].batchId;return e-t}findMutationBatch(e){const t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length){return null}const n=this.mutationQueue[t];return n}}const uX="-9223372036854775808";function uJ(){return new nE(ea.comparator)}class uZ{constructor(e){this.sizer=e;this.docs=uJ();this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key;const r=this.docs.get(n);const i=r?r.size:0;const s=this.sizer(t);this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s});this.size+=s-i;return this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);if(t){this.docs=this.docs.remove(e);this.size-=t.size}}getEntry(e,t){const n=this.docs.get(t);return eV.resolve(n?n.document.mutableCopy():rG.newInvalidDocument(t))}getEntries(e,t){let n=i7();t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rG.newInvalidDocument(e))});return eV.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=i7();const s=t.path;const o=new ea(s.child("__id"+uX+"__"));const a=this.docs.getIteratorFrom(o);while(a.hasNext()){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path)){break}if(e.path.length>s.length+1){continue}if(ej(eM(o),n)<=0){continue}if(!r.has(o.key)&&!iJ(t,o)){continue}i=i.insert(o.key,o.mutableCopy())}return eV.resolve(i)}getAllFromCollectionGroup(e,t,n,r){A(9500)}forEachDocumentKey(e,t){return eV.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new u1(this)}getSize(e){return eV.resolve(this.size)}}function u0(e){return new uZ(e)}class u1 extends ux{constructor(e){super();this.documentCache=e}applyChanges(e){const t=[];this.changes.forEach((n,r)=>{if(r.isValidDocument()){t.push(this.documentCache.addEntry(e,r))}else{this.documentCache.removeEntry(n)}});return eV.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}}class u2{constructor(e){this.persistence=e;this.targets=new i8(e=>iv(e),i_);this.lastRemoteSnapshotVersion=ew.min();this.highestTargetId=0;this.highestSequenceNumber=0;this.references=new uK;this.targetCount=0;this.targetIdGenerator=ul.forTargetCache()}forEachTarget(e,t){this.targets.forEach((e,n)=>t(n));return eV.resolve()}getLastRemoteSnapshotVersion(e){return eV.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return eV.resolve(this.highestSequenceNumber)}allocateTargetId(e){this.highestTargetId=this.targetIdGenerator.next();return eV.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){if(n){this.lastRemoteSnapshotVersion=n}if(t>this.highestSequenceNumber){this.highestSequenceNumber=t}return eV.resolve()}saveTargetData(e){this.targets.set(e.target,e);const t=e.targetId;if(t>this.highestTargetId){this.targetIdGenerator=new ul(t);this.highestTargetId=t}if(e.sequenceNumber>this.highestSequenceNumber){this.highestSequenceNumber=e.sequenceNumber}}addTargetData(e,t){this.saveTargetData(t);this.targetCount+=1;return eV.resolve()}updateTargetData(e,t){this.saveTargetData(t);return eV.resolve()}removeTargetData(e,t){this.targets.delete(t.target);this.references.removeReferencesForId(t.targetId);this.targetCount-=1;return eV.resolve()}removeTargets(e,t,n){let r=0;const i=[];this.targets.forEach((s,o)=>{if(o.sequenceNumber<=t&&n.get(o.targetId)===null){this.targets.delete(s);i.push(this.removeMatchingKeysForTargetId(e,o.targetId));r++}});return eV.waitFor(i).next(()=>r)}getTargetCount(e){return eV.resolve(this.targetCount)}getTargetData(e,t){const n=this.targets.get(t)||null;return eV.resolve(n)}addMatchingKeys(e,t,n){this.references.addReferences(t,n);return eV.resolve()}removeMatchingKeys(e,t,n){this.references.removeReferences(t,n);const r=this.persistence.referenceDelegate;const i=[];if(r){t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))})}return eV.waitFor(i)}removeMatchingKeysForTargetId(e,t){this.references.removeReferencesForId(t);return eV.resolve()}getMatchingKeysForTargetId(e,t){const n=this.references.referencesForId(t);return eV.resolve(n)}containsKey(e,t){return eV.resolve(this.references.containsKey(t))}}const u3="MemoryPersistence";class u6{constructor(e,t){this.mutationQueues={};this.overlays={};this.listenSequence=new e8(0);this._started=false;this._started=true;this.globalsCache=new uW;this.referenceDelegate=e(this);this.targetCache=new u2(this);const n=e=>this.referenceDelegate.documentSize(e);this.indexManager=new c1;this.remoteDocumentCache=u0(n);this.serializer=new ak(t);this.bundleCache=new u$(this.serializer)}start(){return Promise.resolve()}shutdown(){this._started=false;return Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];if(!t){t=new uH;this.overlays[e.toKey()]=t}return t}getMutationQueue(e,t){let n=this.mutationQueues[e.toKey()];if(!n){n=new uY(t,this.referenceDelegate);this.mutationQueues[e.toKey()]=n}return n}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,n){C(u3,"Starting transaction:",e);const r=new u4(this.listenSequence.next());this.referenceDelegate.onTransactionStarted();return n(r).next(e=>{return this.referenceDelegate.onTransactionCommitted(r).next(()=>e)}).toPromise().then(e=>{r.raiseOnCommittedEvent();return e})}mutationQueuesContainKey(e,t){return eV.or(Object.values(this.mutationQueues).map(n=>()=>n.containsKey(e,t)))}}class u4 extends eB{constructor(e){super();this.currentSequenceNumber=e}}class u8{constructor(e){this.persistence=e;this.localViewReferences=new uK;this._orphanedDocuments=null}static factory(e){return new u8(e)}get orphanedDocuments(){if(!this._orphanedDocuments){throw A(60996)}else{return this._orphanedDocuments}}addReference(e,t,n){this.localViewReferences.addReference(n,t);this.orphanedDocuments.delete(n.toString());return eV.resolve()}removeReference(e,t,n){this.localViewReferences.removeReference(n,t);this.orphanedDocuments.add(n.toString());return eV.resolve()}markPotentiallyOrphaned(e,t){this.orphanedDocuments.add(t.toString());return eV.resolve()}removeTarget(e,t){const n=this.localViewReferences.removeReferencesForId(t.targetId);n.forEach(e=>this.orphanedDocuments.add(e.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.orphanedDocuments.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){const t=this.persistence.getRemoteDocumentCache();const n=t.newChangeBuffer();return eV.forEach(this.orphanedDocuments,t=>{const r=ea.fromPath(t);return this.isReferenced(e,r).next(e=>{if(!e){n.removeEntry(r,ew.min())}})}).next(()=>{this._orphanedDocuments=null;return n.apply(e)})}updateLimboDocument(e,t){return this.isReferenced(e,t).next(e=>{if(e){this.orphanedDocuments.delete(t.toString())}else{this.orphanedDocuments.add(t.toString())}})}documentSize(e){return 0}isReferenced(e,t){return eV.or([()=>eV.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}}class u5{constructor(e,t){this.persistence=e;this.orphanedSequenceNumbers=new i8(e=>tt(e.path),(e,t)=>e.isEqual(t));this.garbageCollector=uI(this,t)}static factory(e,t){return new u5(e,t)}onTransactionStarted(){}onTransactionCommitted(e){return eV.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}getSequenceNumberCount(e){const t=this.orphanedDocumentCount(e);const n=this.persistence.getTargetCache().getTargetCount(e);return n.next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachOrphanedDocumentSequenceNumber(e,t){return eV.forEach(this.orphanedSequenceNumbers,(n,r)=>{return this.isPinned(e,n,r).next(e=>{if(!e){return t(r)}else{return eV.resolve()}})})}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache();const i=r.newChangeBuffer();const s=r.forEachDocumentKey(e,r=>{return this.isPinned(e,r,t).next(e=>{if(!e){n++;i.removeEntry(r,ew.min())}})});return s.next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber);return eV.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){this.orphanedSequenceNumbers.set(n,e.currentSequenceNumber);return eV.resolve()}removeReference(e,t,n){this.orphanedSequenceNumbers.set(n,e.currentSequenceNumber);return eV.resolve()}updateLimboDocument(e,t){this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber);return eV.resolve()}documentSize(e){let t=e.key.toString().length;if(e.isFoundDocument()){t+=rS(e.data.value)}return t}isPinned(e,t,n){return eV.or([()=>this.persistence.mutationQueuesContainKey(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.orphanedSequenceNumbers.get(t);return eV.resolve(e!==undefined&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class u7{constructor(e){this.serializer=e}createOrUpgrade(e,t,n,r){const i=new eG("createOrUpgrade",t);if(n<1&&r>=1){le(e);lt(e);lo(e);lr(e)}let s=eV.resolve();if(n<3&&r>=3){if(n!==0){la(e);lo(e)}s=s.next(()=>lu(i))}if(n<4&&r>=4){if(n!==0){s=s.next(()=>ln(e,i))}s=s.next(()=>{ll(e)})}if(n<5&&r>=5){s=s.next(()=>this.removeAcknowledgedMutations(i))}if(n<6&&r>=6){s=s.next(()=>{ls(e);return this.addDocumentGlobal(i)})}if(n<7&&r>=7){s=s.next(()=>this.ensureSequenceNumbers(i))}if(n<8&&r>=8){s=s.next(()=>this.createCollectionParentIndex(e,i))}if(n<9&&r>=9){s=s.next(()=>{lc(e)})}if(n<10&&r>=10){s=s.next(()=>this.rewriteCanonicalIds(i))}if(n<11&&r>=11){s=s.next(()=>{ld(e);lf(e)})}if(n<12&&r>=12){s=s.next(()=>{lp(e)})}if(n<13&&r>=13){s=s.next(()=>li(e)).next(()=>this.rewriteRemoteDocumentCache(e,i)).next(()=>e.deleteObjectStore(ts))}if(n<14&&r>=14){s=s.next(()=>this.runOverlayMigration(e,i))}if(n<15&&r>=15){s=s.next(()=>lh(e))}if(n<16&&r>=16){s=s.next(()=>{const e=t.objectStore(tQ);e.clear()}).next(()=>{const e=t.objectStore(tZ);e.clear()})}if(n<17&&r>=17){s=s.next(()=>{lm(e)})}if(n<18&&r>=18){if((0,a.Ov)()){s=s.next(()=>{const e=t.objectStore(tQ);e.clear()}).next(()=>{const e=t.objectStore(tZ);e.clear()})}}return s}addDocumentGlobal(e){let t=0;return e.store(ts).iterate((e,n)=>{t+=un(n)}).next(()=>{const n={byteSize:t};return e.store(tC).put(tR,n)})}removeAcknowledgedMutations(e){const t=e.store(tc);const n=e.store(tl);return t.loadAll().next(t=>{return eV.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,nJ],[t.userId,t.lastAcknowledgedBatchId]);return n.loadAll(tf,r).next(n=>{return eV.forEach(n,n=>{N(n.userId===t.userId,18650,`Cannot process batch from unexpected user`,{batchId:n.batchId});const r=az(this.serializer,n);return ut(e,t.userId,r).next(()=>{})})})})})}ensureSequenceNumbers(e){const t=e.store(tN);const n=e.store(ts);const r=e.store(tL);return r.get(tM).next(e=>{const r=n=>{return t.put({targetId:0,path:tt(n),sequenceNumber:e.highestListenSequenceNumber})};const i=[];return n.iterate((e,n)=>{const s=new ei(e);const o=u9(s);i.push(t.get(o).next(e=>{if(!e){return r(s)}else{return eV.resolve()}}))}).next(()=>eV.waitFor(i))})}createCollectionParentIndex(e,t){e.createObjectStore(tj,{keyPath:tF});const n=t.store(tj);const r=new c2;const i=e=>{if(r.add(e)){const t=e.lastSegment();const r=e.popLast();return n.put({collectionId:t,parent:tt(r)})}};return t.store(ts).iterate({keysOnly:true},(e,t)=>{const n=new ei(e);return i(n.popLast())}).next(()=>{return t.store(tv).iterate({keysOnly:true},([e,t,n],r)=>{const s=ti(t);return i(s.popLast())})})}rewriteCanonicalIds(e){const t=e.store(tI);return t.iterate((e,n)=>{const r=aq(n);const i=aG(this.serializer,r);return t.put(i)})}rewriteRemoteDocumentCache(e,t){const n=t.store(ts);const r=[];return n.iterate((e,n)=>{const i=t.store(tb);const s=lg(n).path.toArray();const o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))}).next(()=>eV.waitFor(r))}runOverlayMigration(e,t){const n=t.store(tl);const r=uk(this.serializer);const i=new u6(u8.factory,this.serializer.remoteSerializer);return n.loadAll().next(e=>{const n=new Map;e.forEach(e=>{let t=n.get(e.userId)??su();const r=az(this.serializer,e);r.keys().forEach(e=>t=t.add(e));n.set(e.userId,t)});return eV.forEach(n,(e,n)=>{const s=new y(n);const o=a7.forUser(this.serializer,s);const a=i.getIndexManager(s);const c=ur.forUser(s,this.serializer,a,i.referenceDelegate);const u=new uG(r,c,o,a);return u.recalculateAndSaveOverlaysForDocumentKeys(new nm(t,e8.INVALID),e).next()})})}}function u9(e){return[0,tt(e)]}function le(e){e.createObjectStore(to)}function lt(e){e.createObjectStore(tc,{keyPath:tu});const t=e.createObjectStore(tl,{keyPath:td,autoIncrement:true});t.createIndex(tf,th,{unique:true});e.createObjectStore(tv)}function ln(e,t){const n=t.store(tl);return n.loadAll().next(n=>{e.deleteObjectStore(tl);const r=e.createObjectStore(tl,{keyPath:td,autoIncrement:true});r.createIndex(tf,th,{unique:true});const i=t.store(tl);const s=n.map(e=>i.put(e));return eV.waitFor(s)})}function lr(e){e.createObjectStore(ts)}function li(e){const t=e.createObjectStore(tb,{keyPath:t_});t.createIndex(tE,tw);t.createIndex(tS,tT)}function ls(e){e.createObjectStore(tC)}function lo(e){const t=e.createObjectStore(tN,{keyPath:tx});t.createIndex(tD,tk,{unique:true});const n=e.createObjectStore(tI,{keyPath:tO});n.createIndex(tA,tP,{unique:true});e.createObjectStore(tL)}function la(e){e.deleteObjectStore(tN);e.deleteObjectStore(tI);e.deleteObjectStore(tL)}function lc(e){if(e.objectStoreNames.contains("remoteDocumentChanges")){e.deleteObjectStore("remoteDocumentChanges")}}function lu(e){const t=e.store(tL);const n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ew.min().toTimestamp(),targetCount:0};return t.put(tM,n)}function ll(e){e.createObjectStore(tB,{keyPath:tU})}function ld(e){e.createObjectStore(tV,{keyPath:tz})}function lf(e){e.createObjectStore(tq,{keyPath:tG})}function lh(e){const t=e.createObjectStore(t$,{keyPath:tH,autoIncrement:true});t.createIndex(tW,tK,{unique:false});const n=e.createObjectStore(tQ,{keyPath:tY});n.createIndex(tX,tJ,{unique:false});const r=e.createObjectStore(tZ,{keyPath:t0});r.createIndex(t1,t2,{unique:false})}function lp(e){const t=e.createObjectStore(t3,{keyPath:t6});t.createIndex(t4,t8,{unique:false});t.createIndex(t5,t7,{unique:false})}function lm(e){e.createObjectStore(t9,{keyPath:ne})}function lg(e){if(e.document){return new ea(ei.fromString(e.document.name).popFirst(5))}else if(e.noDocument){return ea.fromSegments(e.noDocument.path)}else if(e.unknownDocument){return ea.fromSegments(e.unknownDocument.path)}else{return A(36783)}}const ly="IndexedDbPersistence";const lv=30*60*1e3;const lb=5e3;const l_=4e3;const lE="Failed to obtain exclusive access to the persistence layer. To allow "+"shared access, multi-tab synchronization has to be enabled in all tabs. "+"If you are using `experimentalForceOwningTab:true`, make sure that only "+"one tab has persistence enabled at any given time.";const lw="This platform is either missing IndexedDB or is known to have "+"an incomplete implementation. Offline persistence has been disabled.";const lS="firestore_zombie";const lT="main";class lC{constructor(e,t,n,r,i,s,o,a,c,u,l=uz){this.allowTabSynchronization=e;this.persistenceKey=t;this.clientId=n;this.queue=i;this.window=s;this.document=o;this.sequenceNumberSyncer=c;this.forceOwningTab=u;this.schemaVersion=l;this.listenSequence=null;this._started=false;this.isPrimary=false;this.networkEnabled=true;this.windowUnloadHandler=null;this.inForeground=false;this.documentVisibilityHandler=null;this.clientMetadataRefresher=null;this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY;this.primaryStateListener=e=>Promise.resolve();if(!lC.isAvailable()){throw new M(k.UNIMPLEMENTED,lw)}this.referenceDelegate=new uO(this,r);this.dbName=t+lT;this.serializer=new ak(a);this.simpleDb=new e$(this.dbName,this.schemaVersion,new u7(this.serializer));this.globalsCache=new ce;this.targetCache=new ud(this.referenceDelegate,this.serializer);this.remoteDocumentCache=uk(this.serializer);this.bundleCache=new a4;if(this.window&&this.window.localStorage){this.webStorage=this.window.localStorage}else{this.webStorage=null;if(u===false){R(ly,"LocalStorage is unavailable. As a result, persistence may not work "+"reliably. In particular enablePersistence() could fail immediately "+"after refreshing the page.")}}}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization){throw new M(k.FAILED_PRECONDITION,lE)}this.attachVisibilityHandler();this.attachWindowUnloadHook();this.scheduleClientMetadataAndPrimaryLeaseRefreshes();return this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.targetCache.getHighestSequenceNumber(e))}).then(e=>{this.listenSequence=new e8(e,this.sequenceNumberSyncer)}).then(()=>{this._started=true}).catch(e=>{this.simpleDb&&this.simpleDb.close();return Promise.reject(e)})}setPrimaryStateListener(e){this.primaryStateListener=async t=>{if(this.started){return e(t)}};return e(this.isPrimary)}setDatabaseDeletedListener(e){this.simpleDb.setVersionChangeListener(async t=>{if(t.newVersion===null){await e()}})}setNetworkEnabled(e){if(this.networkEnabled!==e){this.networkEnabled=e;this.queue.enqueueAndForget(async()=>{if(this.started){await this.updateClientMetadataAndTryBecomePrimary()}})}}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>{const t=lI(e);return t.put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary){return this.verifyPrimaryLease(e).next(e=>{if(!e){this.isPrimary=false;this.queue.enqueueRetryable(()=>this.primaryStateListener(false))}})}}).next(()=>this.canActAsPrimary(e)).next(t=>{if(this.isPrimary&&!t){return this.releasePrimaryLeaseIfHeld(e).next(()=>false)}else if(t){return this.acquireOrExtendPrimaryLease(e).next(()=>true)}else{return false}})}).catch(e=>{if(eQ(e)){C(ly,"Failed to extend owner lease: ",e);return this.isPrimary}if(!this.allowTabSynchronization){throw e}C(ly,"Releasing owner lease after error during lease refresh",e);return false}).then(e=>{if(this.isPrimary!==e){this.queue.enqueueRetryable(()=>this.primaryStateListener(e))}this.isPrimary=e})}verifyPrimaryLease(e){const t=lR(e);return t.get(ta).next(e=>{return eV.resolve(this.isLocalClient(e))})}removeClientMetadata(e){const t=lI(e);return t.delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,lv)){this.lastGarbageCollectionTime=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=ng(e,tB);return t.loadAll().next(e=>{const n=this.filterActiveClients(e,lv);const r=e.filter(e=>n.indexOf(e)===-1);return eV.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>{return[]});if(this.webStorage){for(const t of e){this.webStorage.removeItem(this.zombiedClientLocalStorageKey(t.clientId))}}}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",l_,()=>{return this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes())})}isLocalClient(e){return e?e.ownerId===this.clientId:false}canActAsPrimary(e){if(this.forceOwningTab){return eV.resolve(true)}const t=lR(e);return t.get(ta).next(t=>{const n=t!==null&&this.isWithinAge(t.leaseTimestampMs,lb)&&!this.isClientZombied(t.ownerId);if(n){if(this.isLocalClient(t)&&this.networkEnabled){return true}if(!this.isLocalClient(t)){if(!t.allowTabSynchronization){throw new M(k.FAILED_PRECONDITION,lE)}return false}}if(this.networkEnabled&&this.inForeground){return true}return lI(e).loadAll().next(e=>{const t=this.filterActiveClients(e,lb).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled;const n=!this.inForeground&&e.inForeground;const r=this.networkEnabled===e.networkEnabled;if(t||n&&r){return true}}return false});return t===undefined})}).next(e=>{if(this.isPrimary!==e){C(ly,`Client ${e?"is":"is not"} eligible for a primary lease.`)}return e})}async shutdown(){this._started=false;this.markClientZombied();if(this.clientMetadataRefresher){this.clientMetadataRefresher.cancel();this.clientMetadataRefresher=null}this.detachVisibilityHandler();this.detachWindowUnloadHook();await this.simpleDb.runTransaction("shutdown","readwrite",[to,tB],e=>{const t=new nm(e,e8.INVALID);return this.releasePrimaryLeaseIfHeld(t).next(()=>this.removeClientMetadata(t))});this.simpleDb.close();this.removeClientZombiedEntry()}filterActiveClients(e,t){return e.filter(e=>this.isWithinAge(e.updateTimeMs,t)&&!this.isClientZombied(e.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",e=>{return lI(e).loadAll().next(e=>this.filterActiveClients(e,lv).map(e=>e.clientId))})}get started(){return this._started}getGlobalsCache(){return this.globalsCache}getMutationQueue(e,t){return ur.forUser(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new c4(e,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(e){return a7.forUser(this.serializer,e)}getBundleCache(){return this.bundleCache}runTransaction(e,t,n){C(ly,"Starting transaction:",e);const r=t==="readonly"?"readonly":"readwrite";const i=np(this.schemaVersion);let s;return this.simpleDb.runTransaction(e,r,i,r=>{s=new nm(r,this.listenSequence?this.listenSequence.next():e8.INVALID);if(t==="readwrite-primary"){return this.verifyPrimaryLease(s).next(e=>{if(e){return true}return this.canActAsPrimary(s)}).next(t=>{if(!t){R(`Failed to obtain primary lease for action '${e}'.`);this.isPrimary=false;this.queue.enqueueRetryable(()=>this.primaryStateListener(false));throw new M(k.FAILED_PRECONDITION,eF)}return n(s)}).next(e=>{return this.acquireOrExtendPrimaryLease(s).next(()=>e)})}else{return this.verifyAllowTabSynchronization(s).next(()=>n(s))}}).then(e=>{s.raiseOnCommittedEvent();return e})}verifyAllowTabSynchronization(e){const t=lR(e);return t.get(ta).next(e=>{const t=e!==null&&this.isWithinAge(e.leaseTimestampMs,lb)&&!this.isClientZombied(e.ownerId);if(t&&!this.isLocalClient(e)){if(!this.forceOwningTab&&(!this.allowTabSynchronization||!e.allowTabSynchronization)){throw new M(k.FAILED_PRECONDITION,lE)}}})}acquireOrExtendPrimaryLease(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lR(e).put(ta,t)}static isAvailable(){return e$.isAvailable()}releasePrimaryLeaseIfHeld(e){const t=lR(e);return t.get(ta).next(e=>{if(this.isLocalClient(e)){C(ly,"Releasing primary lease.");return t.delete(ta)}else{return eV.resolve()}})}isWithinAge(e,t){const n=Date.now();const r=n-t;const i=n;if(e<r){return false}else if(e>i){R(`Detected an update time that is in the future: ${e} > ${i}`);return false}return true}attachVisibilityHandler(){if(this.document!==null&&typeof this.document.addEventListener==="function"){this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>{this.inForeground=this.document.visibilityState==="visible";return this.updateClientMetadataAndTryBecomePrimary()})};this.document.addEventListener("visibilitychange",this.documentVisibilityHandler);this.inForeground=this.document.visibilityState==="visible"}}detachVisibilityHandler(){if(this.documentVisibilityHandler){this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler);this.documentVisibilityHandler=null}}attachWindowUnloadHook(){if(typeof this.window?.addEventListener==="function"){this.windowUnloadHandler=()=>{this.markClientZombied();const e=/(?:Version|Mobile)\/1[456]/;if((0,a.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))){this.queue.enterRestrictedMode(true)}this.queue.enqueueAndForget(()=>{return this.shutdown()})};this.window.addEventListener("pagehide",this.windowUnloadHandler)}}detachWindowUnloadHook(){if(this.windowUnloadHandler){this.window.removeEventListener("pagehide",this.windowUnloadHandler);this.windowUnloadHandler=null}}isClientZombied(e){try{const t=this.webStorage?.getItem(this.zombiedClientLocalStorageKey(e))!==null;C(ly,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`);return t}catch(e){R(ly,"Failed to get zombied client id.",e);return false}}markClientZombied(){if(!this.webStorage){return}try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){R("Failed to set zombie client id.",e)}}removeClientZombiedEntry(){if(!this.webStorage){return}try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}}zombiedClientLocalStorageKey(e){return`${lS}_${this.persistenceKey}_${e}`}}function lR(e){return ng(e,to)}function lI(e){return ng(e,tB)}function lO(e,t){let n=e.projectId;if(!e.isDefaultDatabase){n+="."+e.database}return"firestore/"+t+"/"+n+"/"}async function lA(e){if(!e$.isAvailable()){return Promise.resolve()}const t=e+lT;await e$.delete(t)}function lP(e,t,n,r,i){e=[...e];t=[...t];e.sort(n);t.sort(n);const s=e.length;const o=t.length;let a=0;let c=0;while(a<o&&c<s){const s=n(e[c],t[a]);if(s<0){i(e[c++])}else if(s>0){r(t[a++])}else{a++;c++}}while(a<o){r(t[a++])}while(c<s){i(e[c++])}}function lN(e,t){if(e.length!==t.length){return false}for(let n=0;n<e.length;++n){if(e[n]!==t[n]){return false}}return true}const lx="LocalStore";const lD=5*60*1e6;class lk{constructor(e,t,n,r){this.persistence=e;this.queryEngine=t;this.serializer=r;this.targetDataByTarget=new nE(Q);this.targetIdByTarget=new i8(e=>iv(e),i_);this.collectionGroupReadTime=new Map;this.remoteDocuments=e.getRemoteDocumentCache();this.targetCache=e.getTargetCache();this.bundleCache=e.getBundleCache();this.initializeUserComponents(n)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e);this.indexManager=this.persistence.getIndexManager(e);this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager);this.localDocuments=new uG(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager);this.remoteDocuments.setIndexManager(this.indexManager);this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}}function lM(e,t,n,r){return new lk(e,t,n,r)}async function lL(e,t){const n=D(e);const r=await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>{r=i;n.initializeUserComponents(t);return n.mutationQueue.getAllMutationBatches(e)}).next(t=>{const i=[];const s=[];let o=su();for(const e of r){i.push(e.batchId);for(const t of e.mutations){o=o.add(t.key)}}for(const e of t){s.push(e.batchId);for(const t of e.mutations){o=o.add(t.key)}}return n.localDocuments.getDocuments(e,o).next(e=>{return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:s}})})});return r}function lj(e,t){const n=D(e);const r=eE.now();const i=t.reduce((e,t)=>e.add(t.key),su());let s;let o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=i7();let c=su();return n.remoteDocuments.getEntries(e,i).next(e=>{a=e;a.forEach((e,t)=>{if(!t.isValidDocument()){c=c.add(e)}})}).next(()=>{return n.localDocuments.getOverlayedDocuments(e,a)}).next(i=>{s=i;const o=[];for(const e of t){const t=sB(e,s.get(e.key).overlayedDocument);if(t!=null){o.push(new sG(e.key,t,rq(t.value.mapValue),sD.exists(true)))}}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:sn(s)}))}function lF(e,t){const n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys();const i=n.remoteDocuments.newChangeBuffer({trackRemovals:true});return lZ(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,lB(t))).next(()=>n.localDocuments.getDocuments(e,r))})}function lB(e){let t=su();for(let n=0;n<e.mutationResults.length;++n){const r=e.mutationResults[n];if(r.transformResults.length>0){t=t.add(e.batch.mutations[n].key)}}return t}function lU(e,t){const n=D(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>{N(t!==null,37113);r=t.keys();return n.mutationQueue.removeMutationBatch(e,t)}).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}function lV(e){const t=D(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}function lz(e){const t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.targetCache.getLastRemoteSnapshotVersion(e))}function lq(e,t){const n=D(e);const r=t.snapshotVersion;let i=n.targetDataByTarget;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.remoteDocuments.newChangeBuffer({trackRemovals:true});i=n.targetDataByTarget;const o=[];t.targetChanges.forEach((s,a)=>{const c=i.get(a);if(!c){return}o.push(n.targetCache.removeMatchingKeys(e,s.removedDocuments,a).next(()=>{return n.targetCache.addMatchingKeys(e,s.addedDocuments,a)}));let u=c.withSequenceNumber(e.currentSequenceNumber);if(t.targetMismatches.get(a)!==null){u=u.withResumeToken(nD.EMPTY_BYTE_STRING,ew.min()).withLastLimboFreeSnapshotVersion(ew.min())}else if(s.resumeToken.approximateByteSize()>0){u=u.withResumeToken(s.resumeToken,r)}i=i.insert(a,u);if(l$(c,u,s)){o.push(n.targetCache.updateTargetData(e,u))}});let a=i7();let c=su();t.documentUpdates.forEach(r=>{if(t.resolvedLimboDocuments.has(r)){o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}});o.push(lG(e,s,t.documentUpdates).next(e=>{a=e.changedDocuments;c=e.existenceChangedKeys}));if(!r.isEqual(ew.min())){const t=n.targetCache.getLastRemoteSnapshotVersion(e).next(t=>{return n.targetCache.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(t)}return eV.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,c)).next(()=>a)}).then(e=>{n.targetDataByTarget=i;return e})}function lG(e,t,n){let r=su();let i=su();n.forEach(e=>r=r.add(e));return t.getEntries(e,r).next(e=>{let r=i7();n.forEach((n,s)=>{const o=e.get(n);if(s.isFoundDocument()!==o.isFoundDocument()){i=i.add(n)}if(s.isNoDocument()&&s.version.isEqual(ew.min())){t.removeEntry(n,s.readTime);r=r.insert(n,s)}else if(!o.isValidDocument()||s.version.compareTo(o.version)>0||s.version.compareTo(o.version)===0&&o.hasPendingWrites){t.addEntry(s);r=r.insert(n,s)}else{C(lx,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}});return{changedDocuments:r,existenceChangedKeys:i}})}function l$(e,t,n){if(e.resumeToken.approximateByteSize()===0){return true}const r=t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds();if(r>=lD){return true}const i=n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size;return i>0}async function lH(e,t){const n=D(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>{return eV.forEach(t,t=>{return eV.forEach(t.addedKeys,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>eV.forEach(t.removedKeys,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))})})}catch(e){if(eQ(e)){C(lx,"Failed to update sequence numbers: "+e)}else{throw e}}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.targetDataByTarget.get(t);const r=e.snapshotVersion;const i=e.withLastLimboFreeSnapshotVersion(r);n.targetDataByTarget=n.targetDataByTarget.insert(t,i)}}}function lW(e,t){const n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>{if(t===undefined){t=nJ}return n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}function lK(e,t){const n=D(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}function lQ(e,t){const n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.targetCache.getTargetData(e,t).next(i=>{if(i){r=i;return eV.resolve(r)}else{return n.targetCache.allocateTargetId(e).next(i=>{r=new aD(t,i,"TargetPurposeListen",e.currentSequenceNumber);return n.targetCache.addTargetData(e,r).next(()=>r)})}})}).then(e=>{const r=n.targetDataByTarget.get(e.targetId);if(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0){n.targetDataByTarget=n.targetDataByTarget.insert(e.targetId,e);n.targetIdByTarget.set(t,e.targetId)}return e})}function lY(e,t,n){const r=D(e);const i=r.targetIdByTarget.get(n);if(i!==undefined){return eV.resolve(r.targetDataByTarget.get(i))}else{return r.targetCache.getTargetData(t,n)}}async function lX(e,t,n){const r=D(e);const i=r.targetDataByTarget.get(t);const s=n?"readwrite":"readwrite-primary";try{if(!n){await r.persistence.runTransaction("Release target",s,e=>{return r.persistence.referenceDelegate.removeTarget(e,i)})}}catch(e){if(eQ(e)){C(lx,`Failed to update sequence numbers for target ${t}: ${e}`)}else{throw e}}r.targetDataByTarget=r.targetDataByTarget.remove(t);r.targetIdByTarget.delete(i.target)}function lJ(e,t,n){const r=D(e);let i=ew.min();let s=su();return r.persistence.runTransaction("Execute query","readwrite",e=>{return lY(r,e,iV(t)).next(t=>{if(t){i=t.lastLimboFreeSnapshotVersion;return r.targetCache.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}}).next(()=>r.queryEngine.getDocumentsMatchingQuery(e,t,n?i:ew.min(),n?s:su())).next(e=>{l4(r,i3(t),e);return{documents:e,remoteKeys:s}})})}function lZ(e,t,n,r){const i=n.batch;const s=i.keys();let o=eV.resolve();s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);N(s!==null,48541);if(t.version.compareTo(s)<0){i.applyToRemoteDocument(t,n);if(t.isValidDocument()){t.setReadTime(n.commitVersion);r.addEntry(t)}}})});return o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}function l0(e,t){const n=D(e);const r=D(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>{return r.lookupMutationKeys(e,t).next(t=>{if(t){return n.localDocuments.getDocuments(e,t)}else{return eV.resolve(null)}})})}function l1(e,t){const n=D(D(e,lk).mutationQueue);n.removeCachedMutationKeys(t)}function l2(e){const t=D(D(e,lk).persistence);return t.getActiveClients()}function l3(e,t){const n=D(e);const r=D(n.targetCache);const i=n.targetDataByTarget.get(t);if(i){return Promise.resolve(i.target)}else{return n.persistence.runTransaction("Get target data","readonly",e=>{return r.getTargetDataForTarget(e,t).next(e=>e?e.target:null)})}}function l6(e,t){const n=D(e);const r=n.collectionGroupReadTime.get(t)||ew.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.remoteDocuments.getAllFromCollectionGroup(e,t,ek(r,eS),Number.MAX_SAFE_INTEGER)).then(e=>{l4(n,t,e);return e})}function l4(e,t,n){let r=e.collectionGroupReadTime.get(t)||ew.min();n.forEach((e,t)=>{if(t.readTime.compareTo(r)>0){r=t.readTime}});e.collectionGroupReadTime.set(t,r)}function l8(e){return iV(iD(ei.fromString(`__bundle__/docs/${e}`)))}async function l5(e,t,n,r){const i=D(e);let s=su();let o=i7();for(const e of n){const n=t.toDocumentKey(e.metadata.name);if(e.document){s=s.add(n)}const r=t.toMutableDocument(e);r.setReadTime(t.toSnapshotVersion(e.metadata.readTime));o=o.insert(n,r)}const a=i.remoteDocuments.newChangeBuffer({trackRemovals:true});const c=await lQ(i,l8(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>{return lG(e,a,o).next(t=>{a.apply(e);return t}).next(t=>{return i.targetCache.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.targetCache.addMatchingKeys(e,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.changedDocuments,t.existenceChangedKeys)).next(()=>t.changedDocuments)})})}function l7(e,t){const n=D(e);const r=ox(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>{return n.bundleCache.getBundleMetadata(e,t.id)}).then(e=>{return!!e&&e.createTime.compareTo(r)>=0})}function l9(e,t){const n=D(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>{return n.bundleCache.saveBundleMetadata(e,t)})}function de(e,t){const n=D(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.bundleCache.getNamedQuery(e,t))}async function dt(e,t,n=su()){const r=await lQ(e,iV(aY(t.bundledQuery)));const i=D(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=ox(t.readTime);if(r.snapshotVersion.compareTo(s)>=0){return i.bundleCache.saveNamedQuery(e,t)}const o=r.withResumeToken(nD.EMPTY_BYTE_STRING,s);i.targetDataByTarget=i.targetDataByTarget.insert(o.targetId,o);return i.targetCache.updateTargetData(e,o).next(()=>i.targetCache.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.targetCache.addMatchingKeys(e,n,r.targetId)).next(()=>i.bundleCache.saveNamedQuery(e,t))})}async function dn(e,t){const n=D(e);const r=n.indexManager;const i=[];return n.persistence.runTransaction("Configure indexes","readwrite",e=>r.getFieldIndexes(e).next(n=>lP(n,t,eA,t=>{i.push(r.addFieldIndex(e,t))},t=>{i.push(r.deleteFieldIndex(e,t))})).next(()=>eV.waitFor(i)))}function dr(e,t){const n=D(e);n.queryEngine.indexAutoCreationEnabled=t}function di(e){const t=D(e);const n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",e=>n.deleteAllFieldIndexes(e))}class ds{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}const da=100;function dc(){if((0,a.nr)()){return 8}else if(eH((0,a.ZQ)())>0){return 6}else{return 4}}class du{constructor(){this.initialized=false;this.indexAutoCreationEnabled=false;this.indexAutoCreationMinCollectionSize=da;this.relativeIndexReadCostPerDocument=dc()}initialize(e,t){this.localDocumentsView=e;this.indexManager=t;this.initialized=true}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.performQueryUsingIndex(e,t).next(e=>{i.result=e}).next(()=>{if(i.result){return}return this.performQueryUsingRemoteKeys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result){return}const n=new ds;return this.executeFullCollectionScan(e,t,n).next(r=>{i.result=r;if(this.indexAutoCreationEnabled){return this.createCacheIndexes(e,t,n,r.size)}})}).next(()=>i.result)}createCacheIndexes(e,t,n,r){if(n.documentReadCount<this.indexAutoCreationMinCollectionSize){if(S()<=s.$b.DEBUG){C("QueryEngine","SDK will not create cache indexes for query:",iX(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents")}return eV.resolve()}if(S()<=s.$b.DEBUG){C("QueryEngine","Query:",iX(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results.")}if(n.documentReadCount>this.relativeIndexReadCostPerDocument*r){if(S()<=s.$b.DEBUG){C("QueryEngine","The SDK decides to create cache indexes for query:",iX(t),"as using cache indexes may help improve performance.")}return this.indexManager.createTargetIndexes(e,iV(t))}return eV.resolve()}performQueryUsingIndex(e,t){if(iM(t)){return eV.resolve(null)}let n=iV(t);return this.indexManager.getIndexType(e,n).next(r=>{if(r===0){return null}if(t.limit!==null&&r===1){t=iH(t,null,"F");n=iV(t)}return this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=su(...r);return this.localDocumentsView.getDocuments(e,i).next(r=>{return this.indexManager.getMinOffset(e,n).next(n=>{const s=this.applyQuery(t,r);if(this.needsRefill(t,s,i,n.readTime)){return this.performQueryUsingIndex(e,iH(t,null,"F"))}return this.appendRemainingResults(e,s,t,n)})})})})}performQueryUsingRemoteKeys(e,t,n,r){if(iM(t)){return eV.resolve(null)}if(r.isEqual(ew.min())){return eV.resolve(null)}return this.localDocumentsView.getDocuments(e,n).next(i=>{const o=this.applyQuery(t,i);if(this.needsRefill(t,o,n,r)){return eV.resolve(null)}if(S()<=s.$b.DEBUG){C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iX(t))}return this.appendRemainingResults(e,o,t,ek(r,eS)).next(e=>e)})}applyQuery(e,t){let n=new nC(i6(e));t.forEach((t,r)=>{if(iJ(e,r)){n=n.add(r)}});return n}needsRefill(e,t,n,r){if(e.limit===null){return false}if(n.size!==t.size){return true}const i=e.limitType==="F"?t.last():t.first();if(!i){return false}return i.hasPendingWrites||i.version.compareTo(r)>0}executeFullCollectionScan(e,t,n){if(S()<=s.$b.DEBUG){C("QueryEngine","Using full collection scan to execute query:",iX(t))}return this.localDocumentsView.getDocumentsMatchingQuery(e,t,eL.min(),n)}appendRemainingResults(e,t,n,r){return this.localDocumentsView.getDocumentsMatchingQuery(e,n,r).next(e=>{t.forEach(t=>{e=e.insert(t.key,t)});return e})}}const dl="firestore_clients";function dd(e,t){return`${dl}_${e}_${t}`}const df="firestore_mutations";function dh(e,t,n){let r=`${df}_${e}_${n}`;if(t.isAuthenticated()){r+=`_${t.uid}`}return r}const dp="firestore_targets";function dm(e,t){return`${dp}_${e}_${t}`}const dg="firestore_online_state";function dy(e){return`${dg}_${e}`}const dv="firestore_bundle_loaded_v2";function db(e){return`${dv}_${e}`}const d_="firestore_sequence_number";function dE(e){return`${d_}_${e}`}const dw="SharedClientState";class dS{constructor(e,t,n,r){this.user=e;this.batchId=t;this.state=n;this.error=r}static fromWebStorageEntry(e,t,n){const r=JSON.parse(n);let i=typeof r==="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===undefined||typeof r.error==="object");let s=undefined;if(i&&r.error){i=typeof r.error.message==="string"&&typeof r.error.code==="string";if(i){s=new M(r.error.code,r.error.message)}}if(i){return new dS(e,t,r.state,s)}else{R(dw,`Failed to parse mutation state for ID '${t}': ${n}`);return null}}toWebStorageJSON(){const e={state:this.state,updateTimeMs:Date.now()};if(this.error){e.error={code:this.error.code,message:this.error.message}}return JSON.stringify(e)}}class dT{constructor(e,t,n){this.targetId=e;this.state=t;this.error=n}static fromWebStorageEntry(e,t){const n=JSON.parse(t);let r=typeof n==="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===undefined||typeof n.error==="object");let i=undefined;if(r&&n.error){r=typeof n.error.message==="string"&&typeof n.error.code==="string";if(r){i=new M(n.error.code,n.error.message)}}if(r){return new dT(e,n.state,i)}else{R(dw,`Failed to parse target state for ID '${e}': ${t}`);return null}}toWebStorageJSON(){const e={state:this.state,updateTimeMs:Date.now()};if(this.error){e.error={code:this.error.code,message:this.error.message}}return JSON.stringify(e)}}class dC{constructor(e,t){this.clientId=e;this.activeTargetIds=t}static fromWebStorageEntry(e,t){const n=JSON.parse(t);let r=typeof n==="object"&&n.activeTargetIds instanceof Array;let i=sd();for(let e=0;r&&e<n.activeTargetIds.length;++e){r=n1(n.activeTargetIds[e]);i=i.add(n.activeTargetIds[e])}if(r){return new dC(e,i)}else{R(dw,`Failed to parse client data for instance '${e}': ${t}`);return null}}}class dR{constructor(e,t){this.clientId=e;this.onlineState=t}static fromWebStorageEntry(e){const t=JSON.parse(e);const n=typeof t==="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId==="string";if(n){return new dR(t.clientId,t.onlineState)}else{R(dw,`Failed to parse online state: ${e}`);return null}}}class dI{constructor(){this.activeTargetIds=sd()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dO{constructor(e,t,n,r,i){this.window=e;this.queue=t;this.persistenceKey=n;this.localClientId=r;this.syncEngine=null;this.onlineStateHandler=null;this.sequenceNumberHandler=null;this.storageListener=this.handleWebStorageEvent.bind(this);this.activeClients=new nE(Q);this.started=false;this.earlyEvents=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage;this.currentUser=i;this.localClientStorageKey=dd(this.persistenceKey,this.localClientId);this.sequenceNumberKey=dE(this.persistenceKey);this.activeClients=this.activeClients.insert(this.localClientId,new dI);this.clientStateKeyRe=new RegExp(`^${dl}_${s}_([^_]*)$`);this.mutationBatchKeyRe=new RegExp(`^${df}_${s}_(\\d+)(?:_(.*))?$`);this.queryTargetKeyRe=new RegExp(`^${dp}_${s}_(\\d+)$`);this.onlineStateKey=dy(this.persistenceKey);this.bundleLoadedKey=db(this.persistenceKey);this.window.addEventListener("storage",this.storageListener)}static isAvailable(e){return!!(e&&e.localStorage)}async start(){const e=await this.syncEngine.getActiveClients();for(const t of e){if(t===this.localClientId){continue}const e=this.getItem(dd(this.persistenceKey,t));if(e){const n=dC.fromWebStorageEntry(t,e);if(n){this.activeClients=this.activeClients.insert(n.clientId,n)}}}this.persistClientState();const t=this.storage.getItem(this.onlineStateKey);if(t){const e=this.fromWebStorageOnlineState(t);if(e){this.handleOnlineStateEvent(e)}}for(const e of this.earlyEvents){this.handleWebStorageEvent(e)}this.earlyEvents=[];this.window.addEventListener("pagehide",()=>this.shutdown());this.started=true}writeSequenceNumber(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(e){let t=false;this.activeClients.forEach((n,r)=>{if(r.activeTargetIds.has(e)){t=true}});return t}addPendingMutation(e){this.persistMutationState(e,"pending")}updateMutationState(e,t,n){this.persistMutationState(e,t,n);this.removeMutationState(e)}addLocalQueryTarget(e,t=true){let n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(dm(this.persistenceKey,e));if(t){const r=dT.fromWebStorageEntry(e,t);if(r){n=r.state}}}if(t){this.localClientState.addQueryTarget(e)}this.persistClientState();return n}removeLocalQueryTarget(e){this.localClientState.removeQueryTarget(e);this.persistClientState()}isLocalQueryTarget(e){return this.localClientState.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dm(this.persistenceKey,e))}updateQueryState(e,t,n){this.persistQueryTargetState(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.removeMutationState(e)});this.currentUser=e;n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.persistOnlineState(e)}notifyBundleLoaded(e){this.persistBundleLoadedState(e)}shutdown(){if(this.started){this.window.removeEventListener("storage",this.storageListener);this.removeItem(this.localClientStorageKey);this.started=false}}getItem(e){const t=this.storage.getItem(e);C(dw,"READ",e,t);return t}setItem(e,t){C(dw,"SET",e,t);this.storage.setItem(e,t)}removeItem(e){C(dw,"REMOVE",e);this.storage.removeItem(e)}handleWebStorageEvent(e){const t=e;if(t.storageArea===this.storage){C(dw,"EVENT",t.key,t.newValue);if(t.key===this.localClientStorageKey){R("Received WebStorage notification for local change. Another client might have "+"garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(t);return}if(t.key===null){return}if(this.clientStateKeyRe.test(t.key)){if(t.newValue!=null){const e=this.fromWebStorageClientState(t.key,t.newValue);if(e){return this.handleClientStateEvent(e.clientId,e)}}else{const e=this.fromWebStorageClientStateKey(t.key);return this.handleClientStateEvent(e,null)}}else if(this.mutationBatchKeyRe.test(t.key)){if(t.newValue!==null){const e=this.fromWebStorageMutationMetadata(t.key,t.newValue);if(e){return this.handleMutationBatchEvent(e)}}}else if(this.queryTargetKeyRe.test(t.key)){if(t.newValue!==null){const e=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue);if(e){return this.handleQueryTargetEvent(e)}}}else if(t.key===this.onlineStateKey){if(t.newValue!==null){const e=this.fromWebStorageOnlineState(t.newValue);if(e){return this.handleOnlineStateEvent(e)}}}else if(t.key===this.sequenceNumberKey){const e=dA(t.newValue);if(e!==e8.INVALID){this.sequenceNumberHandler(e)}}else if(t.key===this.bundleLoadedKey){const e=this.fromWebStoreBundleLoadedState(t.newValue);await Promise.all(e.map(e=>this.syncEngine.synchronizeWithChangedDocuments(e)))}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(e,t,n){const r=new dS(this.currentUser,e,t,n);const i=dh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.toWebStorageJSON())}removeMutationState(e){const t=dh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}persistOnlineState(e){const t={clientId:this.localClientId,onlineState:e};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))}persistQueryTargetState(e,t,n){const r=dm(this.persistenceKey,e);const i=new dT(e,t,n);this.setItem(r,i.toWebStorageJSON())}persistBundleLoadedState(e){const t=JSON.stringify(Array.from(e));this.setItem(this.bundleLoadedKey,t)}fromWebStorageClientStateKey(e){const t=this.clientStateKeyRe.exec(e);return t?t[1]:null}fromWebStorageClientState(e,t){const n=this.fromWebStorageClientStateKey(e);return dC.fromWebStorageEntry(n,t)}fromWebStorageMutationMetadata(e,t){const n=this.mutationBatchKeyRe.exec(e);const r=Number(n[1]);const i=n[2]!==undefined?n[2]:null;return dS.fromWebStorageEntry(new y(i),r,t)}fromWebStorageQueryTargetMetadata(e,t){const n=this.queryTargetKeyRe.exec(e);const r=Number(n[1]);return dT.fromWebStorageEntry(r,t)}fromWebStorageOnlineState(e){return dR.fromWebStorageEntry(e)}fromWebStoreBundleLoadedState(e){return JSON.parse(e)}async handleMutationBatchEvent(e){if(e.user.uid!==this.currentUser.uid){C(dw,`Ignoring mutation for non-active user ${e.user.uid}`);return}return this.syncEngine.applyBatchState(e.batchId,e.state,e.error)}handleQueryTargetEvent(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)}handleClientStateEvent(e,t){const n=t?this.activeClients.insert(e,t):this.activeClients.remove(e);const r=this.extractActiveQueryTargets(this.activeClients);const i=this.extractActiveQueryTargets(n);const s=[];const o=[];i.forEach(e=>{if(!r.has(e)){s.push(e)}});r.forEach(e=>{if(!i.has(e)){o.push(e)}});return this.syncEngine.applyActiveTargetsChange(s,o).then(()=>{this.activeClients=n})}handleOnlineStateEvent(e){if(this.activeClients.get(e.clientId)){this.onlineStateHandler(e.onlineState)}}extractActiveQueryTargets(e){let t=sd();e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)});return t}}function dA(e){let t=e8.INVALID;if(e!=null){try{const n=JSON.parse(e);N(typeof n==="number",30636,{seqString:e});t=n}catch(e){R(dw,"Failed to read sequence number from WebStorage",e)}}return t}class dP{constructor(){this.localState=new dI;this.queryState={};this.onlineStateHandler=null;this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=true){if(t){this.localState.addQueryTarget(e)}return this.queryState[e]||"not-current"}updateQueryState(e,t,n){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){this.localState=new dI;return Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dN{addCallback(e){}shutdown(){}}class dx{constructor(e){this.sendFn=e.sendFn;this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}}let dD=null;function dk(){const e=0x10000000;const t=0x90000000;const n=t-e;const r=Math.round(n*Math.random());return e+r}function dM(){if(dD===null){dD=dk()}else{dD++}return"0x"+dD.toString(16)}function dL(e){return new Promise((t,n)=>{e((e,r)=>{if(e){n(e)}else{t(r)}})})}const dj="1.9.15";const dF="GrpcConnection";const dB=`gl-node/${process.versions.node} fire/${b} grpc/${dj}`;function dU(e,t,n,r){N(t===null||t.type==="OAuth",36936);const i=new h.OS;if(t){t.headers.forEach((e,t)=>i.set(t,e))}if(n){n.headers.forEach((e,t)=>i.set(t,e))}if(r){i.set("X-Firebase-GMPID",r)}i.set("X-Goog-Api-Client",dB);i.set("Google-Cloud-Resource-Prefix",e);i.set("x-goog-request-params",e);return i}class dV{get shouldResourcePathBeIncludedInRequest(){return true}constructor(e,t){this.databaseInfo=t;this.cachedStub=null;this.firestore=e["google"]["firestore"]["v1"];this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}ensureActiveStub(){if(!this.cachedStub){C(dF,"Creating Firestore stub.");const e=this.databaseInfo.ssl?h.z3.createSsl():h.z3.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,n,r,i){const s=dM();const o=this.ensureActiveStub();const a=dU(this.databasePath,r,i,this.databaseInfo.appId);const c={database:this.databasePath,...n};return dL(t=>{C(dF,`RPC '${e}' ${s} invoked with request:`,n);return o[e](c,a,(n,r)=>{if(n){C(dF,`RPC '${e}' ${s} failed with error:`,n);t(new M(s5(n.code),n.message))}else{C(dF,`RPC '${e}' ${s} completed with response:`,r);t(undefined,r)}})})}invokeStreamingRPC(e,t,n,r,i,s){const o=dM();const a=[];const c=new L;C(dF,`RPC '${e}' ${o} invoked (streaming) with request:`,n);const u=this.ensureActiveStub();const l=dU(this.databasePath,r,i,this.databaseInfo.appId);const d={...n,database:this.databasePath};const f=u[e](d,l);let h=false;f.on("data",t=>{C(dF,`RPC ${e} ${o} received result:`,t);a.push(t);if(s!==undefined&&a.length===s){h=true;c.resolve(a)}});f.on("end",()=>{C(dF,`RPC '${e}' ${o} completed.`);if(!h){h=true;c.resolve(a)}});f.on("error",t=>{C(dF,`RPC '${e}' ${o} failed with error:`,t);const n=s5(t.code);c.reject(new M(n,t.message))});return c.promise}openStream(e,t,n){const r=dM();const i=this.ensureActiveStub();const s=dU(this.databasePath,t,n,this.databaseInfo.appId);const o=i[e](s);let a=false;const c=e=>{if(!a){a=true;u.callOnClose(e);o.end()}};const u=new dx({sendFn:t=>{if(!a){C(dF,`RPC '${e}' stream ${r} sending:`,t);try{o.write(t)}catch(e){R("Failure sending:",t);R("Error:",e);throw e}}else{C(dF,`RPC '${e}' stream ${r} `+"not sending because gRPC stream is closed:",t)}},closeFn:()=>{C(dF,`RPC '${e}' stream ${r} closed locally via close().`);c()}});let l=false;o.on("data",t=>{if(!a){C(dF,`RPC '${e}' stream ${r} received:`,t);if(!l){u.callOnConnected();l=true}u.callOnMessage(t)}});o.on("end",()=>{C(dF,`RPC '${e}' stream ${r} ended.`);c()});o.on("error",t=>{if(!a){I(dF,`RPC '${e}' stream ${r} error. Code:`,t.code,"Message:",t.message);const n=s5(t.code);c(new M(n,t.message))}});C(dF,`Opening RPC '${e}' stream ${r} `+`to ${this.databaseInfo.host}`);setTimeout(()=>{u.callOnOpen()},0);return u}terminate(){if(this.cachedStub){this.cachedStub.close();this.cachedStub=undefined}}}const dz={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:true,objc_class_prefix:"GPB",cc_enable_arenas:true,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},"package":{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:false}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:false}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:true}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{"default":"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{"default":"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{"default":"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:true,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:true,responseType:"WriteResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:true,responseType:"ListenResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},"delete":{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:true,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:true},nested:{http:{type:"HttpRule",id:0x44f2530,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},"delete":{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:true,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:true,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:true,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:true,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var dq={nested:dz};var dG=Object.freeze({__proto__:null,nested:dz,"default":dq});const d$={longs:String,enums:String,defaults:true,oneofs:false};function dH(){const e=p.rS(dG,d$);return h.ex(e)}function dW(e){const t=dH();return new dV(t,e)}function dK(){return new dN}function dQ(){if(process.env.USE_MOCK_PERSISTENCE==="YES"){return window}return null}function dY(){return null}function dX(e){return new oS(e,false)}const dJ="ExponentialBackoff";const dZ=1e3;const d0=1.5;const d1=60*1e3;class d2{constructor(e,t,n=dZ,r=d0,i=d1){this.queue=e;this.timerId=t;this.initialDelayMs=n;this.backoffFactor=r;this.maxDelayMs=i;this.currentBaseMs=0;this.timerPromise=null;this.lastAttemptTime=Date.now();this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();const t=Math.floor(this.currentBaseMs+this.jitterDelayMs());const n=Math.max(0,Date.now()-this.lastAttemptTime);const r=Math.max(0,t-n);if(r>0){C(dJ,`Backing off for ${r} ms `+`(base delay: ${this.currentBaseMs} ms, `+`delay with jitter: ${t} ms, `+`last attempt: ${n} ms ago)`)}this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,r,()=>{this.lastAttemptTime=Date.now();return e()});this.currentBaseMs*=this.backoffFactor;if(this.currentBaseMs<this.initialDelayMs){this.currentBaseMs=this.initialDelayMs}if(this.currentBaseMs>this.maxDelayMs){this.currentBaseMs=this.maxDelayMs}}skipBackoff(){if(this.timerPromise!==null){this.timerPromise.skipDelay();this.timerPromise=null}}cancel(){if(this.timerPromise!==null){this.timerPromise.cancel();this.timerPromise=null}}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}const d3="PersistentStream";const d6=60*1e3;const d4=10*1e3;class d8{constructor(e,t,n,r,i,s,o,a){this.queue=e;this.idleTimerId=n;this.healthTimerId=r;this.connection=i;this.authCredentialsProvider=s;this.appCheckCredentialsProvider=o;this.listener=a;this.state=0;this.closeCount=0;this.idleTimer=null;this.healthCheck=null;this.stream=null;this.responseCount=0;this.backoff=new d2(e,t)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){this.responseCount=0;if(this.state===4){this.performBackoff();return}this.auth()}async stop(){if(this.isStarted()){await this.close(0)}}inhibitBackoff(){this.state=0;this.backoff.reset()}markIdle(){if(this.isOpen()&&this.idleTimer===null){this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,d6,()=>this.handleIdleCloseTimer())}}sendRequest(e){this.cancelIdleCheck();this.stream.send(e)}async handleIdleCloseTimer(){if(this.isOpen()){return this.close(0)}}cancelIdleCheck(){if(this.idleTimer){this.idleTimer.cancel();this.idleTimer=null}}cancelHealthCheck(){if(this.healthCheck){this.healthCheck.cancel();this.healthCheck=null}}async close(e,t){this.cancelIdleCheck();this.cancelHealthCheck();this.backoff.cancel();this.closeCount++;if(e!==4){this.backoff.reset()}else if(t&&t.code===k.RESOURCE_EXHAUSTED){R(t.toString());R("Using maximum backoff delay to prevent overloading the backend.");this.backoff.resetToMax()}else if(t&&t.code===k.UNAUTHENTICATED&&this.state!==3){this.authCredentialsProvider.invalidateToken();this.appCheckCredentialsProvider.invalidateToken()}if(this.stream!==null){this.tearDown();this.stream.close();this.stream=null}this.state=e;await this.listener.onClose(t)}tearDown(){}auth(){this.state=1;const e=this.getCloseGuardedDispatcher(this.closeCount);const t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{if(this.closeCount===t){this.startStream(e,n)}},t=>{e(()=>{const e=new M(k.UNKNOWN,"Fetching auth token failed: "+t.message);return this.handleStreamClose(e)})})}startStream(e,t){const n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t);this.stream.onConnected(()=>{n(()=>this.listener.onConnected())});this.stream.onOpen(()=>{n(()=>{this.state=2;this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,d4,()=>{if(this.isOpen()){this.state=3}return Promise.resolve()});return this.listener.onOpen()})});this.stream.onClose(e=>{n(()=>{return this.handleStreamClose(e)})});this.stream.onMessage(e=>{n(()=>{if(++this.responseCount===1){return this.onFirst(e)}else{return this.onNext(e)}})})}performBackoff(){this.state=5;this.backoff.backoffAndRun(async()=>{this.state=0;this.start()})}handleStreamClose(e){C(d3,`close with error: ${e}`);this.stream=null;return this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>{if(this.closeCount===e){return t()}else{C(d3,"stream callback skipped by getCloseGuardedDispatcher.");return Promise.resolve()}})}}}class d5 extends d8{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s);this.serializer=i}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onFirst(e){return this.onNext(e)}onNext(e){this.backoff.reset();const t=oQ(this.serializer,e);const n=oX(e);return this.listener.onWatchChange(t,n)}watch(e){const t={};t.database=oU(this.serializer);t.addTarget=ai(this.serializer,e);const n=an(this.serializer,e);if(n){t.labels=n}this.sendRequest(t)}unwatch(e){const t={};t.database=oU(this.serializer);t.removeTarget=e;this.sendRequest(t)}}class d7 extends d8{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s);this.serializer=i}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=undefined;super.start()}tearDown(){if(this.handshakeComplete){this.writeMutations([])}}startRpc(e,t){return this.connection.openStream("Write",e,t)}onFirst(e){N(!!e.streamToken,31322);this.lastStreamToken=e.streamToken;N(!e.writeResults||e.writeResults.length===0,55816);return this.listener.onHandshakeComplete()}onNext(e){N(!!e.streamToken,12678);this.lastStreamToken=e.streamToken;this.backoff.reset();const t=o3(e.writeResults,e.commitTime);const n=ox(e.commitTime);return this.listener.onMutationResult(n,t)}writeHandshake(){const e={};e.database=oU(this.serializer);this.sendRequest(e)}writeMutations(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>oJ(this.serializer,e))};this.sendRequest(t)}}class d9{}class fe extends d9{constructor(e,t,n,r){super();this.authCredentials=e;this.appCheckCredentials=t;this.connection=n;this.serializer=r;this.terminated=false}verifyInitialized(){if(this.terminated){throw new M(k.FAILED_PRECONDITION,"The client has already been terminated.")}}invokeRPC(e,t,n,r){this.verifyInitialized();return Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>{return this.connection.invokeRPC(e,ok(t,n),r,i,s)}).catch(e=>{if(e.name==="FirebaseError"){if(e.code===k.UNAUTHENTICATED){this.authCredentials.invalidateToken();this.appCheckCredentials.invalidateToken()}throw e}else{throw new M(k.UNKNOWN,e.toString())}})}invokeStreamingRPC(e,t,n,r,i){this.verifyInitialized();return Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>{return this.connection.invokeStreamingRPC(e,ok(t,n),r,s,o,i)}).catch(e=>{if(e.name==="FirebaseError"){if(e.code===k.UNAUTHENTICATED){this.authCredentials.invalidateToken();this.appCheckCredentials.invalidateToken()}throw e}else{throw new M(k.UNKNOWN,e.toString())}})}terminate(){this.terminated=true;this.connection.terminate()}}function ft(e,t,n,r){return new fe(e,t,n,r)}async function fn(e,t){const n=D(e);const r={writes:t.map(e=>oJ(n.serializer,e))};await n.invokeRPC("Commit",n.serializer.databaseId,ei.emptyPath(),r)}async function fr(e,t){const n=D(e);const r={documents:t.map(e=>oL(n.serializer,e))};const i=await n.invokeStreamingRPC("BatchGetDocuments",n.serializer.databaseId,ei.emptyPath(),r,t.length);const s=new Map;i.forEach(e=>{const t=oK(n.serializer,e);s.set(t.key.toString(),t)});const o=[];t.forEach(e=>{const t=s.get(e.toString());N(!!t,55234,{key:e});o.push(t)});return o}async function fi(e,t,n){const r=D(e);const{request:i,aliasMap:s,parent:o}=o9(r.serializer,iz(t),n);if(!r.connection.shouldResourcePathBeIncludedInRequest){delete i.parent}const a=await r.invokeStreamingRPC("RunAggregationQuery",r.serializer.databaseId,o,i,1);const c=a.filter(e=>!!e.result);N(c.length===1,64727);const u=c[0].result?.aggregateFields;const l=Object.keys(u).reduce((e,t)=>{e[s[t]]=u[t];return e},{});return l}function fs(e,t,n){const r=D(e);r.verifyInitialized();return new d7(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}function fo(e,t,n){const r=D(e);r.verifyInitialized();return new d5(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}const fa="OnlineStateTracker";const fc=1;const fu=10*1e3;class fl{constructor(e,t){this.asyncQueue=e;this.onlineStateHandler=t;this.state="Unknown";this.watchStreamFailures=0;this.onlineStateTimer=null;this.shouldWarnClientIsOffline=true}handleWatchStreamStart(){if(this.watchStreamFailures===0){this.setAndBroadcast("Unknown");this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",fu,()=>{this.onlineStateTimer=null;this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${fu/1e3} `+`seconds.`);this.setAndBroadcast("Offline");return Promise.resolve()})}}handleWatchStreamFailure(e){if(this.state==="Online"){this.setAndBroadcast("Unknown")}else{this.watchStreamFailures++;if(this.watchStreamFailures>=fc){this.clearOnlineStateTimer();this.logClientOfflineWarningIfNecessary(`Connection failed ${fc} `+`times. Most recent error: ${e.toString()}`);this.setAndBroadcast("Offline")}}}set(e){this.clearOnlineStateTimer();this.watchStreamFailures=0;if(e==="Online"){this.shouldWarnClientIsOffline=false}this.setAndBroadcast(e)}setAndBroadcast(e){if(e!==this.state){this.state=e;this.onlineStateHandler(e)}}logClientOfflineWarningIfNecessary(e){const t=`Could not reach Cloud Firestore backend. ${e}
`+`This typically indicates that your device does not have a healthy `+`Internet connection at the moment. The client will operate in offline `+`mode until it is able to successfully connect to the backend.`;if(this.shouldWarnClientIsOffline){R(t);this.shouldWarnClientIsOffline=false}else{C(fa,t)}}clearOnlineStateTimer(){if(this.onlineStateTimer!==null){this.onlineStateTimer.cancel();this.onlineStateTimer=null}}}const fd="RemoteStore";const ff=10;class fh{constructor(e,t,n,r,i){this.localStore=e;this.datastore=t;this.asyncQueue=n;this.remoteSyncer={};this.writePipeline=[];this.listenTargets=new Map;this.offlineCauses=new Set;this.onNetworkStatusChange=[];this.connectivityMonitor=i;this.connectivityMonitor.addCallback(e=>{n.enqueueAndForget(async()=>{if(fR(this)){C(fd,"Restarting streams for network reachability change.");await fH(this)}})});this.onlineStateTracker=new fl(n,r)}}function fp(e,t,n,r,i){return new fh(e,t,n,r,i)}function fm(e){const t=D(e);t.offlineCauses.delete(0);return fg(t)}async function fg(e){if(fR(e)){for(const t of e.onNetworkStatusChange){await t(true)}}}async function fy(e){const t=D(e);t.offlineCauses.add(0);await fv(t);t.onlineStateTracker.set("Offline")}async function fv(e){for(const t of e.onNetworkStatusChange){await t(false)}}async function fb(e){const t=D(e);C(fd,"RemoteStore shutting down.");t.offlineCauses.add(5);await fv(t);t.connectivityMonitor.shutdown();t.onlineStateTracker.set("Unknown")}function f_(e,t){const n=D(e);if(n.listenTargets.has(t.targetId)){return}n.listenTargets.set(t.targetId,t);if(fC(n)){fT(n)}else if(fQ(n).isOpen()){fw(n,t)}}function fE(e,t){const n=D(e);const r=fQ(n);n.listenTargets.delete(t);if(r.isOpen()){fS(n,t)}if(n.listenTargets.size===0){if(r.isOpen()){r.markIdle()}else if(fR(n)){n.onlineStateTracker.set("Unknown")}}}function fw(e,t){e.watchChangeAggregator.recordPendingTargetRequest(t.targetId);if(t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ew.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fQ(e).watch(t)}function fS(e,t){e.watchChangeAggregator.recordPendingTargetRequest(t);fQ(e).unwatch(t)}function fT(e){e.watchChangeAggregator=new om({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),getTargetDataForTarget:t=>e.listenTargets.get(t)||null,getDatabaseId:()=>e.datastore.serializer.databaseId});fQ(e).start();e.onlineStateTracker.handleWatchStreamStart()}function fC(e){return fR(e)&&!fQ(e).isStarted()&&e.listenTargets.size>0}function fR(e){const t=D(e);return t.offlineCauses.size===0}function fI(e){e.watchChangeAggregator=undefined}async function fO(e){e.onlineStateTracker.set("Online")}async function fA(e){e.listenTargets.forEach((t,n)=>{fw(e,t)})}async function fP(e,t){fI(e);if(fC(e)){e.onlineStateTracker.handleWatchStreamFailure(t);fT(e)}else{e.onlineStateTracker.set("Unknown")}}async function fN(e,t,n){e.onlineStateTracker.set("Online");if(t instanceof of&&t.state===2&&t.cause){try{await fM(e,t)}catch(n){C(fd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n);await fx(e,n)}return}if(t instanceof ol){e.watchChangeAggregator.handleDocumentChange(t)}else if(t instanceof od){e.watchChangeAggregator.handleExistenceFilter(t)}else{e.watchChangeAggregator.handleTargetChange(t)}if(!n.isEqual(ew.min())){try{const t=await lz(e.localStore);if(n.compareTo(t)>=0){await fk(e,n)}}catch(t){C(fd,"Failed to raise snapshot:",t);await fx(e,t)}}}async function fx(e,t,n){if(eQ(t)){e.offlineCauses.add(1);await fv(e);e.onlineStateTracker.set("Offline");if(!n){n=()=>lz(e.localStore)}e.asyncQueue.enqueueRetryable(async()=>{C(fd,"Retrying IndexedDB access");await n();e.offlineCauses.delete(1);await fg(e)})}else{throw t}}function fD(e,t){return t().catch(n=>fx(e,n,t))}function fk(e,t){const n=e.watchChangeAggregator.createRemoteEvent(t);n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.listenTargets.get(r);if(i){e.listenTargets.set(r,i.withResumeToken(n.resumeToken,t))}}});n.targetMismatches.forEach((t,n)=>{const r=e.listenTargets.get(t);if(!r){return}e.listenTargets.set(t,r.withResumeToken(nD.EMPTY_BYTE_STRING,r.snapshotVersion));fS(e,t);const i=new aD(r.target,t,n,r.sequenceNumber);fw(e,i)});return e.remoteSyncer.applyRemoteEvent(n)}async function fM(e,t){const n=t.cause;for(const r of t.targetIds){if(e.listenTargets.has(r)){await e.remoteSyncer.rejectListen(r,n);e.listenTargets.delete(r);e.watchChangeAggregator.removeTarget(r)}}}async function fL(e){const t=D(e);const n=fY(t);let r=t.writePipeline.length>0?t.writePipeline[t.writePipeline.length-1].batchId:nJ;while(fj(t)){try{const e=await lW(t.localStore,r);if(e===null){if(t.writePipeline.length===0){n.markIdle()}break}else{r=e.batchId;fF(t,e)}}catch(e){await fx(t,e)}}if(fB(t)){fU(t)}}function fj(e){return fR(e)&&e.writePipeline.length<ff}function fF(e,t){e.writePipeline.push(t);const n=fY(e);if(n.isOpen()&&n.handshakeComplete){n.writeMutations(t.mutations)}}function fB(e){return fR(e)&&!fY(e).isStarted()&&e.writePipeline.length>0}function fU(e){fY(e).start()}async function fV(e){fY(e).writeHandshake()}async function fz(e){const t=fY(e);for(const n of e.writePipeline){t.writeMutations(n.mutations)}}async function fq(e,t,n){const r=e.writePipeline.shift();const i=s1.from(r,t,n);await fD(e,()=>e.remoteSyncer.applySuccessfulWrite(i));await fL(e)}async function fG(e,t){if(t&&fY(e).handshakeComplete){await f$(e,t)}if(fB(e)){fU(e)}}async function f$(e,t){if(s8(t.code)){const n=e.writePipeline.shift();fY(e).inhibitBackoff();await fD(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t));await fL(e)}}async function fH(e){const t=D(e);t.offlineCauses.add(4);await fv(t);t.onlineStateTracker.set("Unknown");t.offlineCauses.delete(4);await fg(t)}async function fW(e,t){const n=D(e);n.asyncQueue.verifyOperationInProgress();C(fd,"RemoteStore received new credentials");const r=fR(n);n.offlineCauses.add(3);await fv(n);if(r){n.onlineStateTracker.set("Unknown")}await n.remoteSyncer.handleCredentialChange(t);n.offlineCauses.delete(3);await fg(n)}async function fK(e,t){const n=D(e);if(t){n.offlineCauses.delete(2);await fg(n)}else if(!t){n.offlineCauses.add(2);await fv(n);n.onlineStateTracker.set("Unknown")}}function fQ(e){if(!e.watchStream){e.watchStream=fo(e.datastore,e.asyncQueue,{onConnected:fO.bind(null,e),onOpen:fA.bind(null,e),onClose:fP.bind(null,e),onWatchChange:fN.bind(null,e)});e.onNetworkStatusChange.push(async t=>{if(t){e.watchStream.inhibitBackoff();if(fC(e)){fT(e)}else{e.onlineStateTracker.set("Unknown")}}else{await e.watchStream.stop();fI(e)}})}return e.watchStream}function fY(e){if(!e.writeStream){e.writeStream=fs(e.datastore,e.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:fV.bind(null,e),onClose:fG.bind(null,e),onHandshakeComplete:fz.bind(null,e),onMutationResult:fq.bind(null,e)});e.onNetworkStatusChange.push(async t=>{if(t){e.writeStream.inhibitBackoff();await fL(e)}else{await e.writeStream.stop();if(e.writePipeline.length>0){C(fd,`Stopping write stream with ${e.writePipeline.length} pending writes`);e.writePipeline=[]}}})}return e.writeStream}const fX="AsyncQueue";class fJ{constructor(e,t,n,r,i){this.asyncQueue=e;this.timerId=t;this.targetTimeMs=n;this.op=r;this.removalCallback=i;this.deferred=new L;this.then=this.deferred.promise.then.bind(this.deferred.promise);this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n;const o=new fJ(e,t,s,r,i);o.start(n);return o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){if(this.timerHandle!==null){this.clearTimeout();this.deferred.reject(new M(k.CANCELLED,"Operation cancelled"+(e?": "+e:"")))}}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>{if(this.timerHandle!==null){this.clearTimeout();return this.op().then(e=>{return this.deferred.resolve(e)})}else{return Promise.resolve()}})}clearTimeout(){if(this.timerHandle!==null){this.removalCallback(this);clearTimeout(this.timerHandle);this.timerHandle=null}}}function fZ(e,t){R(fX,`${t}: ${e}`);if(eQ(e)){return new M(k.UNAVAILABLE,`${t}: ${e}`)}else{throw e}}class f0{static emptySet(e){return new f0(e.comparator)}constructor(e){if(e){this.comparator=(t,n)=>e(t,n)||ea.comparator(t.key,n.key)}else{this.comparator=(e,t)=>ea.comparator(e.key,t.key)}this.keyedMap=se();this.sortedSet=new nE(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>{e(t);return false})}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);if(!t){return this}return this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t))}isEqual(e){if(!(e instanceof f0)){return false}if(this.size!==e.size){return false}const t=this.sortedSet.getIterator();const n=e.sortedSet.getIterator();while(t.hasNext()){const e=t.getNext().key;const r=n.getNext().key;if(!e.isEqual(r)){return false}}return true}toString(){const e=[];this.forEach(t=>{e.push(t.toString())});if(e.length===0){return"DocumentSet ()"}else{return"DocumentSet (\n  "+e.join("  \n")+"\n)"}}copy(e,t){const n=new f0;n.comparator=this.comparator;n.keyedMap=e;n.sortedSet=t;return n}}class f1{constructor(){this.changeMap=new nE(ea.comparator)}track(e){const t=e.doc.key;const n=this.changeMap.get(t);if(!n){this.changeMap=this.changeMap.insert(t,e);return}if(e.type!==0&&n.type===3){this.changeMap=this.changeMap.insert(t,e)}else if(e.type===3&&n.type!==1){this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc})}else if(e.type===2&&n.type===2){this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc})}else if(e.type===2&&n.type===0){this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc})}else if(e.type===1&&n.type===0){this.changeMap=this.changeMap.remove(t)}else if(e.type===1&&n.type===2){this.changeMap=this.changeMap.insert(t,{type:1,doc:n.doc})}else if(e.type===0&&n.type===1){this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc})}else{A(63341,{change:e,oldChange:n})}}getChanges(){const e=[];this.changeMap.inorderTraversal((t,n)=>{e.push(n)});return e}}class f2{constructor(e,t,n,r,i,s,o,a,c){this.query=e;this.docs=t;this.oldDocs=n;this.docChanges=r;this.mutatedKeys=i;this.fromCache=s;this.syncStateChanged=o;this.excludesMetadataChanges=a;this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];t.forEach(e=>{s.push({type:0,doc:e})});return new f2(e,t,f0.emptySet(t),s,n,r,true,false,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!iQ(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs)){return false}const t=this.docChanges;const n=e.docChanges;if(t.length!==n.length){return false}for(let e=0;e<t.length;e++){if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc)){return false}}return true}}class f3{constructor(){this.viewSnap=undefined;this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}}function f6(){return new f4}class f4{constructor(){this.queries=f8();this.onlineState="Unknown";this.snapshotsInSyncListeners=new Set}terminate(){hi(this,new M(k.ABORTED,"Firestore shutting down"))}}function f8(){return new i8(e=>iY(e),iQ)}async function f5(e,t){const n=D(e);let r=3;const i=t.query;let s=n.queries.get(i);if(!s){s=new f3;r=t.listensToRemoteStore()?0:1}else if(!s.hasRemoteListeners()&&t.listensToRemoteStore()){r=2}try{switch(r){case 0:s.viewSnap=await n.onListen(i,true);break;case 1:s.viewSnap=await n.onListen(i,false);break;case 2:await n.onFirstRemoteStoreListen(i);break;default:break}}catch(n){const e=fZ(n,`Initialization of query '${iX(t.query)}' failed`);t.onError(e);return}n.queries.set(i,s);s.listeners.push(t);t.applyOnlineStateChange(n.onlineState);if(s.viewSnap){const e=t.onViewSnapshot(s.viewSnap);if(e){hs(n)}}}async function f7(e,t){const n=D(e);const r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);if(e>=0){s.listeners.splice(e,1);if(s.listeners.length===0){i=t.listensToRemoteStore()?0:1}else if(!s.hasRemoteListeners()&&t.listensToRemoteStore()){i=2}}}switch(i){case 0:n.queries.delete(r);return n.onUnlisten(r,true);case 1:n.queries.delete(r);return n.onUnlisten(r,false);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f9(e,t){const n=D(e);let r=false;for(const e of t){const t=e.query;const i=n.queries.get(t);if(i){for(const t of i.listeners){if(t.onViewSnapshot(e)){r=true}}i.viewSnap=e}}if(r){hs(n)}}function he(e,t,n){const r=D(e);const i=r.queries.get(t);if(i){for(const e of i.listeners){e.onError(n)}}r.queries.delete(t)}function ht(e,t){const n=D(e);n.onlineState=t;let r=false;n.queries.forEach((e,n)=>{for(const e of n.listeners){if(e.applyOnlineStateChange(t)){r=true}}});if(r){hs(n)}}function hn(e,t){const n=D(e);n.snapshotsInSyncListeners.add(t);t.next()}function hr(e,t){const n=D(e);n.snapshotsInSyncListeners.delete(t)}function hi(e,t){const n=D(e);const r=n.queries;n.queries=f8();r.forEach((e,n)=>{for(const e of n.listeners){e.onError(t)}})}function hs(e){e.snapshotsInSyncListeners.forEach(e=>{e.next()})}var ho;(function(e){e["Default"]="default";e["Cache"]="cache"})(ho||(ho={}));class ha{constructor(e,t,n){this.query=e;this.queryObserver=t;this.raisedInitialEvent=false;this.snap=null;this.onlineState="Unknown";this.options=n||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges){if(n.type!==3){t.push(n)}}e=new f2(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,true,e.hasCachedResults)}let t=false;if(!this.raisedInitialEvent){if(this.shouldRaiseInitialEvent(e,this.onlineState)){this.raiseInitialEvent(e);t=true}}else if(this.shouldRaiseEvent(e)){this.queryObserver.next(e);t=true}this.snap=e;return t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=false;if(this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)){this.raiseInitialEvent(this.snap);t=true}return t}shouldRaiseInitialEvent(e,t){if(!e.fromCache){return true}if(!this.listensToRemoteStore()){return true}const n=t!=="Offline";if(this.options.waitForSyncWhenOnline&&n){return false}return!e.docs.isEmpty()||e.hasCachedResults||t==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0){return true}const t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;if(e.syncStateChanged||t){return this.options.includeMetadataChanges===true}return false}raiseInitialEvent(e){e=f2.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults);this.raisedInitialEvent=true;this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==ho.Cache}}class hc{constructor(e,t,n,r){this.targetId=e;this.fromCache=t;this.addedKeys=n;this.removedKeys=r}static fromSnapshot(e,t){let n=su();let r=su();for(const e of t.docChanges){switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key);break}}return new hc(e,t.fromCache,n,r)}}class hu{constructor(e){this.serializer=e}toDocumentKey(e){return oj(this.serializer,e)}toMutableDocument(e){if(e.metadata.exists){return o$(this.serializer,e.document,false)}else{return rG.newNoDocument(this.toDocumentKey(e.metadata.name),this.toSnapshotVersion(e.metadata.readTime))}}toSnapshotVersion(e){return ox(e)}}class hl{constructor(e,t){this.bundleMetadata=e;this.serializer=t;this._queries=[];this._documents=[];this.collectionGroups=new Set;this.progress=hd(e)}get queries(){return this._queries}get documents(){return this._documents}addSizedElement(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery){this._queries.push(e.payload.namedQuery)}else if(e.payload.documentMetadata){this._documents.push({metadata:e.payload.documentMetadata});if(!e.payload.documentMetadata.exists){++t}const n=ei.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else if(e.payload.document){this._documents[this._documents.length-1].document=e.payload.document;++t}if(t!==this.progress.documentsLoaded){this.progress.documentsLoaded=t;return{...this.progress}}return null}getQueryDocumentMapping(e){const t=new Map;const n=new hu(this.serializer);for(const r of e){if(r.metadata.queries){const e=n.toDocumentKey(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||su()).add(e);t.set(n,r)}}}return t}async completeAndStoreAsync(e){const t=await l5(e,new hu(this.serializer),this._documents,this.bundleMetadata.id);const n=this.getQueryDocumentMapping(this.documents);for(const t of this._queries){await dt(e,t,n.get(t.name))}this.progress.taskState="Success";return{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:t}}}function hd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function hf(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class hh{constructor(e){this.key=e}}class hp{constructor(e){this.key=e}}class hm{constructor(e,t){this.query=e;this._syncedDocuments=t;this.syncState=null;this.hasCachedResults=false;this.current=false;this.limboDocuments=su();this.mutatedKeys=su();this.docComparator=i6(e);this.documentSet=new f0(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){const n=t?t.changeSet:new f1;const r=t?t.documentSet:this.documentSet;let i=t?t.mutatedKeys:this.mutatedKeys;let s=r;let o=false;const a=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null;const c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;e.inorderTraversal((e,t)=>{const u=r.get(e);const l=iJ(this.query,t)?t:null;const d=u?this.mutatedKeys.has(u.key):false;const f=l?l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations:false;let h=false;if(u&&l){const e=u.data.isEqual(l.data);if(!e){if(!this.shouldWaitForSyncedDocument(u,l)){n.track({type:2,doc:l});h=true;if(a&&this.docComparator(l,a)>0||c&&this.docComparator(l,c)<0){o=true}}}else if(d!==f){n.track({type:3,doc:l});h=true}}else if(!u&&l){n.track({type:0,doc:l});h=true}else if(u&&!l){n.track({type:1,doc:u});h=true;if(a||c){o=true}}if(h){if(l){s=s.add(l);if(f){i=i.add(e)}else{i=i.delete(e)}}else{s=s.delete(e);i=i.delete(e)}}});if(this.query.limit!==null){while(s.size>this.query.limit){const e=this.query.limitType==="F"?s.last():s.first();s=s.delete(e.key);i=i.delete(e.key);n.track({type:1,doc:e})}}return{documentSet:s,changeSet:n,needsRefill:o,mutatedKeys:i}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.documentSet;this.documentSet=e.documentSet;this.mutatedKeys=e.mutatedKeys;const s=e.changeSet.getChanges();s.sort((e,t)=>{return hg(e.type,t.type)||this.docComparator(e.doc,t.doc)});this.applyTargetChange(n);r=r??false;const o=t&&!r?this.updateLimboDocuments():[];const a=this.limboDocuments.size===0&&this.current&&!r;const c=a?1:0;const u=c!==this.syncState;this.syncState=c;if(s.length===0&&!u){return{limboChanges:o}}else{const t=new f2(this.query,e.documentSet,i,s,e.mutatedKeys,c===0,u,false,n?n.resumeToken.approximateByteSize()>0:false);return{snapshot:t,limboChanges:o}}}applyOnlineStateChange(e){if(this.current&&e==="Offline"){this.current=false;return this.applyChanges({documentSet:this.documentSet,changeSet:new f1,mutatedKeys:this.mutatedKeys,needsRefill:false},false)}else{return{limboChanges:[]}}}shouldBeInLimbo(e){if(this._syncedDocuments.has(e)){return false}if(!this.documentSet.has(e)){return false}if(this.documentSet.get(e).hasLocalMutations){return false}return true}applyTargetChange(e){if(e){e.addedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.add(e));e.modifiedDocuments.forEach(e=>{});e.removedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.delete(e));this.current=e.current}}updateLimboDocuments(){if(!this.current){return[]}const e=this.limboDocuments;this.limboDocuments=su();this.documentSet.forEach(e=>{if(this.shouldBeInLimbo(e.key)){this.limboDocuments=this.limboDocuments.add(e.key)}});const t=[];e.forEach(e=>{if(!this.limboDocuments.has(e)){t.push(new hp(e))}});this.limboDocuments.forEach(n=>{if(!e.has(n)){t.push(new hh(n))}});return t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys;this.limboDocuments=su();const t=this.computeDocChanges(e.documents);return this.applyChanges(t,true)}computeInitialSnapshot(){return f2.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}}function hg(e,t){const n=e=>{switch(e){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return A(20277,{change:e})}};return n(e)-n(t)}const hy="SyncEngine";class hv{constructor(e,t,n){this.query=e;this.targetId=t;this.view=n}}class hb{constructor(e){this.key=e;this.receivedDocument=false}}class h_{constructor(e,t,n,r,i,s){this.localStore=e;this.remoteStore=t;this.eventManager=n;this.sharedClientState=r;this.currentUser=i;this.maxConcurrentLimboResolutions=s;this.syncEngineListener={};this.queryViewsByQuery=new i8(e=>iY(e),iQ);this.queriesByTarget=new Map;this.enqueuedLimboResolutions=new Set;this.activeLimboTargetsByKey=new nE(ea.comparator);this.activeLimboResolutionsByTarget=new Map;this.limboDocumentRefs=new uK;this.mutationUserCallbacks={};this.pendingWritesCallbacks=new Map;this.limboTargetIdGenerator=ul.forSyncEngine();this.onlineState="Unknown";this._isPrimaryClient=undefined}get isPrimaryClient(){return this._isPrimaryClient===true}}function hE(e,t,n,r,i,s,o){const a=new h_(e,t,n,r,i,s);if(o){a._isPrimaryClient=true}return a}async function hw(e,t,n=true){const r=h6(e);let i;const s=r.queryViewsByQuery.get(t);if(s){r.sharedClientState.addLocalQueryTarget(s.targetId);i=s.view.computeInitialSnapshot()}else{i=await hT(r,t,n,true)}return i}async function hS(e,t){const n=h6(e);await hT(n,t,true,false)}async function hT(e,t,n,r){const i=await lQ(e.localStore,iV(t));const s=i.targetId;const o=e.sharedClientState.addLocalQueryTarget(s,n);let a;if(r){a=await hC(e,t,s,o==="current",i.resumeToken)}if(e.isPrimaryClient&&n){f_(e.remoteStore,i)}return a}async function hC(e,t,n,r,i){e.applyDocChanges=(t,n,r)=>h$(e,t,n,r);const s=await lJ(e.localStore,t,true);const o=new hm(t,s.remoteKeys);const a=o.computeDocChanges(s.documents);const c=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i);const u=o.applyChanges(a,e.isPrimaryClient,c);hV(e,n,u.limboChanges);const l=new hv(t,n,o);e.queryViewsByQuery.set(t,l);if(e.queriesByTarget.has(n)){e.queriesByTarget.get(n).push(t)}else{e.queriesByTarget.set(n,[t])}return u.snapshot}async function hR(e,t,n){const r=D(e);const i=r.queryViewsByQuery.get(t);const s=r.queriesByTarget.get(i.targetId);if(s.length>1){r.queriesByTarget.set(i.targetId,s.filter(e=>!iQ(e,t)));r.queryViewsByQuery.delete(t);return}if(r.isPrimaryClient){r.sharedClientState.removeLocalQueryTarget(i.targetId);const e=r.sharedClientState.isActiveQueryTarget(i.targetId);if(!e){await lX(r.localStore,i.targetId,false).then(()=>{r.sharedClientState.clearQueryState(i.targetId);if(n){fE(r.remoteStore,i.targetId)}hB(r,i.targetId)}).catch(eU)}}else{hB(r,i.targetId);await lX(r.localStore,i.targetId,true)}}async function hI(e,t){const n=D(e);const r=n.queryViewsByQuery.get(t);const i=n.queriesByTarget.get(r.targetId);if(n.isPrimaryClient&&i.length===1){n.sharedClientState.removeLocalQueryTarget(r.targetId);fE(n.remoteStore,r.targetId)}}async function hO(e,t,n){const r=h4(e);try{const e=await lj(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId);hj(r,e.batchId,n);await hG(r,e.changes);await fL(r.remoteStore)}catch(t){const e=fZ(t,`Failed to persist write`);n.reject(e)}}async function hA(e,t){const n=D(e);try{const e=await lq(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.activeLimboResolutionsByTarget.get(t);if(r){N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616);if(e.addedDocuments.size>0){r.receivedDocument=true}else if(e.modifiedDocuments.size>0){N(r.receivedDocument,14607)}else if(e.removedDocuments.size>0){N(r.receivedDocument,42227);r.receivedDocument=false}else{}}});await hG(n,e,t)}catch(e){await eU(e)}}function hP(e,t,n){const r=D(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const e=[];r.queryViewsByQuery.forEach((n,r)=>{const i=r.view.applyOnlineStateChange(t);if(i.snapshot){e.push(i.snapshot)}});ht(r.eventManager,t);if(e.length){r.syncEngineListener.onWatchChange(e)}r.onlineState=t;if(r.isPrimaryClient){r.sharedClientState.setOnlineState(t)}}}async function hN(e,t,n){const r=D(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.activeLimboResolutionsByTarget.get(t);const s=i&&i.key;if(s){let e=new nE(ea.comparator);e=e.insert(s,rG.newNoDocument(s,ew.min()));const n=su().add(s);const i=new oc(ew.min(),new Map,new nE(Q),e,n);await hA(r,i);r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s);r.activeLimboResolutionsByTarget.delete(t);hq(r)}else{await lX(r.localStore,t,false).then(()=>hB(r,t,n)).catch(eU)}}async function hx(e,t){const n=D(e);const r=t.batch.batchId;try{const e=await lF(n.localStore,t);hF(n,r,null);hM(n,r);n.sharedClientState.updateMutationState(r,"acknowledged");await hG(n,e)}catch(e){await eU(e)}}async function hD(e,t,n){const r=D(e);try{const e=await lU(r.localStore,t);hF(r,t,n);hM(r,t);r.sharedClientState.updateMutationState(t,"rejected",n);await hG(r,e)}catch(e){await eU(e)}}async function hk(e,t){const n=D(e);if(!fR(n.remoteStore)){C(hy,"The network is disabled. The task returned by "+"'awaitPendingWrites()' will not complete until the network is enabled.")}try{const e=await lV(n.localStore);if(e===nJ){t.resolve();return}const r=n.pendingWritesCallbacks.get(e)||[];r.push(t);n.pendingWritesCallbacks.set(e,r)}catch(n){const e=fZ(n,"Initialization of waitForPendingWrites() operation failed");t.reject(e)}}function hM(e,t){(e.pendingWritesCallbacks.get(t)||[]).forEach(e=>{e.resolve()});e.pendingWritesCallbacks.delete(t)}function hL(e,t){e.pendingWritesCallbacks.forEach(e=>{e.forEach(e=>{e.reject(new M(k.CANCELLED,t))})});e.pendingWritesCallbacks.clear()}function hj(e,t,n){let r=e.mutationUserCallbacks[e.currentUser.toKey()];if(!r){r=new nE(Q)}r=r.insert(t,n);e.mutationUserCallbacks[e.currentUser.toKey()]=r}function hF(e,t,n){const r=D(e);let i=r.mutationUserCallbacks[r.currentUser.toKey()];if(i){const e=i.get(t);if(e){if(n){e.reject(n)}else{e.resolve()}i=i.remove(t)}r.mutationUserCallbacks[r.currentUser.toKey()]=i}}function hB(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.queriesByTarget.get(t)){e.queryViewsByQuery.delete(r);if(n){e.syncEngineListener.onWatchError(r,n)}}e.queriesByTarget.delete(t);if(e.isPrimaryClient){const n=e.limboDocumentRefs.removeReferencesForId(t);n.forEach(t=>{const n=e.limboDocumentRefs.containsKey(t);if(!n){hU(e,t)}})}}function hU(e,t){e.enqueuedLimboResolutions.delete(t.path.canonicalString());const n=e.activeLimboTargetsByKey.get(t);if(n===null){return}fE(e.remoteStore,n);e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.remove(t);e.activeLimboResolutionsByTarget.delete(n);hq(e)}function hV(e,t,n){for(const r of n){if(r instanceof hh){e.limboDocumentRefs.addReference(r.key,t);hz(e,r)}else if(r instanceof hp){C(hy,"Document no longer in limbo: "+r.key);e.limboDocumentRefs.removeReference(r.key,t);const n=e.limboDocumentRefs.containsKey(r.key);if(!n){hU(e,r.key)}}else{A(19791,{limboChange:r})}}}function hz(e,t){const n=t.key;const r=n.path.canonicalString();if(!e.activeLimboTargetsByKey.get(n)&&!e.enqueuedLimboResolutions.has(r)){C(hy,"New document in limbo: "+n);e.enqueuedLimboResolutions.add(r);hq(e)}}function hq(e){while(e.enqueuedLimboResolutions.size>0&&e.activeLimboTargetsByKey.size<e.maxConcurrentLimboResolutions){const t=e.enqueuedLimboResolutions.values().next().value;e.enqueuedLimboResolutions.delete(t);const n=new ea(ei.fromString(t));const r=e.limboTargetIdGenerator.next();e.activeLimboResolutionsByTarget.set(r,new hb(n));e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.insert(n,r);f_(e.remoteStore,new aD(iV(iD(n.path)),r,"TargetPurposeLimboResolution",e8.INVALID))}}async function hG(e,t,n){const r=D(e);const i=[];const s=[];const o=[];if(r.queryViewsByQuery.isEmpty()){return}r.queryViewsByQuery.forEach((e,a)=>{o.push(r.applyDocChanges(a,t,n).then(e=>{if(e||n){if(r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(a.targetId)?.current;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}}if(!!e){i.push(e);const t=hc.fromSnapshot(a.targetId,e);s.push(t)}}))});await Promise.all(o);r.syncEngineListener.onWatchChange(i);await lH(r.localStore,s)}async function h$(e,t,n,r){let i=t.view.computeDocChanges(n);if(i.needsRefill){i=await lJ(e.localStore,t.query,false).then(({documents:e})=>{return t.view.computeDocChanges(e,i)})}const s=r&&r.targetChanges.get(t.targetId);const o=r&&r.targetMismatches.get(t.targetId)!=null;const a=t.view.applyChanges(i,e.isPrimaryClient,s,o);hV(e,t.targetId,a.limboChanges);return a.snapshot}async function hH(e,t){const n=D(e);const r=!n.currentUser.isEqual(t);if(r){C(hy,"User change. New user:",t.toKey());const e=await lL(n.localStore,t);n.currentUser=t;hL(n,"'waitForPendingWrites' promise is rejected due to a user change.");n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds);await hG(n,e.affectedDocuments)}}function hW(e,t){const n=D(e);const r=n.activeLimboResolutionsByTarget.get(t);if(r&&r.receivedDocument){return su().add(r.key)}else{let e=su();const r=n.queriesByTarget.get(t);if(!r){return e}for(const t of r){const r=n.queryViewsByQuery.get(t);e=e.unionWith(r.view.syncedDocuments)}return e}}async function hK(e,t){const n=D(e);const r=await lJ(n.localStore,t.query,true);const i=t.view.synchronizeWithPersistedState(r);if(n.isPrimaryClient){hV(n,t.targetId,i.limboChanges)}return i}async function hQ(e,t){const n=D(e);return l6(n.localStore,t).then(e=>hG(n,e))}async function hY(e,t,n,r){const i=D(e);const s=await l0(i.localStore,t);if(s===null){C(hy,"Cannot apply mutation batch with id: "+t);return}if(n==="pending"){await fL(i.remoteStore)}else if(n==="acknowledged"||n==="rejected"){hF(i,t,r?r:null);hM(i,t);l1(i.localStore,t)}else{A(6720,`Unknown batchState`,{batchState:n})}await hG(i,s)}async function hX(e,t){const n=D(e);h6(n);h4(n);if(t===true&&n._isPrimaryClient!==true){const e=n.sharedClientState.getAllActiveQueryTargets();const t=await hZ(n,e.toArray());n._isPrimaryClient=true;await fK(n.remoteStore,true);for(const e of t){f_(n.remoteStore,e)}}else if(t===false&&n._isPrimaryClient!==false){const e=[];let t=Promise.resolve();n.queriesByTarget.forEach((r,i)=>{if(n.sharedClientState.isLocalQueryTarget(i)){e.push(i)}else{t=t.then(()=>{hB(n,i);return lX(n.localStore,i,true)})}fE(n.remoteStore,i)});await t;await hZ(n,e);hJ(n);n._isPrimaryClient=false;await fK(n.remoteStore,false)}}function hJ(e){const t=D(e);t.activeLimboResolutionsByTarget.forEach((e,n)=>{fE(t.remoteStore,n)});t.limboDocumentRefs.removeAllReferences();t.activeLimboResolutionsByTarget=new Map;t.activeLimboTargetsByKey=new nE(ea.comparator)}async function hZ(e,t,n){const r=D(e);const i=[];const s=[];for(const e of t){let t;const n=r.queriesByTarget.get(e);if(n&&n.length!==0){t=await lQ(r.localStore,iV(n[0]));for(const e of n){const t=r.queryViewsByQuery.get(e);const n=await hK(r,t);if(n.snapshot){s.push(n.snapshot)}}}else{const n=await l3(r.localStore,e);t=await lQ(r.localStore,n);await hC(r,h0(n),e,false,t.resumeToken)}i.push(t)}r.syncEngineListener.onWatchChange(s);return i}function h0(e){return ix(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function h1(e){const t=D(e);return l2(t.localStore)}async function h2(e,t,n,r){const i=D(e);if(i._isPrimaryClient){C(hy,"Ignoring unexpected query state notification.");return}const s=i.queriesByTarget.get(t);if(s&&s.length>0){switch(n){case"current":case"not-current":{const e=await l6(i.localStore,i3(s[0]));const r=oc.createSynthesizedRemoteEventForCurrentChange(t,n==="current",nD.EMPTY_BYTE_STRING);await hG(i,e,r);break}case"rejected":{await lX(i.localStore,t,true);hB(i,t,r);break}default:A(64155,n)}}}async function h3(e,t,n){const r=h6(e);if(!r._isPrimaryClient){return}for(const e of t){const t=r.queriesByTarget.has(e)&&r.sharedClientState.isActiveQueryTarget(e);if(t){C(hy,"Adding an already active target "+e);continue}const n=await l3(r.localStore,e);const i=await lQ(r.localStore,n);await hC(r,h0(n),i.targetId,false,i.resumeToken);f_(r.remoteStore,i)}for(const e of n){if(!r.queriesByTarget.has(e)){continue}await lX(r.localStore,e,false).then(()=>{fE(r.remoteStore,e);hB(r,e)}).catch(eU)}}function h6(e){const t=D(e);t.remoteStore.remoteSyncer.applyRemoteEvent=hA.bind(null,t);t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hW.bind(null,t);t.remoteStore.remoteSyncer.rejectListen=hN.bind(null,t);t.syncEngineListener.onWatchChange=f9.bind(null,t.eventManager);t.syncEngineListener.onWatchError=he.bind(null,t.eventManager);return t}function h4(e){const t=D(e);t.remoteStore.remoteSyncer.applySuccessfulWrite=hx.bind(null,t);t.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,t);return t}function h8(e,t,n){const r=D(e);h5(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}async function h5(e,t,n){try{const r=await t.getMetadata();const i=await l7(e.localStore,r);if(i){await t.close();n._completeWith(hf(r));return Promise.resolve(new Set)}n._updateProgress(hd(r));const s=new hl(r,t.serializer);let o=await t.nextElement();while(o){;const e=await s.addSizedElement(o);if(e){n._updateProgress(e)}o=await t.nextElement()}const a=await s.completeAndStoreAsync(e.localStore);await hG(e,a.changedDocs,undefined);await l9(e.localStore,r);n._completeWith(a.progress);return Promise.resolve(a.changedCollectionGroups)}catch(e){I(hy,`Loading bundle failed with ${e}`);n._failWith(e);return Promise.resolve(new Set)}}class h7{constructor(){this.kind="memory";this.synchronizeTabs=false}async initialize(e){this.serializer=dX(e.databaseInfo.databaseId);this.sharedClientState=this.createSharedClientState(e);this.persistence=this.createPersistence(e);await this.persistence.start();this.localStore=this.createLocalStore(e);this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore);this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return lM(this.persistence,new du,e.initialUser,this.serializer)}createPersistence(e){return new u6(u8.factory,this.serializer)}createSharedClientState(e){return new dP}async terminate(){this.gcScheduler?.stop();this.indexBackfillerScheduler?.stop();this.sharedClientState.shutdown();await this.persistence.shutdown()}}h7.provider={build:()=>new h7};class h9 extends h7{constructor(e){super();this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){N(this.persistence.referenceDelegate instanceof u5,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new uC(n,e.asyncQueue,t)}createPersistence(e){const t=this.cacheSizeBytes!==undefined?uv.withCacheSize(this.cacheSizeBytes):uv.DEFAULT;return new u6(e=>u5.factory(e,t),this.serializer)}}class pe extends h7{constructor(e,t,n){super();this.onlineComponentProvider=e;this.cacheSizeBytes=t;this.forceOwnership=n;this.kind="persistent";this.synchronizeTabs=false}async initialize(e){await super.initialize(e);await this.onlineComponentProvider.initialize(this,e);await h4(this.onlineComponentProvider.syncEngine);await fL(this.onlineComponentProvider.remoteStore);await this.persistence.setPrimaryStateListener(()=>{if(this.gcScheduler&&!this.gcScheduler.started){this.gcScheduler.start()}if(this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started){this.indexBackfillerScheduler.start()}return Promise.resolve()})}createLocalStore(e){return lM(this.persistence,new du,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new uC(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new e4(t,this.persistence);return new e6(e.asyncQueue,n)}createPersistence(e){const t=lO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);const n=this.cacheSizeBytes!==undefined?uv.withCacheSize(this.cacheSizeBytes):uv.DEFAULT;return new lC(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dQ(),dY(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dP}}class pt extends pe{constructor(e,t){super(e,t,false);this.onlineComponentProvider=e;this.cacheSizeBytes=t;this.synchronizeTabs=true}async initialize(e){await super.initialize(e);const t=this.onlineComponentProvider.syncEngine;if(this.sharedClientState instanceof dO){this.sharedClientState.syncEngine={applyBatchState:hY.bind(null,t),applyTargetState:h2.bind(null,t),applyActiveTargetsChange:h3.bind(null,t),getActiveClients:h1.bind(null,t),synchronizeWithChangedDocuments:hQ.bind(null,t)};await this.sharedClientState.start()}await this.persistence.setPrimaryStateListener(async e=>{await hX(this.onlineComponentProvider.syncEngine,e);if(this.gcScheduler){if(e&&!this.gcScheduler.started){this.gcScheduler.start()}else if(!e){this.gcScheduler.stop()}}if(this.indexBackfillerScheduler){if(e&&!this.indexBackfillerScheduler.started){this.indexBackfillerScheduler.start()}else if(!e){this.indexBackfillerScheduler.stop()}}})}createSharedClientState(e){const t=dQ();if(!dO.isAvailable(t)){throw new M(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.")}const n=lO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dO(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class pn{async initialize(e,t){if(this.localStore){return}this.localStore=e.localStore;this.sharedClientState=e.sharedClientState;this.datastore=this.createDatastore(t);this.remoteStore=this.createRemoteStore(t);this.eventManager=this.createEventManager(t);this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs);this.sharedClientState.onlineStateHandler=e=>hP(this.syncEngine,e,1);this.remoteStore.remoteSyncer.handleCredentialChange=hH.bind(null,this.syncEngine);await fK(this.remoteStore,this.syncEngine.isPrimaryClient)}createEventManager(e){return f6()}createDatastore(e){const t=dX(e.databaseInfo.databaseId);const n=dW(e.databaseInfo);return ft(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return fp(this.localStore,this.datastore,e.asyncQueue,e=>hP(this.syncEngine,e,0),dK())}createSyncEngine(e,t){return hE(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await fb(this.remoteStore);this.datastore?.terminate();this.eventManager?.terminate()}}pn.provider={build:()=>new pn};const pr=10240;function pi(e,t=pr){let n=0;const r={async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:false};n+=t;return r}return{done:true}},async cancel(){},releaseLock(){},closed:Promise.resolve()};return r}function ps(e,t){if(!(e instanceof Uint8Array)){throw new M(k.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${eh(e)}`)}return pi(e,t)}class po{constructor(e){this.observer=e;this.muted=false}next(e){if(this.muted){return}if(this.observer.next){this.scheduleEvent(this.observer.next,e)}}error(e){if(this.muted){return}if(this.observer.error){this.scheduleEvent(this.observer.error,e)}else{R("Uncaught Error in snapshot listener:",e.toString())}}mute(){this.muted=true}scheduleEvent(e,t){setTimeout(()=>{if(!this.muted){e(t)}},0)}}class pa{constructor(e,t){this.payload=e;this.byteLength=t}isBundleMetadata(){return"metadata"in this.payload}}class pc{constructor(e,t){this.reader=e;this.serializer=t;this.metadata=new L;this.buffer=new Uint8Array;this.textDecoder=on();this.nextElementImpl().then(e=>{if(e&&e.isBundleMetadata()){this.metadata.resolve(e.payload.metadata)}else{this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(e?.payload)}`))}},e=>this.metadata.reject(e))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){await this.getMetadata();return this.nextElementImpl()}async nextElementImpl(){const e=await this.readLength();if(e===null){return null}const t=this.textDecoder.decode(e);const n=Number(t);if(isNaN(n)){this.raiseError(`length string (${t}) is not valid number`)}const r=await this.readJsonString(n);return new pa(JSON.parse(r),e.length+n)}indexOfOpenBracket(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async readLength(){while(this.indexOfOpenBracket()<0){const e=await this.pullMoreDataToBuffer();if(e){break}}if(this.buffer.length===0){return null}const e=this.indexOfOpenBracket();if(e<0){this.raiseError("Reached the end of bundle when a length string is expected.")}const t=this.buffer.slice(0,e);this.buffer=this.buffer.slice(e);return t}async readJsonString(e){while(this.buffer.length<e){const e=await this.pullMoreDataToBuffer();if(e){this.raiseError("Reached the end of bundle when more is expected.")}}const t=this.textDecoder.decode(this.buffer.slice(0,e));this.buffer=this.buffer.slice(e);return t}raiseError(e){this.reader.cancel();throw new Error(`Invalid bundle format: ${e}`)}async pullMoreDataToBuffer(){const e=await this.reader.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer);t.set(e.value,this.buffer.length);this.buffer=t}return e.done}}function pu(e,t){return new pc(e,t)}class pl{constructor(e,t){this.bundleData=e;this.serializer=t;this.cursor=0;this.elements=[];let n=this.nextElement();if(n&&n.isBundleMetadata()){this.metadata=n}else{throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(n?.payload)}`)}do{n=this.nextElement();if(n!==null){this.elements.push(n)}}while(n!==null)}getMetadata(){return this.metadata}getElements(){return this.elements}nextElement(){if(this.cursor===this.bundleData.length){return null}const e=this.readLength();const t=this.readJsonString(e);return new pa(JSON.parse(t),e)}readJsonString(e){if(this.cursor+e>this.bundleData.length){throw new M(k.INTERNAL,"Reached the end of bundle when more is expected.")}const t=this.bundleData.slice(this.cursor,this.cursor+=e);return t}readLength(){const e=this.cursor;let t=this.cursor;while(t<this.bundleData.length){if(this.bundleData[t]==="{"){if(t===e){throw new Error("First character is a bracket and not a number")}this.cursor=t;return Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}function pd(e,t){return new pl(e,t)}class pf{constructor(e){this.datastore=e;this.readVersions=new Map;this.mutations=[];this.committed=false;this.lastTransactionError=null;this.writtenDocs=new Set}async lookup(e){this.ensureCommitNotCalled();if(this.mutations.length>0){this.lastTransactionError=new M(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");throw this.lastTransactionError}const t=await fr(this.datastore,e);t.forEach(e=>this.recordVersion(e));return t}set(e,t){this.write(t.toMutation(e,this.precondition(e)));this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new sY(e,this.precondition(e)));this.writtenDocs.add(e.toString())}async commit(){this.ensureCommitNotCalled();if(this.lastTransactionError){throw this.lastTransactionError}const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())});e.forEach((e,t)=>{const n=ea.fromPath(t);this.mutations.push(new sZ(n,this.precondition(n)))});await fn(this.datastore,this.mutations);this.committed=true}recordVersion(e){let t;if(e.isFoundDocument()){t=e.version}else if(e.isNoDocument()){t=ew.min()}else{throw A(50498,{documentName:e.constructor.name})}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n)){throw new M(k.ABORTED,"Document version changed between two reads.")}}else{this.readVersions.set(e.key.toString(),t)}}precondition(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ew.min())){return sD.exists(false)}else{return sD.updateTime(t)}}else{return sD.none()}}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ew.min())){throw new M(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.")}return sD.updateTime(t)}else{return sD.exists(true)}}write(e){this.ensureCommitNotCalled();this.mutations.push(e)}ensureCommitNotCalled(){}}class ph{constructor(e,t,n,r,i){this.asyncQueue=e;this.datastore=t;this.options=n;this.updateFunction=r;this.deferred=i;this.attemptsRemaining=n.maxAttempts;this.backoff=new d2(this.asyncQueue,"transaction_retry")}run(){this.attemptsRemaining-=1;this.runWithBackOff()}runWithBackOff(){this.backoff.backoffAndRun(async()=>{const e=new pf(this.datastore);const t=this.tryRunUpdateFunction(e);if(t){t.then(t=>{this.asyncQueue.enqueueAndForget(()=>{return e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.handleTransactionError(e)})})}).catch(e=>{this.handleTransactionError(e)})}})}tryRunUpdateFunction(e){try{const t=this.updateFunction(e);if(nZ(t)||!t.catch||!t.then){this.deferred.reject(Error("Transaction callback must return a Promise"));return null}return t}catch(e){this.deferred.reject(e);return null}}handleTransactionError(e){if(this.attemptsRemaining>0&&this.isRetryableTransactionError(e)){this.attemptsRemaining-=1;this.asyncQueue.enqueueAndForget(()=>{this.runWithBackOff();return Promise.resolve()})}else{this.deferred.reject(e)}}isRetryableTransactionError(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!s4(t)}return false}}const pp="FirestoreClient";const pm=100;const pg=11;const py=20;const pv=22;class pb{constructor(e,t,n,r,i){this.authCredentials=e;this.appCheckCredentials=t;this.asyncQueue=n;this.databaseInfo=r;this.user=y.UNAUTHENTICATED;this.clientId=K.newId();this.authCredentialListener=()=>Promise.resolve();this.appCheckCredentialListener=()=>Promise.resolve();this._uninitializedComponentsProvider=i;this.authCredentials.start(n,async e=>{C(pp,"Received user=",e.uid);await this.authCredentialListener(e);this.user=e});this.appCheckCredentials.start(n,e=>{C(pp,"Received new app check token=",e);return this.appCheckCredentialListener(e,this.user)})}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:pm}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new L;this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{if(this._onlineComponents){await this._onlineComponents.terminate()}if(this._offlineComponents){await this._offlineComponents.terminate()}this.authCredentials.shutdown();this.appCheckCredentials.shutdown();e.resolve()}catch(n){const t=fZ(n,`Failed to shutdown persistence`);e.reject(t)}});return e.promise}}async function p_(e,t){e.asyncQueue.verifyOperationInProgress();C(pp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{if(!r.isEqual(e)){await lL(t.localStore,e);r=e}});t.persistence.setDatabaseDeletedListener(()=>e.terminate());e._offlineComponents=t}async function pE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pS(e);C(pp,"Initializing OnlineComponentProvider");await t.initialize(n,e.configuration);e.setCredentialChangeListener(e=>fW(t.remoteStore,e));e.setAppCheckTokenChangeListener((e,n)=>fW(t.remoteStore,n));e._onlineComponents=t}function pw(e){if(e.name==="FirebaseError"){return e.code===k.FAILED_PRECONDITION||e.code===k.UNIMPLEMENTED}else if(typeof DOMException!=="undefined"&&e instanceof DOMException){return e.code===pv||e.code===py||e.code===pg}return true}async function pS(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){C(pp,"Using user provided OfflineComponentProvider");try{await p_(e,e._uninitializedComponentsProvider._offline)}catch(n){const t=n;if(!pw(t)){throw t}I("Error using user provided cache. Falling back to "+"memory cache: "+t);await p_(e,new h7)}}else{C(pp,"Using default OfflineComponentProvider");await p_(e,new h9(undefined))}}return e._offlineComponents}async function pT(e){if(!e._onlineComponents){if(e._uninitializedComponentsProvider){C(pp,"Using user provided OnlineComponentProvider");await pE(e,e._uninitializedComponentsProvider._online)}else{C(pp,"Using default OnlineComponentProvider");await pE(e,new pn)}}return e._onlineComponents}function pC(e){return pS(e).then(e=>e.persistence)}function pR(e){return pS(e).then(e=>e.localStore)}function pI(e){return pT(e).then(e=>e.remoteStore)}function pO(e){return pT(e).then(e=>e.syncEngine)}function pA(e){return pT(e).then(e=>e.datastore)}async function pP(e){const t=await pT(e);const n=t.eventManager;n.onListen=hw.bind(null,t.syncEngine);n.onUnlisten=hR.bind(null,t.syncEngine);n.onFirstRemoteStoreListen=hS.bind(null,t.syncEngine);n.onLastRemoteStoreUnlisten=hI.bind(null,t.syncEngine);return n}function pN(e){return e.asyncQueue.enqueue(async()=>{const t=await pC(e);const n=await pI(e);t.setNetworkEnabled(true);return fm(n)})}function px(e){return e.asyncQueue.enqueue(async()=>{const t=await pC(e);const n=await pI(e);t.setNetworkEnabled(false);return fy(n)})}function pD(e){const t=new L;e.asyncQueue.enqueueAndForget(async()=>{const n=await pO(e);return hk(n,t)});return t.promise}function pk(e,t,n,r){const i=new po(r);const s=new ha(t,i,n);e.asyncQueue.enqueueAndForget(async()=>{const t=await pP(e);return f5(t,s)});return()=>{i.mute();e.asyncQueue.enqueueAndForget(async()=>{const t=await pP(e);return f7(t,s)})}}function pM(e,t){const n=new L;e.asyncQueue.enqueueAndForget(async()=>{const r=await pR(e);return pq(r,t,n)});return n.promise}function pL(e,t,n={}){const r=new L;e.asyncQueue.enqueueAndForget(async()=>{const i=await pP(e);return pG(i,e.asyncQueue,t,n,r)});return r.promise}function pj(e,t){const n=new L;e.asyncQueue.enqueueAndForget(async()=>{const r=await pR(e);return p$(r,t,n)});return n.promise}function pF(e,t,n={}){const r=new L;e.asyncQueue.enqueueAndForget(async()=>{const i=await pP(e);return pH(i,e.asyncQueue,t,n,r)});return r.promise}function pB(e,t,n){const r=new L;e.asyncQueue.enqueueAndForget(async()=>{try{const i=await pA(e);r.resolve(fi(i,t,n))}catch(e){r.reject(e)}});return r.promise}function pU(e,t){const n=new L;e.asyncQueue.enqueueAndForget(async()=>{const r=await pO(e);return hO(r,t,n)});return n.promise}function pV(e,t){const n=new po(t);e.asyncQueue.enqueueAndForget(async()=>{const t=await pP(e);return hn(t,n)});return()=>{n.mute();e.asyncQueue.enqueueAndForget(async()=>{const t=await pP(e);return hr(t,n)})}}function pz(e,t,n){const r=new L;e.asyncQueue.enqueueAndForget(async()=>{const i=await pA(e);new ph(e.asyncQueue,i,n,t,r).run()});return r.promise}async function pq(e,t,n){try{const r=await lK(e,t);if(r.isFoundDocument()){n.resolve(r)}else if(r.isNoDocument()){n.resolve(null)}else{n.reject(new M(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may "+"exist on the server. Run again without setting 'source' in "+"the GetOptions to attempt to retrieve the document from the "+"server.)"))}}catch(r){const e=fZ(r,`Failed to get document '${t} from cache`);n.reject(e)}}function pG(e,t,n,r,i){const s=new po({next:a=>{s.mute();t.enqueueAndForget(()=>f7(e,o));const c=a.docs.has(n);if(!c&&a.fromCache){i.reject(new M(k.UNAVAILABLE,"Failed to get document because the client is offline."))}else if(c&&a.fromCache&&r&&r.source==="server"){i.reject(new M(k.UNAVAILABLE,"Failed to get document from server. (However, this "+"document does exist in the local cache. Run again "+'without setting source to "server" to '+"retrieve the cached document.)"))}else{i.resolve(a)}},error:e=>i.reject(e)});const o=new ha(iD(n.path),s,{includeMetadataChanges:true,waitForSyncWhenOnline:true});return f5(e,o)}async function p$(e,t,n){try{const r=await lJ(e,t,true);const i=new hm(t,r.remoteKeys);const s=i.computeDocChanges(r.documents);const o=i.applyChanges(s,false);n.resolve(o.snapshot)}catch(r){const e=fZ(r,`Failed to execute query '${t} against cache`);n.reject(e)}}function pH(e,t,n,r,i){const s=new po({next:n=>{s.mute();t.enqueueAndForget(()=>f7(e,o));if(n.fromCache&&r.source==="server"){i.reject(new M(k.UNAVAILABLE,"Failed to get documents from server. (However, these "+"documents may exist in the local cache. Run again "+'without setting source to "server" to '+"retrieve the cached documents.)"))}else{i.resolve(n)}},error:e=>i.reject(e)});const o=new ha(n,s,{includeMetadataChanges:true,waitForSyncWhenOnline:true});return f5(e,o)}function pW(e,t,n,r){const i=pQ(n,dX(t));e.asyncQueue.enqueueAndForget(async()=>{h8(await pO(e),i,r)})}function pK(e,t){return e.asyncQueue.enqueue(async()=>de(await pR(e),t))}function pQ(e,t){let n;if(typeof e==="string"){n=ot().encode(e)}else{n=e}return pu(ps(n),t)}function pY(e,t){return pd(e,t)}function pX(e,t){return e.asyncQueue.enqueue(async()=>{return dn(await pR(e),t)})}function pJ(e,t){return e.asyncQueue.enqueue(async()=>{return dr(await pR(e),t)})}function pZ(e){return e.asyncQueue.enqueue(async()=>{return di(await pR(e))})}function p0(e,t){return e.timeoutSeconds===t.timeoutSeconds}function p1(e){const t={};if(e.timeoutSeconds!==undefined){t.timeoutSeconds=e.timeoutSeconds}return t}const p2="ComponentProvider";const p3=new Map;function p6(e){const t=p3.get(e);if(t){C(p2,"Removing Datastore");p3.delete(e);t.terminate()}}function p4(e,t,n,r){return new nK(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,p1(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}const p8="firestore.googleapis.com";const p5=true;const p7=5;const p9=30;const me=true;class mt{constructor(e){if(e.host===undefined){if(e.ssl!==undefined){throw new M(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set")}this.host=p8;this.ssl=p5}else{this.host=e.host;this.ssl=e.ssl??p5}this.isUsingEmulator=e.emulatorOptions!==undefined;this.credentials=e.credentials;this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties;this.localCache=e.localCache;if(e.cacheSizeBytes===undefined){this.cacheSizeBytes=uy}else{if(e.cacheSizeBytes!==ug&&e.cacheSizeBytes<u_){throw new M(k.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${u_}`)}else{this.cacheSizeBytes=e.cacheSizeBytes}}eu("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling);this.experimentalForceLongPolling=!!e.experimentalForceLongPolling;if(this.experimentalForceLongPolling){this.experimentalAutoDetectLongPolling=false}else if(e.experimentalAutoDetectLongPolling===undefined){this.experimentalAutoDetectLongPolling=me}else{this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling}this.experimentalLongPollingOptions=p1(e.experimentalLongPollingOptions??{});mn(this.experimentalLongPollingOptions);this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&p0(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}function mn(e){if(e.timeoutSeconds!==undefined){if(isNaN(e.timeoutSeconds)){throw new M(k.INVALID_ARGUMENT,`invalid long polling timeout: `+`${e.timeoutSeconds} (must not be NaN)`)}if(e.timeoutSeconds<p7){throw new M(k.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} `+`(minimum allowed value is ${p7})`)}if(e.timeoutSeconds>p9){throw new M(k.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} `+`(maximum allowed value is ${p9})`)}}}class mr{constructor(e,t,n,r){this._authCredentials=e;this._appCheckCredentials=t;this._databaseId=n;this._app=r;this.type="firestore-lite";this._persistenceKey="(lite)";this._settings=new mt({});this._settingsFrozen=false;this._emulatorOptions={};this._terminateTask="notTerminated"}get app(){if(!this._app){throw new M(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is "+"not available")}return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen){throw new M(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer "+"be changed. You can only modify settings before calling any other "+"methods on a Firestore object.")}this._settings=new mt(e);this._emulatorOptions=e.emulatorOptions||{};if(e.credentials!==undefined){this._authCredentials=H(e.credentials)}}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){this._settingsFrozen=true;return this._settings}_delete(){if(this._terminateTask==="notTerminated"){this._terminateTask=this._terminate()}return this._terminateTask}async _restart(){if(this._terminateTask==="notTerminated"){await this._terminate()}else{this._terminateTask="notTerminated"}}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){p6(this);return Promise.resolve()}}function mi(e,t,n,r={}){e=em(e,mr);const i=(0,a.zJ)(t);const s=e._getSettings();const o={...s,emulatorOptions:e._getEmulatorOptions()};const c=`${t}:${n}`;if(i){void(0,a.gE)(`https://${c}`);(0,a.P1)("Firestore",true)}if(s.host!==p8&&s.host!==c){I("Host has been set in both settings() and connectFirestoreEmulator(), emulator host "+"will be used.")}const u={...s,host:c,ssl:i,emulatorOptions:r};if((0,a.bD)(u,o)){return}e._setSettings(u);if(r.mockUserToken){let t;let n;if(typeof r.mockUserToken==="string"){t=r.mockUserToken;n=y.MOCK_USER}else{t=(0,a.Fy)(r.mockUserToken,e._app?.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i){throw new M(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!")}n=new y(i)}e._authCredentials=new B(new j(t,n))}}class ms{constructor(e,t,n){this.converter=t;this._query=n;this.type="query";this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class mo{constructor(e,t,n){this.converter=t;this._key=n;this.type="document";this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mo(this.firestore,e,this._key)}toJSON(){return{type:mo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ev(t,mo._jsonSchema)){return new mo(e,n?n:null,new ea(ei.fromString(t.referencePath)))}}}mo._jsonSchemaVersion="firestore/documentReference/1.0";mo._jsonSchema={type:ey("string",mo._jsonSchemaVersion),referencePath:ey("string")};class ma extends ms{constructor(e,t,n){super(e,t,iD(n));this._path=n;this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();if(e.isEmpty()){return null}else{return new mo(this.firestore,null,new ea(e))}}withConverter(e){return new ma(this.firestore,e,this._path)}}function mc(e,t,...n){e=getModularInstance(e);ec("collection","path",t);if(e instanceof mr){const r=ei.fromString(t,...n);ed(r);return new ma(e,null,r)}else{if(!(e instanceof mo)&&!(e instanceof ma)){throw new M(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, "+"a DocumentReference or FirebaseFirestore")}const r=e._path.child(ei.fromString(t,...n));ed(r);return new ma(e.firestore,null,r)}}function mu(e,t){e=em(e,mr);ec("collectionGroup","collection id",t);if(t.indexOf("/")>=0){throw new M(k.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function `+`collectionGroup(). Collection IDs must not contain '/'.`)}return new ms(e,null,ij(t))}function ml(e,t,...n){e=(0,a.Ku)(e);if(arguments.length===1){t=K.newId()}ec("doc","path",t);if(e instanceof mr){const r=ei.fromString(t,...n);el(r);return new mo(e,null,new ea(r))}else{if(!(e instanceof mo)&&!(e instanceof ma)){throw new M(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, "+"a DocumentReference or FirebaseFirestore")}const r=e._path.child(ei.fromString(t,...n));el(r);return new mo(e.firestore,e instanceof ma?e.converter:null,new ea(r))}}function md(e,t){e=getModularInstance(e);t=getModularInstance(t);if((e instanceof mo||e instanceof ma)&&(t instanceof mo||t instanceof ma)){return e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}return false}function mf(e,t){e=getModularInstance(e);t=getModularInstance(t);if(e instanceof ms&&t instanceof ms){return e.firestore===t.firestore&&iQ(e._query,t._query)&&e.converter===t.converter}return false}const mh="AsyncQueue";class mp{constructor(e=Promise.resolve()){this.retryableOps=[];this._isShuttingDown=false;this.delayedOperations=[];this.failure=null;this.operationInProgress=false;this.skipNonRestrictedTasks=false;this.timerIdsToSkip=[];this.backoff=new d2(this,"async_queue_retry");this.visibilityHandler=()=>{this.backoff.skipBackoff()};this.tail=e}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed();this.enqueueInternal(e)}enterRestrictedMode(e){if(!this._isShuttingDown){this._isShuttingDown=true;this.skipNonRestrictedTasks=e||false}}enqueue(e){this.verifyNotFailed();if(this._isShuttingDown){return new Promise(()=>{})}const t=new L;return this.enqueueInternal(()=>{if(this._isShuttingDown&&this.skipNonRestrictedTasks){return Promise.resolve()}e().then(t.resolve,t.reject);return t.promise}).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>{this.retryableOps.push(e);return this.retryNextOp()})}async retryNextOp(){if(this.retryableOps.length===0){return}try{await this.retryableOps[0]();this.retryableOps.shift();this.backoff.reset()}catch(e){if(eQ(e)){C(mh,"Operation failed with retryable error: "+e)}else{throw e}}if(this.retryableOps.length>0){this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(e){const t=this.tail.then(()=>{this.operationInProgress=true;return e().catch(e=>{this.failure=e;this.operationInProgress=false;const t=mm(e);R("INTERNAL UNHANDLED ERROR: ",t);throw e}).then(e=>{this.operationInProgress=false;return e})});this.tail=t;return t}enqueueAfterDelay(e,t,n){this.verifyNotFailed();if(this.timerIdsToSkip.indexOf(e)>-1){t=0}const r=fJ.createAndSchedule(this,e,t,n,e=>this.removeDelayedOperation(e));this.delayedOperations.push(r);return r}verifyNotFailed(){if(this.failure){A(47125,{messageOrStack:mm(this.failure)})}}verifyOperationInProgress(){}async drain(){let e;do{e=this.tail;await e}while(e!==this.tail)}containsDelayedOperation(e){for(const t of this.delayedOperations){if(t.timerId===e){return true}}return false}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.delayedOperations){t.skipDelay();if(e!=="all"&&t.timerId===e){break}}return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){const t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}}function mm(e){let t=e.message||"";if(e.stack){if(e.stack.includes(e.message)){t=e.stack}else{t=e.message+"\n"+e.stack}}return t}class mg{constructor(){this._progressObserver={};this._taskCompletionResolver=new L;this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e);if(this._progressObserver.complete){this._progressObserver.complete()}this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error";if(this._progressObserver.next){this._progressObserver.next(this._lastProgress)}if(this._progressObserver.error){this._progressObserver.error(e)}this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e;if(this._progressObserver.next){this._progressObserver.next(e)}}}const my=null&&ug;class mv extends mr{constructor(e,t,n,r){super(e,t,n,r);this.type="firestore";this._queue=new mp;this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mp(e);this._firestoreClient=undefined;await e}}}function mb(e,t,n){if(!n){n=nQ}const r=_getProvider(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n});const i=r.getOptions(n);if(deepEqual(i,t)){return e}else{throw new M(k.FAILED_PRECONDITION,"initializeFirestore() has already been called with "+"different options. To avoid this error, call initializeFirestore() with the "+"same options as when it was originally called, or call getFirestore() to return the"+" already initialized instance.")}}if(t.cacheSizeBytes!==undefined&&t.localCache!==undefined){throw new M(k.INVALID_ARGUMENT,`cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes will`+`be deprecated. Instead, specify the cache size in the cache object`)}if(t.cacheSizeBytes!==undefined&&t.cacheSizeBytes!==my&&t.cacheSizeBytes<u_){throw new M(k.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${u_}`)}if(t.host&&isCloudWorkstation(t.host)){void pingServer(t.host)}return r.initialize({options:t,instanceIdentifier:n})}function m_(e,t){const n=typeof e==="object"?e:(0,r.Sx)();const i=typeof e==="string"?e:t||nQ;const s=(0,r.j6)(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=(0,a.yU)("firestore");if(e){mi(s,...e)}}return s}function mE(e){if(e._terminated){throw new M(k.FAILED_PRECONDITION,"The client has already been terminated.")}if(!e._firestoreClient){mw(e)}return e._firestoreClient}function mw(e){const t=e._freezeSettings();const n=p4(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);if(!e._componentsProvider){if(t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider){e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}}}e._firestoreClient=new pb(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&mS(e._componentsProvider))}function mS(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}function mT(e,t){I("enableIndexedDbPersistence() will be deprecated in the future, "+"you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();mR(e,pn.provider,{build:e=>new pe(e,n.cacheSizeBytes,t?.forceOwnership)});return Promise.resolve()}async function mC(e){I("enableMultiTabIndexedDbPersistence() will be deprecated in the future, "+"you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();mR(e,pn.provider,{build:e=>new pt(e,t.cacheSizeBytes)})}function mR(e,t,n){e=em(e,mv);if(e._firestoreClient||e._terminated){throw new M(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be "+"enabled. You can only enable persistence before calling any other "+"methods on a Firestore object.")}if(e._componentsProvider||e._getSettings().localCache){throw new M(k.FAILED_PRECONDITION,"SDK cache is already specified.")}e._componentsProvider={_online:t,_offline:n};mw(e)}function mI(e){if(e._initialized&&!e._terminated){throw new M(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is "+"initialized or after it is terminated.")}const t=new L;e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await lA(lO(e._databaseId,e._persistenceKey));t.resolve()}catch(e){t.reject(e)}});return t.promise}function mO(e){e=em(e,mv);const t=mE(e);return pD(t)}function mA(e){e=em(e,mv);const t=mE(e);return pN(t)}function mP(e){e=em(e,mv);const t=mE(e);return px(t)}function mN(e){_removeServiceInstance(e.app,"firestore",e._databaseId.database);return e._delete()}function mx(e,t){e=em(e,mv);const n=mE(e);const r=new mg;pW(n,e._databaseId,t,r);return r}function mD(e,t){e=em(e,mv);const n=mE(e);return pK(n,t).then(t=>{if(!t){return null}return new ms(e,null,t.query)})}function mk(e,t=true){_(r.MF);(0,r.om)(new i.uA("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate();const s=new mv(new U(e.getProvider("auth-internal")),new G(i,e.getProvider("app-check-internal")),nX(i,n),i);r={useFetchStreams:t,...r};s._setSettings(r);return s},"PUBLIC").setMultipleInstances(true));(0,r.KO)(m,g,e);(0,r.KO)(m,g,"esm2020")}class mM{constructor(e,t,n){this.alias=e;this.aggregateType=t;this.fieldPath=n}}class mL{constructor(e="count",t){this._internalFieldPath=t;this.type="AggregateField";this.aggregateType=e}}class mj{constructor(e,t,n){this._userDataWriter=t;this._data=n;this.type="AggregateQuerySnapshot";this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class mF{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mF(nD.fromBase64String(e))}catch(e){throw new M(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mF(nD.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mF._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ev(e,mF._jsonSchema)){return mF.fromBase64String(e.bytes)}}}mF._jsonSchemaVersion="firestore/bytes/1.0";mF._jsonSchema={type:ey("string",mF._jsonSchemaVersion),bytes:ey("string")};class mB{constructor(...e){for(let t=0;t<e.length;++t){if(e[t].length===0){throw new M(k.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). `+"Field names must not be empty.")}}this._internalPath=new eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function mU(){return new mB(en)}class mV{constructor(e){this._methodName=e}}class mz{constructor(e,t){if(!isFinite(e)||e<-90||e>90){throw new M(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e)}if(!isFinite(t)||t<-180||t>180){throw new M(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t)}this._lat=e;this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mz._jsonSchemaVersion}}static fromJSON(e){if(ev(e,mz._jsonSchema)){return new mz(e.latitude,e.longitude)}}}mz._jsonSchemaVersion="firestore/geoPoint/1.0";mz._jsonSchema={type:ey("string",mz._jsonSchemaVersion),latitude:ey("number"),longitude:ey("number")};class mq{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return lN(this._values,e._values)}toJSON(){return{type:mq._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ev(e,mq._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>typeof e==="number")){return new mq(e.vectorValues)}throw new M(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mq._jsonSchemaVersion="firestore/vectorValue/1.0";mq._jsonSchema={type:ey("string",mq._jsonSchemaVersion),vectorValues:ey("object")};const mG=/^__.*__$/;class m${constructor(e,t,n){this.data=e;this.fieldMask=t;this.fieldTransforms=n}toMutation(e,t){if(this.fieldMask!==null){return new sG(e,this.data,this.fieldMask,t,this.fieldTransforms)}else{return new sV(e,this.data,t,this.fieldTransforms)}}}class mH{constructor(e,t,n){this.data=e;this.fieldMask=t;this.fieldTransforms=n}toMutation(e,t){return new sG(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mW(e){switch(e){case 0:case 2:case 1:return true;case 3:case 4:return false;default:throw A(40011,{dataSource:e})}}class mK{constructor(e,t,n,r,i,s){this.settings=e;this.databaseId=t;this.serializer=n;this.ignoreUndefinedProperties=r;if(i===undefined){this.validatePath()}this.fieldTransforms=i||[];this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new mK({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e);const n=this.contextWith({path:t,arrayElement:false});n.validatePathSegment(e);return n}childContextForFieldPath(e){const t=this.path?.child(e);const n=this.contextWith({path:t,arrayElement:false});n.validatePath();return n}childContextForArray(e){return this.contextWith({path:undefined,arrayElement:true})}createError(e){return gc(e,this.settings.methodName,this.settings.hasConverter||false,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==undefined||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==undefined}validatePath(){if(!this.path){return}for(let e=0;e<this.path.length;e++){this.validatePathSegment(this.path.get(e))}}validatePathSegment(e){if(e.length===0){throw this.createError("Document fields must not be empty")}if(mW(this.dataSource)&&mG.test(e)){throw this.createError('Document fields cannot begin and end with "__"')}}}class mQ{constructor(e,t,n){this.databaseId=e;this.ignoreUndefinedProperties=t;this.serializer=n||dX(e)}createContext(e,t,n,r=false){return new mK({dataSource:e,methodName:t,targetDoc:n,path:eo.emptyPath(),arrayElement:false,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mY(e){const t=e._freezeSettings();const n=dX(e._databaseId);return new mQ(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mX(e,t,n,r,i,s={}){const o=e.createContext(s.merge||s.mergeFields?2:0,t,n,i);gi("Data must be an object, but it was:",o,r);const a=m7(r,o);let c;let u;if(s.merge){c=new nA(o.fieldMask);u=o.fieldTransforms}else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=gs(t,r,n);if(!o.contains(i)){throw new M(k.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`)}if(!gu(e,i)){e.push(i)}}c=new nA(e);u=o.fieldTransforms.filter(e=>c.covers(e.field))}else{c=null;u=o.fieldTransforms}return new m$(new rz(a),c,u)}class mJ extends mV{_toFieldTransform(e){if(e.dataSource===2){e.fieldMask.push(e.path)}else if(e.dataSource===1){throw e.createError(`${this._methodName}() can only appear at the top level `+"of your update data")}else{throw e.createError(`${this._methodName}() cannot be used with set() unless you pass `+"{merge:true}")}return null}isEqual(e){return e instanceof mJ}}function mZ(e,t,n){return new mK({dataSource:3,targetDoc:t.settings.targetDoc,methodName:e._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class m0 extends(null&&mV){_toFieldTransform(e){return new sA(e.path,new s_)}isEqual(e){return e instanceof m0}}class m1 extends mV{constructor(e,t){super(e);this._elements=t}_toFieldTransform(e){const t=mZ(this,e,true);const n=this._elements.map(e=>m5(e,t));const r=new sE(n);return new sA(e.path,r)}isEqual(e){return e instanceof m1&&(0,a.bD)(this._elements,e._elements)}}class m2 extends mV{constructor(e,t){super(e);this._elements=t}_toFieldTransform(e){const t=mZ(this,e,true);const n=this._elements.map(e=>m5(e,t));const r=new sS(n);return new sA(e.path,r)}isEqual(e){return e instanceof m2&&(0,a.bD)(this._elements,e._elements)}}class m3 extends mV{constructor(e,t){super(e);this._operand=t}_toFieldTransform(e){const t=new sC(e.serializer,sp(e.serializer,this._operand));return new sA(e.path,t)}isEqual(e){return e instanceof m3&&this._operand===e._operand}}function m6(e,t,n,r){const i=e.createContext(1,t,n);gi("Data must be an object, but it was:",i,r);const s=[];const o=rz.empty();nv(r,(e,r)=>{const c=ga(t,e,n);r=(0,a.Ku)(r);const u=i.childContextForFieldPath(c);if(r instanceof mJ){s.push(c)}else{const e=m5(r,u);if(e!=null){s.push(c);o.set(c,e)}}});const c=new nA(s);return new mH(o,c,i.fieldTransforms)}function m4(e,t,n,r,i,s){const o=e.createContext(1,t,n);const c=[gs(t,r,n)];const u=[i];if(s.length%2!==0){throw new M(k.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number `+"of arguments that alternate between field names and values.")}for(let e=0;e<s.length;e+=2){c.push(gs(t,s[e]));u.push(s[e+1])}const l=[];const d=rz.empty();for(let e=c.length-1;e>=0;--e){if(!gu(l,c[e])){const t=c[e];let n=u[e];n=(0,a.Ku)(n);const r=o.childContextForFieldPath(t);if(n instanceof mJ){l.push(t)}else{const e=m5(n,r);if(e!=null){l.push(t);d.set(t,e)}}}}const f=new nA(l);return new mH(d,f,o.fieldTransforms)}function m8(e,t,n,r=false){const i=e.createContext(r?4:3,t);const s=m5(n,i);return s}function m5(e,t){e=(0,a.Ku)(e);if(gr(e)){gi("Unsupported field value:",t,e);return m7(e,t)}else if(e instanceof mV){ge(e,t);return null}else if(e===undefined&&t.ignoreUndefinedProperties){return null}else{if(t.path){t.fieldMask.push(t.path)}if(e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4){throw t.createError("Nested arrays are not supported")}return m9(e,t)}else{return gt(e,t)}}}function m7(e,t){const n={};if(n_(e)){if(t.path&&t.path.length>0){t.fieldMask.push(t.path)}}else{nv(e,(e,r)=>{const i=m5(r,t.childContextForField(e));if(i!=null){n[e]=i}})}return{mapValue:{fields:n}}}function m9(e,t){const n=[];let r=0;for(const i of e){let e=m5(i,t.childContextForArray(r));if(e==null){e={nullValue:"NULL_VALUE"}}n.push(e);r++}return{arrayValue:{values:n}}}function ge(e,t){if(!mW(t.dataSource)){throw t.createError(`${e._methodName}() can only be used with update() and set()`)}if(!t.path){throw t.createError(`${e._methodName}() is not currently supported inside arrays`)}const n=e._toFieldTransform(t);if(n){t.fieldTransforms.push(n)}}function gt(e,t){e=(0,a.Ku)(e);if(e===null){return{nullValue:"NULL_VALUE"}}else if(typeof e==="number"){return sp(t.serializer,e)}else if(typeof e==="boolean"){return{booleanValue:e}}else if(typeof e==="string"){return{stringValue:e}}else if(e instanceof Date){const n=eE.fromDate(e);return{timestampValue:oI(t.serializer,n)}}else if(e instanceof eE){const n=new eE(e.seconds,Math.floor(e.nanoseconds/1e3)*1e3);return{timestampValue:oI(t.serializer,n)}}else if(e instanceof mz){return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}}}else if(e instanceof mF){return{bytesValue:oA(t.serializer,e._byteString)}}else if(e instanceof mo){const n=t.databaseId;const r=e.firestore._databaseId;if(!r.isEqual(n)){throw t.createError("Document reference is for database "+`${r.projectId}/${r.database} but should be `+`for database ${n.projectId}/${n.database}`)}return{referenceValue:oD(e.firestore._databaseId||t.databaseId,e._key.path)}}else if(e instanceof mq){return gn(e,t)}else{throw t.createError(`Unsupported field value: ${eh(e)}`)}}function gn(e,t){const n={fields:{[n2]:{stringValue:n4},[n8]:{arrayValue:{values:e.toArray().map(e=>{if(typeof e!=="number"){throw t.createError("VectorValues must only contain numeric values.")}return sf(t.serializer,e)})}}}};return{mapValue:n}}function gr(e){return typeof e==="object"&&e!==null&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof eE)&&!(e instanceof mz)&&!(e instanceof mF)&&!(e instanceof mo)&&!(e instanceof mV)&&!(e instanceof mq)}function gi(e,t,n){if(!gr(n)||!ef(n)){const r=eh(n);if(r==="an object"){throw t.createError(e+" a custom object")}else{throw t.createError(e+" "+r)}}}function gs(e,t,n){t=(0,a.Ku)(t);if(t instanceof mB){return t._internalPath}else if(typeof t==="string"){return ga(e,t)}else{const t="Field path arguments must be of type string or ";throw gc(t,e,false,undefined,n)}}const go=new RegExp("[~\\*/\\[\\]]");function ga(e,t,n){const r=t.search(go);if(r>=0){throw gc(`Invalid field path (${t}). Paths must not contain `+`'~', '*', '/', '[', or ']'`,e,false,undefined,n)}try{return new mB(...t.split("."))._internalPath}catch(r){throw gc(`Invalid field path (${t}). Paths must not be empty, `+`begin with '.', end with '.', or contain '..'`,e,false,undefined,n)}}function gc(e,t,n,r,i){const s=r&&!r.isEmpty();const o=i!==undefined;let a=`Function ${t}() called with invalid data`;if(n){a+=" (via `toFirestore()`)"}a+=". ";let c="";if(s||o){c+=" (found";if(s){c+=` in field ${r}`}if(o){c+=` in document ${i}`}c+=")"}return new M(k.INVALID_ARGUMENT,a+e+c)}function gu(e,t){return e.some(e=>e.isEqual(t))}class gl{constructor(e,t,n,r,i){this._firestore=e;this._userDataWriter=t;this._key=n;this._document=r;this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(!this._document){return undefined}else if(this._converter){const e=new gd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else{return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gf("DocumentSnapshot.get",e));if(t!==null){return this._userDataWriter.convertValue(t)}}return undefined}}class gd extends gl{data(){return super.data()}}function gf(e,t){if(typeof t==="string"){return ga(e,t)}else if(t instanceof mB){return t._internalPath}else{return t._delegate._internalPath}}function gh(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0){throw new M(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}}class gp{}class gm extends gp{}function gg(e,t,...n){let r=[];if(t instanceof gp){r.push(t)}r=r.concat(n);g$(r);for(const t of r){e=t._apply(e)}return e}class gy extends gm{constructor(e,t,n){super();this._field=e;this._op=t;this._value=n;this.type="where"}static _create(e,t,n){return new gy(e,t,n)}_apply(e){const t=this._parse(e);gV(e._query,t);return new ms(e.firestore,e.converter,iG(e._query,t))}_parse(e){const t=mY(e.firestore);const n=gk(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function gv(e,t,n){const r=t;const i=gf("where",e);return gy._create(i,r,n)}class gb extends gp{constructor(e,t){super();this.type=e;this._queryConstraints=t}static _create(e,t){return new gb(e,t)}_parse(e){const t=this._queryConstraints.map(t=>{return t._parse(e)}).filter(e=>e.getFilters().length>0);if(t.length===1){return t[0]}return r3.create(t,this._getOperator())}_apply(e){const t=this._parse(e);if(t.getFilters().length===0){return e}gz(e._query,t);return new ms(e.firestore,e.converter,iG(e._query,t))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function g_(...e){e.forEach(e=>gG("or",e));return gb._create("or",e)}function gE(...e){e.forEach(e=>gG("and",e));return gb._create("and",e)}class gw extends gm{constructor(e,t){super();this._field=e;this._direction=t;this.type="orderBy"}static _create(e,t){return new gw(e,t)}_apply(e){const t=gM(e._query,this._field,this._direction);return new ms(e.firestore,e.converter,i$(e._query,t))}}function gS(e,t="asc"){const n=t;const r=gf("orderBy",e);return gw._create(r,n)}class gT extends gm{constructor(e,t,n){super();this.type=e;this._limit=t;this._limitType=n}static _create(e,t,n){return new gT(e,t,n)}_apply(e){return new ms(e.firestore,e.converter,iH(e._query,this._limit,this._limitType))}}function gC(e){eg("limit",e);return gT._create("limit",e,"F")}function gR(e){eg("limitToLast",e);return gT._create("limitToLast",e,"L")}class gI extends gm{constructor(e,t,n){super();this.type=e;this._docOrFields=t;this._inclusive=n}static _create(e,t,n){return new gI(e,t,n)}_apply(e){const t=gD(e,this.type,this._docOrFields,this._inclusive);return new ms(e.firestore,e.converter,iW(e._query,t))}}function gO(...e){return gI._create("startAt",e,true)}function gA(...e){return gI._create("startAfter",e,false)}class gP extends gm{constructor(e,t,n){super();this.type=e;this._docOrFields=t;this._inclusive=n}static _create(e,t,n){return new gP(e,t,n)}_apply(e){const t=gD(e,this.type,this._docOrFields,this._inclusive);return new ms(e.firestore,e.converter,iK(e._query,t))}}function gN(...e){return gP._create("endBefore",e,false)}function gx(...e){return gP._create("endAt",e,true)}function gD(e,t,n,r){n[0]=(0,a.Ku)(n[0]);if(n[0]instanceof gl){return gL(e._query,e.firestore._databaseId,t,n[0]._document,r)}else{const i=mY(e.firestore);return gj(e._query,e.firestore._databaseId,i,t,n,r)}}function gk(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if(s==="array-contains"||s==="array-contains-any"){throw new M(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`)}else if(s==="in"||s==="not-in"){gB(o,s);const t=[];for(const n of o){t.push(gF(r,e,n))}a={arrayValue:{values:t}}}else{a=gF(r,e,o)}}else{if(s==="in"||s==="not-in"||s==="array-contains-any"){gB(o,s)}a=m8(n,t,o,s==="in"||s==="not-in")}const c=r2.create(i,s,a);return c}function gM(e,t,n){if(e.startAt!==null){throw new M(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before "+"calling orderBy().")}if(e.endAt!==null){throw new M(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before "+"calling orderBy().")}const r=new rX(t,n);return r}function gL(e,t,n,r,i){if(!r){throw new M(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for `+`${n}().`)}const s=[];for(const n of iU(e)){if(n.field.isKeyField()){s.push(rR(t,r.key))}else{const e=r.data.field(n.field);if(nG(e)){throw new M(k.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a "+'document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of '+"this field is unknown, you cannot start/end a query with it.)")}else if(e!==null){s.push(e)}else{const e=n.field.canonicalString();throw new M(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a `+`document for which the field '${e}' (used as the `+`orderBy) does not exist.`)}}}return new rH(s,i)}function gj(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length){throw new M(k.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). `+`The number of arguments must be less than or equal to the `+`number of orderBy() clauses`)}const a=[];for(let s=0;s<i.length;s++){const c=i[s];const u=o[s];if(u.field.isKeyField()){if(typeof c!=="string"){throw new M(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in `+`${r}(), but got a ${typeof c}`)}if(!iB(e)&&c.indexOf("/")!==-1){throw new M(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), `+`the value passed to ${r}() must be a plain document ID, but `+`'${c}' contains a slash.`)}const n=e.path.child(ei.fromString(c));if(!ea.isDocumentKey(n)){throw new M(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by `+`documentId(), the value passed to ${r}() must result in a `+`valid document path, but '${n}' is not because it contains an odd number `+`of segments.`)}const i=new ea(n);a.push(rR(t,i))}else{const e=m8(n,r,c);a.push(e)}}return new rH(a,s)}function gF(e,t,n){n=(0,a.Ku)(n);if(typeof n==="string"){if(n===""){throw new M(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you "+"must provide a valid document ID, but it was an empty string.")}if(!iB(t)&&n.indexOf("/")!==-1){throw new M(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by `+`documentId(), you must provide a plain document ID, but `+`'${n}' contains a '/' character.`)}const r=t.path.child(ei.fromString(n));if(!ea.isDocumentKey(r)){throw new M(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by `+`documentId(), the value provided must result in a valid document path, `+`but '${r}' is not because it has an odd number of segments (${r.length}).`)}return rR(e,new ea(r))}else if(n instanceof mo){return rR(e,n._key)}else{throw new M(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid `+`string or a DocumentReference, but it was: `+`${eh(n)}.`)}}function gB(e,t){if(!Array.isArray(e)||e.length===0){throw new M(k.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for "+`'${t.toString()}' filters.`)}}function gU(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function gV(e,t){const n=gq(e.filters,gU(t.op));if(n!==null){if(n===t.op){throw new M(k.INVALID_ARGUMENT,"Invalid query. You cannot use more than one "+`'${t.op.toString()}' filter.`)}else{throw new M(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters `+`with '${n.toString()}' filters.`)}}}function gz(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r){gV(n,e);n=iG(n,e)}}function gq(e,t){for(const n of e){for(const e of n.getFlattenedFilters()){if(t.indexOf(e.op)>=0){return e.op}}}return null}function gG(e,t){if(!(t instanceof gy)&&!(t instanceof gb)){throw new M(k.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}}function g$(e){const t=e.filter(e=>e instanceof gb).length;const n=e.filter(e=>e instanceof gy).length;if(t>1||t>0&&n>0){throw new M(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use "+"more than one filter at the top level. Consider nesting the multiple "+"filters within an `and(...)` statement. For example: "+"change `query(query, where(...), or(...))` to "+"`query(query, and(where(...), or(...)))`.")}}class gH{convertValue(e,t="none"){switch(n7(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nF(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nB(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw A(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};nv(e,(e,r)=>{n[e]=this.convertValue(r,t)});return n}convertVectorValue(e){const t=e.fields?.[n8].arrayValue?.values?.map(e=>{return nF(e.doubleValue)});return new mq(t)}convertGeoPoint(e){return new mz(nF(e.latitude),nF(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=nH(e);if(n==null){return null}return this.convertValue(n,t);case"estimate":return this.convertTimestamp(nW(e));default:return null}}convertTimestamp(e){const t=nj(e);return new eE(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ei.fromString(e);N(ax(n),9688,{name:e});const r=new nY(n.get(1),n.get(3));const i=new ea(n.popFirst(5));if(!r.isEqual(t)){R(`Document ${i} contains a document `+`reference within a different database (`+`${r.projectId}/${r.database}) which is not `+`supported. It will be treated as a reference in the current `+`database (${t.projectId}/${t.database}) `+`instead.`)}return i}}function gW(e,t,n){let r;if(e){if(n&&(n.merge||n.mergeFields)){r=e.toFirestore(t,n)}else{r=e.toFirestore(t)}}else{r=t}return r}class gK extends gH{constructor(e){super();this.firestore=e}convertBytes(e){return new mF(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mo(this.firestore,null,t)}}function gQ(e){return new mL("sum",gs("sum",e))}function gY(e){return new mL("avg",gs("average",e))}function gX(){return new mL("count")}function gJ(e,t){return e instanceof mL&&t instanceof mL&&e.aggregateType===t.aggregateType&&e._internalFieldPath?.canonicalString()===t._internalFieldPath?.canonicalString()}function gZ(e,t){return mf(e.query,t.query)&&deepEqual(e.data(),t.data())}function g0(e){return g1(e,["next","error","complete"])}function g1(e,t){if(typeof e!=="object"||e===null){return false}const n=e;for(const e of t){if(e in n&&typeof n[e]==="function"){return true}}return false}const g2=ot();function g3(e){const t=JSON.stringify(e);const n=g2.encode(t).byteLength;return`${n}${t}`}const g6={metadata:{id:"test-bundle",createTime:{seconds:0x5e0be105,nanos:6},version:1,totalDocuments:1,totalBytes:416}};g3(g6);const g4={documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/doc1",readTime:{seconds:5,nanos:6},exists:true}};g3(g4);const g8={document:{name:"projects/test-project/databases/(default)/documents/collectionId/doc1",createTime:{seconds:1,nanos:2e6},updateTime:{seconds:3,nanos:4e3},fields:{foo:{stringValue:"value"},bar:{integerValue:-42}}}};g3(g8);const g5={documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/doc2",readTime:{seconds:5,nanos:6},exists:true}};g3(g5);const g7={document:{name:"projects/test-project/databases/(default)/documents/collectionId/doc2",createTime:{seconds:1,nanos:2e6},updateTime:{seconds:3,nanos:4e3},fields:{foo:{stringValue:"value1"},bar:{integerValue:42},emptyArray:{arrayValue:{}},emptyMap:{mapValue:{}}}}};g3(g7);const g9={documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/nodoc",readTime:{seconds:5,nanos:6},exists:false}};g3(g9);const ye={namedQuery:{name:"limitQuery",bundledQuery:{parent:"projects/fireeats-97d5e/databases/(default)/documents",structuredQuery:{from:[{collectionId:"node_3.7.5_7Li7XoCjutvNxwD0tpo9"}],orderBy:[{field:{fieldPath:"sort"},direction:"DESCENDING"}],limit:{"value":1}},limitType:"FIRST"},readTime:{"seconds":0x5ec5a5f3,"nanos":191164e3}}};g3(ye);const yt={namedQuery:{name:"limitToLastQuery",bundledQuery:{parent:"projects/fireeats-97d5e/databases/(default)/documents",structuredQuery:{from:[{collectionId:"node_3.7.5_7Li7XoCjutvNxwD0tpo9"}],orderBy:[{field:{fieldPath:"sort"},direction:"ASCENDING"}],limit:{"value":1}},limitType:"LAST"},readTime:{"seconds":0x5ec5a5f3,"nanos":543063e3}}};g3(yt);const yn=1;class yr{constructor(e,t){this.firestore=e;this.bundleId=t;this.documents=new Map;this.namedQueries=new Map;this.latestReadTime=new eE(0,0);this.databaseId=e._databaseId;this.serializer=new oS(this.databaseId,true);this.userDataReader=new mQ(this.databaseId,true,this.serializer)}addBundleDocument(e,t){const n=this.documents.get(e.documentPath);const r=n?.metadata.queries;const i=e.readTime;const s=!!n?.metadata.readTime?oO(n.metadata.readTime):null;const o=!i&&s==null;const a=i!==undefined&&(s==null||s<i);if(o||a){this.documents.set(e.documentPath,{document:this.toBundleDocument(e),metadata:{name:oL(this.serializer,e.documentKey),readTime:!!i?oI(this.serializer,i):undefined,exists:e.documentExists}})}if(i&&i>this.latestReadTime){this.latestReadTime=i}if(t){const n=this.documents.get(e.documentPath);n.metadata.queries=r||[];n.metadata.queries.push(t)}}addBundleQuery(e){if(this.namedQueries.has(e.name)){throw new Error(`Query name conflict: ${name} has already been added.`)}let t=new eE(0,0);for(const n of e.docBundleDataArray){this.addBundleDocument(n,e.name);if(n.readTime&&n.readTime>t){t=n.readTime}}const n=o7(this.serializer,iV(e.query));const r={parent:e.parent,structuredQuery:n.queryTarget.structuredQuery};this.namedQueries.set(e.name,{name:e.name,bundledQuery:r,readTime:oI(this.serializer,t)})}toBundleDocument(e){const t=this.userDataReader.createContext(4,"internal toBundledDocument");const n=m7(e.documentData,t);return{name:oL(this.serializer,e.documentKey),fields:n.mapValue.fields,updateTime:oI(this.serializer,e.versionTime),createTime:oI(this.serializer,e.createdTime)}}lengthPrefixedString(e){const t=JSON.stringify(e);const n=g2.encode(t).byteLength;return`${n}${t}`}build(){let e="";for(const t of this.namedQueries.values()){e+=this.lengthPrefixedString({namedQuery:t})}for(const t of this.documents.values()){const n=t.metadata;e+=this.lengthPrefixedString({documentMetadata:n});const r=t.document;if(r){e+=this.lengthPrefixedString({document:r})}}const t={id:this.bundleId,createTime:oI(this.serializer,this.latestReadTime),version:yn,totalDocuments:this.documents.size,totalBytes:g2.encode(e).length};e=this.lengthPrefixedString({metadata:t})+e;return e}}function yi(e,t,n,r){const i=new yr(e,K.newId());i.addBundleDocument(yo(r,n,t));return i.build()}function ys(e,t,n,r,i,s,o){const a=[];for(let e=0;e<s.length;e++){a.push(yo(i[e],o[e],s[e]))}const c={name:n,query:t,parent:r,docBundleDataArray:a};const u=new yr(e,n);u.addBundleQuery(c);return u.build()}function yo(e,t,n){return{documentData:t,documentKey:n.mutableCopy().key,documentPath:e,documentExists:true,createdTime:n.createTime.toTimestamp(),readTime:n.readTime.toTimestamp(),versionTime:n.version.toTimestamp()}}const ya="NOT SUPPORTED";class yc{constructor(e,t){this.hasPendingWrites=e;this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yu extends gl{constructor(e,t,n,r,i,s){super(e,t,n,r,s);this._firestore=e;this._firestoreImpl=e;this.metadata=i}exists(){return super.exists()}data(e={}){if(!this._document){return undefined}else if(this._converter){const t=new yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}else{return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(gf("DocumentSnapshot.get",e));if(n!==null){return this._userDataWriter.convertValue(n,t.serverTimestamps)}}return undefined}toJSON(){if(this.metadata.hasPendingWrites){throw new M(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. "+"Await waitForPendingWrites() before invoking toJSON().")}const e=this._document;const t={};t["type"]=yu._jsonSchemaVersion;t["bundle"]="";t["bundleSource"]="DocumentSnapshot";t["bundleName"]=this._key.toString();if(!e||!e.isValidDocument()||!e.isFoundDocument()){return t}const n=this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous");t["bundle"]=yi(this._firestore,e,n,this.ref.path);return t}}yu._jsonSchemaVersion="firestore/documentSnapshot/1.0";yu._jsonSchema={type:ey("string",yu._jsonSchemaVersion),bundleSource:ey("string","DocumentSnapshot"),bundleName:ey("string"),bundle:ey("string")};function yl(e,t,n){if(ev(t,yu._jsonSchema)){if(t.bundle===ya){throw new M(k.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.")}const r=dX(e._databaseId);const i=pY(t.bundle,r);const s=i.getElements();const o=new hl(i.getMetadata(),r);for(const e of s){o.addSizedElement(e)}const a=o.documents;if(a.length!==1){throw new M(k.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${a.length} documents.`)}const c=o$(r,a[0].document);const u=new ea(ei.fromString(t.bundleName));return new yu(e,new gK(e),u,c,new yc(false,false),n?n:null)}}class yd extends yu{data(e={}){return super.data(e)}}class yf{constructor(e,t,n,r){this._firestore=e;this._userDataWriter=t;this._snapshot=r;this.metadata=new yc(r.hasPendingWrites,r.fromCache);this.query=n}get docs(){const e=[];this.forEach(t=>e.push(t));return e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new yd(this._firestore,this._userDataWriter,n.key,n,new yc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges){throw new M(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must "+"also pass { includeMetadataChanges:true } to onSnapshot().")}if(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==t){this._cachedChanges=yp(this,t);this._cachedChangesIncludeMetadataChanges=t}return this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites){throw new M(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. "+"Await waitForPendingWrites() before invoking toJSON().")}const e={};e["type"]=yf._jsonSchemaVersion;e["bundleSource"]="QuerySnapshot";e["bundleName"]=K.newId();const t=this._firestore._databaseId.database;const n=this._firestore._databaseId.projectId;const r=`projects/${n}/databases/${t}/documents`;const i=[];const s=[];const o=[];this.docs.forEach(e=>{if(e._document===null){return}i.push(e._document);s.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous"));o.push(e.ref.path)});e["bundle"]=ys(this._firestore,this.query._query,e["bundleName"],r,o,i,s);return e}}yf._jsonSchemaVersion="firestore/querySnapshot/1.0";yf._jsonSchema={type:ey("string",yf._jsonSchemaVersion),bundleSource:ey("string","QuerySnapshot"),bundleName:ey("string"),bundle:ey("string")};function yh(e,t,n){if(ev(t,yf._jsonSchema)){if(t.bundle===ya){throw new M(k.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.")}const r=dX(e._databaseId);const i=pY(t.bundle,r);const s=i.getElements();const o=new hl(i.getMetadata(),r);for(const e of s){o.addSizedElement(e)}if(o.queries.length!==1){throw new M(k.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${o.queries.length} queries.`)}const a=aY(o.queries[0].bundledQuery);const c=o.documents;let u=new f0;c.map(e=>{const t=o$(r,e.document);u=u.add(t)});const l=f2.fromInitialDocuments(a,u,su(),false,false);const d=new ms(e,n?n:null,a);return new yf(e,new gK(e),d,l)}}function yp(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new yd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new yc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);n.doc;return{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}else{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||e.type!==3).map(t=>{const r=new yd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1;let s=-1;if(t.type!==0){i=n.indexOf(t.doc.key);n=n.delete(t.doc.key)}if(t.type!==1){n=n.add(t.doc);s=n.indexOf(t.doc.key)}return{type:ym(t.type),doc:r,oldIndex:i,newIndex:s}})}}function ym(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A(61501,{type:e})}}function yg(e,t){if(e instanceof yu&&t instanceof yu){return e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter}else if(e instanceof yf&&t instanceof yf){return e._firestore===t._firestore&&mf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}return false}function yy(e){e=em(e,mo);const t=em(e.firestore,mv);const n=mE(t);return pL(n,e._key).then(n=>yx(t,e,n))}class yv extends gH{constructor(e){super();this.firestore=e}convertBytes(e){return new mF(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mo(this.firestore,null,t)}}function yb(e){e=em(e,mo);const t=em(e.firestore,mv);const n=mE(t);const r=new yv(t);return pM(n,e._key).then(n=>new yu(t,r,e._key,n,new yc(n!==null&&n.hasLocalMutations,true),e.converter))}function y_(e){e=em(e,mo);const t=em(e.firestore,mv);const n=mE(t);return pL(n,e._key,{source:"server"}).then(n=>yx(t,e,n))}function yE(e){e=em(e,ms);const t=em(e.firestore,mv);const n=mE(t);const r=new yv(t);gh(e._query);return pF(n,e._query).then(n=>new yf(t,r,e,n))}function yw(e){e=em(e,ms);const t=em(e.firestore,mv);const n=mE(t);const r=new yv(t);return pj(n,e._query).then(n=>new yf(t,r,e,n))}function yS(e){e=em(e,ms);const t=em(e.firestore,mv);const n=mE(t);const r=new yv(t);return pF(n,e._query,{source:"server"}).then(n=>new yf(t,r,e,n))}function yT(e,t,n){e=em(e,mo);const r=em(e.firestore,mv);const i=gW(e.converter,t,n);const s=mY(r);const o=mX(s,"setDoc",e._key,i,e.converter!==null,n);const a=o.toMutation(e._key,sD.none());return yN(r,[a])}function yC(e,t,n,...r){e=em(e,mo);const i=em(e.firestore,mv);const s=mY(i);t=getModularInstance(t);let o;if(typeof t==="string"||t instanceof mB){o=m4(s,"updateDoc",e._key,t,n,r)}else{o=m6(s,"updateDoc",e._key,t)}const a=o.toMutation(e._key,sD.exists(true));return yN(i,[a])}function yR(e){const t=em(e.firestore,mv);const n=[new sY(e._key,sD.none())];return yN(t,n)}function yI(e,t){const n=em(e.firestore,mv);const r=ml(e);const i=gW(e.converter,t);const s=mY(e.firestore);const o=mX(s,"addDoc",r._key,i,e.converter!==null,{});const a=o.toMutation(r._key,sD.exists(false));return yN(n,[a]).then(()=>r)}function yO(e,...t){e=getModularInstance(e);let n={includeMetadataChanges:false,source:"default"};let r=0;if(typeof t[r]==="object"&&!g0(t[r])){n=t[r++]}const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(g0(t[r])){const e=t[r];t[r]=e.next?.bind(e);t[r+1]=e.error?.bind(e);t[r+2]=e.complete?.bind(e)}let s;let o;let a;if(e instanceof mo){o=em(e.firestore,mv);a=iD(e._key.path);s={next:n=>{if(t[r]){t[r](yx(o,e,n))}},error:t[r+1],complete:t[r+2]}}else{const n=em(e,ms);o=em(n.firestore,mv);a=n._query;const i=new yv(o);s={next:e=>{if(t[r]){t[r](new yf(o,i,n,e))}},error:t[r+1],complete:t[r+2]};gh(e._query)}const c=mE(o);return pk(c,a,i,s)}function yA(e,t,...n){const r=getModularInstance(e);const i=yD(t);if(i.error){throw new M(k.INVALID_ARGUMENT,i.error)}let s=0;let o=undefined;if(typeof n[s]==="object"&&!g0(n[s])){o=n[s++]}if(i.bundleSource==="QuerySnapshot"){let e=null;if(typeof n[s]==="object"&&g0(n[s])){const t=n[s++];e={next:t.next,error:t.error,complete:t.complete}}else{e={next:n[s++],error:n[s++],complete:n[s++]}}return yM(r,i,o,e,n[s])}else if(i.bundleSource==="DocumentSnapshot"){let e=null;if(typeof n[s]==="object"&&g0(n[s])){const t=n[s++];e={next:t.next,error:t.error,complete:t.complete}}else{e={next:n[s++],error:n[s++],complete:n[s++]}}return yk(r,i,o,e,n[s])}else{throw new M(k.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}}function yP(e,t){e=em(e,mv);const n=mE(e);const r=g0(t)?t:{next:t};return pV(n,r)}function yN(e,t){const n=mE(e);return pU(n,t)}function yx(e,t,n){const r=n.docs.get(t._key);const i=new yv(e);return new yu(e,i,t._key,r,new yc(n.hasPendingWrites,n.fromCache),t.converter)}function yD(e){const t={bundle:"",bundleName:"",bundleSource:""};const n=["bundle","bundleName","bundleSource"];for(const r of n){if(!(r in e)){t.error=`snapshotJson missing required field: ${r}`;break}const n=e[r];if(typeof n!=="string"){t.error=`snapshotJson field '${r}' must be a string.`;break}if(n.length===0){t.error=`snapshotJson field '${r}' cannot be an empty string.`;break}if(r==="bundle"){t.bundle=n}else if(r==="bundleName"){t.bundleName=n}else if(r==="bundleSource"){t.bundleSource=n}}return t}function yk(e,t,n,r,i){let s=false;let o;const a=mx(e,t.bundle);a.then(()=>{if(!s){const s=new mo(e,i?i:null,ea.fromPath(t.bundleName));o=yO(s,n?n:{},r)}}).catch(e=>{if(r.error){r.error(e)}return()=>{}});return()=>{if(s){return}s=true;if(o){o()}}}function yM(e,t,n,r,i){let s=false;let o;const a=mx(e,t.bundle);a.then(()=>mD(e,t.bundleName)).then(e=>{if(e&&!s){const t=e;if(i){t.withConverter(i)}o=yO(e,n?n:{},r)}}).catch(e=>{if(r.error){r.error(e)}return()=>{}});return()=>{if(s){return}s=true;if(o){o()}}}function yL(e){const t={count:gX()};return yj(e,t)}function yj(e,t){const n=em(e.firestore,mv);const r=mE(n);const i=nb(t,(e,t)=>{return new mM(t,e.aggregateType,e._internalFieldPath)});return pB(r,e._query,i).then(t=>yF(n,e,t))}function yF(e,t,n){const r=new yv(e);const i=new mj(t,r,n);return i}class yB{constructor(e){this.kind="memory";this._onlineComponentProvider=pn.provider;if(e?.garbageCollector){this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider}else{this._offlineComponentProvider={build:()=>new h9(undefined)}}}toJSON(){return{kind:this.kind}}}class yU{constructor(e){this.kind="persistent";let t;if(e?.tabManager){e.tabManager._initialize(e);t=e.tabManager}else{t=yQ(undefined);t._initialize(e)}this._onlineComponentProvider=t._onlineComponentProvider;this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class yV{constructor(){this.kind="memoryEager";this._offlineComponentProvider=h7.provider}toJSON(){return{kind:this.kind}}}class yz{constructor(e){this.kind="memoryLru";this._offlineComponentProvider={build:()=>new h9(e)}}toJSON(){return{kind:this.kind}}}function yq(){return new yV}function yG(e){return new yz(e?.cacheSizeBytes)}function y$(e){return new yB(e)}function yH(e){return new yU(e)}class yW{constructor(e){this.forceOwnership=e;this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=pn.provider;this._offlineComponentProvider={build:t=>new pe(t,e?.cacheSizeBytes,this.forceOwnership)}}}class yK{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=pn.provider;this._offlineComponentProvider={build:t=>new pt(t,e?.cacheSizeBytes)}}}function yQ(e){return new yW(e?.forceOwnership)}function yY(){return new yK}const yX={maxAttempts:5};function yJ(e){if(e.maxAttempts<1){throw new M(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}}class yZ{constructor(e,t){this._firestore=e;this._commitHandler=t;this._mutations=[];this._committed=false;this._dataReader=mY(e)}set(e,t,n){this._verifyNotCommitted();const r=y0(e,this._firestore);const i=gW(r.converter,t,n);const s=mX(this._dataReader,"WriteBatch.set",r._key,i,r.converter!==null,n);this._mutations.push(s.toMutation(r._key,sD.none()));return this}update(e,t,n,...r){this._verifyNotCommitted();const i=y0(e,this._firestore);t=getModularInstance(t);let s;if(typeof t==="string"||t instanceof mB){s=m4(this._dataReader,"WriteBatch.update",i._key,t,n,r)}else{s=m6(this._dataReader,"WriteBatch.update",i._key,t)}this._mutations.push(s.toMutation(i._key,sD.exists(true)));return this}delete(e){this._verifyNotCommitted();const t=y0(e,this._firestore);this._mutations=this._mutations.concat(new sY(t._key,sD.none()));return this}commit(){this._verifyNotCommitted();this._committed=true;if(this._mutations.length>0){return this._commitHandler(this._mutations)}return Promise.resolve()}_verifyNotCommitted(){if(this._committed){throw new M(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() "+"has been called.")}}}function y0(e,t){e=(0,a.Ku)(e);if(e.firestore!==t){throw new M(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.")}else{return e}}class y1{constructor(e,t){this._firestore=e;this._transaction=t;this._dataReader=mY(e)}get(e){const t=y0(e,this._firestore);const n=new gK(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||e.length!==1){return A(24041)}const r=e[0];if(r.isFoundDocument()){return new gl(this._firestore,n,r.key,r,t.converter)}else if(r.isNoDocument()){return new gl(this._firestore,n,t._key,null,t.converter)}else{throw A(18433,{doc:r})}})}set(e,t,n){const r=y0(e,this._firestore);const i=gW(r.converter,t,n);const s=mX(this._dataReader,"Transaction.set",r._key,i,r.converter!==null,n);this._transaction.set(r._key,s);return this}update(e,t,n,...r){const i=y0(e,this._firestore);t=(0,a.Ku)(t);let s;if(typeof t==="string"||t instanceof mB){s=m4(this._dataReader,"Transaction.update",i._key,t,n,r)}else{s=m6(this._dataReader,"Transaction.update",i._key,t)}this._transaction.update(i._key,s);return this}delete(e){const t=y0(e,this._firestore);this._transaction.delete(t._key);return this}}class y2 extends y1{constructor(e,t){super(e,t);this._firestore=e}get(e){const t=y0(e,this._firestore);const n=new yv(this._firestore);return super.get(e).then(e=>new yu(this._firestore,n,t._key,e._document,new yc(false,false),t.converter))}}function y3(e,t,n){e=em(e,mv);const r={...yX,...n};yJ(r);const i=mE(e);return pz(i,n=>t(new y2(e,n)),r)}function y6(){return new mJ("deleteField")}function y4(){return new m0("serverTimestamp")}function y8(...e){return new m1("arrayUnion",e)}function y5(...e){return new m2("arrayRemove",e)}function y7(e){return new m3("increment",e)}function y9(e){return new mq(e)}function ve(e){e=em(e,mv);mE(e);return new yZ(e,t=>yN(e,t))}function vt(e,t){e=em(e,mv);const n=mE(e);if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory"){I("Cannot enable indexes when persistence is disabled");return Promise.resolve()}const r=vn(t);return pX(n,r)}function vn(e){const t=typeof e==="string"?vr(e):e;const n=[];if(Array.isArray(t.indexes)){for(const e of t.indexes){const t=vi(e,"collectionGroup");const r=[];if(Array.isArray(e.fields)){for(const t of e.fields){const e=vi(t,"fieldPath");const n=ga("setIndexConfiguration",e);if(t.arrayConfig==="CONTAINS"){r.push(new eN(n,2))}else if(t.order==="ASCENDING"){r.push(new eN(n,0))}else if(t.order==="DESCENDING"){r.push(new eN(n,1))}}}n.push(new eC(eC.UNKNOWN_ID,t,r,eD.empty()))}}return n}function vr(e){try{return JSON.parse(e)}catch(e){throw new M(k.INVALID_ARGUMENT,"Failed to parse JSON: "+e?.message)}}function vi(e,t){if(typeof e[t]!=="string"){throw new M(k.INVALID_ARGUMENT,"Missing string value for: "+t)}return e[t]}class vs{constructor(e){this._firestore=e;this.type="PersistentCacheIndexManager"}}function vo(e){e=em(e,mv);const t=vd.get(e);if(t){return t}const n=mE(e);if(n._uninitializedComponentsProvider?._offline.kind!=="persistent"){return null}const r=new vs(e);vd.set(e,r);return r}function va(e){vl(e,true)}function vc(e){vl(e,false)}function vu(e){const t=mE(e._firestore);const n=pZ(t);n.then(e=>C("deleting all persistent cache indexes succeeded")).catch(e=>I("deleting all persistent cache indexes failed",e))}function vl(e,t){const n=mE(e._firestore);const r=pJ(n,t);r.then(e=>C(`setting persistent cache index auto creation `+`isEnabled=${t} succeeded`)).catch(e=>I(`setting persistent cache index auto creation `+`isEnabled=${t} failed`,e))}const vd=new WeakMap;function vf(e){const t=em(e.firestore,mv);const n=mE(t);const r=n._onlineComponents?.datastore.serializer;if(r===undefined){return null}return o7(r,iV(e._query)).queryTarget}function vh(e,t){const n=nb(t,(e,t)=>{return new mM(t,e.aggregateType,e._internalFieldPath)});const r=em(e.firestore,mv);const i=mE(r);const s=i._onlineComponents?.datastore.serializer;if(s===undefined){return null}return o9(s,iz(e._query),n,true).request}class vp{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return vm.instance.onExistenceFilterMismatch(e)}}class vm{constructor(){this.existenceFilterMismatchCallbacksById=new Map}static get instance(){if(!vg){vg=new vm;oe(vg)}return vg}notifyOnExistenceFilterMismatch(e){this.existenceFilterMismatchCallbacksById.forEach(t=>t(e))}onExistenceFilterMismatch(e){const t=Symbol();const n=this.existenceFilterMismatchCallbacksById;n.set(t,e);return()=>n.delete(t)}}let vg=null;mk("node");},75539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"InvariantError",{enumerable:true,get:function(){return n}});class n extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t);this.name="InvariantError"}}},75677:(e,t,n)=>{"use strict";e.exports=s;var r=n(26996);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(8707);function s(e){r.call(this,e)}s._configure=function(){if(i.Buffer)s.prototype._slice=i.Buffer.prototype.slice};s.prototype.string=function e(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};s._configure()},76268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{INTERNALS:function(){return c},NextRequest:function(){return u}});const i=n(66608);const s=n(47912);const o=n(43611);const a=n(23158);const c=Symbol("internal request");class u extends Request{constructor(e,t={}){const n=typeof e!=="string"&&"url"in e?e.url:String(e);(0,s.validateURL)(n);if(true){if(t.body&&t.duplex!=="half"){t.duplex="half"}}if(e instanceof Request)super(e,t);else super(n,t);const r=new i.NextURL(n,{headers:(0,s.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[c]={cookies:new a.RequestCookies(this.headers),nextUrl:r,url:false?0:r.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[c].cookies}get nextUrl(){return this[c].nextUrl}get page(){throw new o.RemovedPageError}get ua(){throw new o.RemovedUAError}get url(){return this[c].url}}},76299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isPostpone",{enumerable:true,get:function(){return r}});const n=Symbol.for("react.postpone");function r(e){return typeof e==="object"&&e!==null&&e.$$typeof===n}},76926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:true,get:function(){return l}});const r=s(n(61120));function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=i(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set)){Object.defineProperty(r,o,a)}else{r[o]=e[o]}}}r.default=e;if(n){n.set(e,r)}return r}const o={current:null};const a=typeof r.cache==="function"?r.cache:e=>e;const c=false?0:console.warn;const u=a(e=>{try{c(o.current)}finally{o.current=null}});function l(e){return function t(...n){const r=e(...n);if(false){var i}else{c(r)}}}},77341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getOrigin:function(){return s},resolveArray:function(){return r},resolveAsArrayOrUndefined:function(){return i}});function r(e){if(Array.isArray(e)){return e}return[e]}function i(e){if(typeof e==="undefined"||e===null){return undefined}return r(e)}function s(e){let t=undefined;if(typeof e==="string"){try{e=new URL(e);t=e.origin}catch{}}return t}},77359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{isFullStringUrl:function(){return o},parseUrl:function(){return a},stripNextRscUnionQuery:function(){return c}});const i=n(9977);const s="http://n";function o(e){return/https?:\/\//.test(e)}function a(e){let t=undefined;try{t=new URL(e,s)}catch{}return t}function c(e){const t=new URL(e,s);t.searchParams.delete(i.NEXT_RSC_UNION_QUERY);return t.pathname+t.search}},77855:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{chainStreams:function(){return f},continueDynamicHTMLResume:function(){return P},continueDynamicPrerender:function(){return O},continueFizzStream:function(){return I},continueStaticPrerender:function(){return A},createBufferedTransformStream:function(){return y},createDocumentClosingStream:function(){return N},createRootLayoutValidatorStream:function(){return C},renderToInitialFizzStream:function(){return v},streamFromBuffer:function(){return p},streamFromString:function(){return h},streamToBuffer:function(){return m},streamToString:function(){return g}});const i=n(81289);const s=n(14823);const o=n(90366);const a=n(44523);const c=n(47866);const u=n(68684);function l(){}const d=new TextEncoder;function f(...e){if(e.length===0){throw Object.defineProperty(new Error("Invariant: chainStreams requires at least one stream"),"__NEXT_ERROR_CODE",{value:"E437",enumerable:false,configurable:true})}if(e.length===1){return e[0]}const{readable:t,writable:n}=new TransformStream;let r=e[0].pipeTo(n,{preventClose:true});let i=1;for(;i<e.length-1;i++){const t=e[i];r=r.then(()=>t.pipeTo(n,{preventClose:true}))}const s=e[i];r=r.then(()=>s.pipeTo(n));r.catch(l);return t}function h(e){return new ReadableStream({start(t){t.enqueue(d.encode(e));t.close()}})}function p(e){return new ReadableStream({start(t){t.enqueue(e);t.close()}})}async function m(e){const t=e.getReader();const n=[];while(true){const{done:e,value:r}=await t.read();if(e){break}n.push(r)}return Buffer.concat(n)}async function g(e,t){const n=new TextDecoder("utf-8",{fatal:true});let r="";for await(const i of e){if(t==null?void 0:t.aborted){return r}r+=n.decode(i,{stream:true})}r+=n.decode();return r}function y(){let e=[];let t=0;let n;const r=r=>{if(n)return;const i=new o.DetachedPromise;n=i;(0,a.scheduleImmediate)(()=>{try{const n=new Uint8Array(t);let i=0;for(let t=0;t<e.length;t++){const r=e[t];n.set(r,i);i+=r.byteLength}e.length=0;t=0;r.enqueue(n)}catch{}finally{n=undefined;i.resolve()}})};return new TransformStream({transform(n,i){e.push(n);t+=n.byteLength;r(i)},flush(){if(!n)return;return n.promise}})}function v({ReactDOMServer:e,element:t,streamOptions:n}){return(0,i.getTracer)().trace(s.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,n))}function b(e){let t=false;let n=false;return new TransformStream({async transform(r,i){n=true;const s=await e();if(t){if(s){const e=d.encode(s);i.enqueue(e)}i.enqueue(r)}else{const e=(0,u.indexOfUint8Array)(r,c.ENCODED_TAGS.CLOSED.HEAD);if(e!==-1){if(s){const t=d.encode(s);const n=new Uint8Array(r.length+t.length);n.set(r.slice(0,e));n.set(t,e);n.set(r.slice(e),e+t.length);i.enqueue(n)}else{i.enqueue(r)}t=true}else{if(s){i.enqueue(d.encode(s))}i.enqueue(r);t=true}}},async flush(t){if(n){const n=await e();if(n){t.enqueue(d.encode(n))}}}})}function _(e){let t=false;let n;const r=t=>{const r=new o.DetachedPromise;n=r;(0,a.scheduleImmediate)(()=>{try{t.enqueue(d.encode(e))}catch{}finally{n=undefined;r.resolve()}})};return new TransformStream({transform(e,n){n.enqueue(e);if(t)return;t=true;r(n)},flush(r){if(n)return n.promise;if(t)return;r.enqueue(d.encode(e))}})}function E(e){let t=null;let n=false;async function r(r){if(t){return}const i=e.getReader();await (0,a.atLeastOneTask)();try{while(true){const{done:e,value:t}=await i.read();if(e){n=true;return}r.enqueue(t)}}catch(e){r.error(e)}}return new TransformStream({transform(e,n){n.enqueue(e);if(!t){t=r(n)}},flush(e){if(n){return}return t||r(e)}})}const w="</body></html>";function S(){let e=false;return new TransformStream({transform(t,n){if(e){return n.enqueue(t)}const r=(0,u.indexOfUint8Array)(t,c.ENCODED_TAGS.CLOSED.BODY_AND_HTML);if(r>-1){e=true;if(t.length===c.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length){return}const i=t.slice(0,r);n.enqueue(i);if(t.length>c.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length+r){const e=t.slice(r+c.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length);n.enqueue(e)}}else{n.enqueue(t)}},flush(e){e.enqueue(c.ENCODED_TAGS.CLOSED.BODY_AND_HTML)}})}function T(){return new TransformStream({transform(e,t){if((0,u.isEquivalentUint8Arrays)(e,c.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,u.isEquivalentUint8Arrays)(e,c.ENCODED_TAGS.CLOSED.BODY)||(0,u.isEquivalentUint8Arrays)(e,c.ENCODED_TAGS.CLOSED.HTML)){return}e=(0,u.removeFromUint8Array)(e,c.ENCODED_TAGS.CLOSED.BODY);e=(0,u.removeFromUint8Array)(e,c.ENCODED_TAGS.CLOSED.HTML);t.enqueue(e)}})}function C(){let e=false;let t=false;return new TransformStream({async transform(n,r){if(!e&&(0,u.indexOfUint8Array)(n,c.ENCODED_TAGS.OPENING.HTML)>-1){e=true}if(!t&&(0,u.indexOfUint8Array)(n,c.ENCODED_TAGS.OPENING.BODY)>-1){t=true}r.enqueue(n)},flush(n){const r=[];if(!e)r.push("html");if(!t)r.push("body");if(!r.length)return;n.enqueue(d.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(r)}</script>`))}})}function R(e,t){let n=e;for(const e of t){if(!e)continue;n=n.pipeThrough(e)}return n}async function I(e,{suffix:t,inlinedDataStream:n,isStaticGeneration:r,getServerInsertedHTML:i,getServerInsertedMetadata:s,validateRootLayout:o}){const a=t?t.split(w,1)[0]:null;if(r&&"allReady"in e){await e.allReady}return R(e,[y(),b(s),a!=null&&a.length>0?_(a):null,n?E(n):null,o?C():null,S(),b(i)])}async function O(e,{getServerInsertedHTML:t,getServerInsertedMetadata:n}){return e.pipeThrough(y()).pipeThrough(T()).pipeThrough(b(t)).pipeThrough(b(n))}async function A(e,{inlinedDataStream:t,getServerInsertedHTML:n,getServerInsertedMetadata:r}){return e.pipeThrough(y()).pipeThrough(b(n)).pipeThrough(b(r)).pipeThrough(E(t)).pipeThrough(S())}async function P(e,{inlinedDataStream:t,getServerInsertedHTML:n,getServerInsertedMetadata:r}){return e.pipeThrough(y()).pipeThrough(b(n)).pipeThrough(b(r)).pipeThrough(E(t)).pipeThrough(S())}function N(){return h(w)}},77936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getProxiedConnection=t.mapProxyName=void 0;const r=n(63038);const i=n(93122);const s=n(98605);const o=n(81630);const a=n(34631);const c=n(63038);const u=n(98387);const l=n(57213);const d=n(79551);const f=n(42319);const h="proxy";function p(e){c.trace(i.LogVerbosity.DEBUG,h,e)}function m(){let e="";let t="";if(process.env.grpc_proxy){t="grpc_proxy";e=process.env.grpc_proxy}else if(process.env.https_proxy){t="https_proxy";e=process.env.https_proxy}else if(process.env.http_proxy){t="http_proxy";e=process.env.http_proxy}else{return{}}let n;try{n=new d.URL(e)}catch(e){(0,r.log)(i.LogVerbosity.ERROR,`cannot parse value of "${t}" env var`);return{}}if(n.protocol!=="http:"){(0,r.log)(i.LogVerbosity.ERROR,`"${n.protocol}" scheme not supported in proxy URI`);return{}}let s=null;if(n.username){if(n.password){(0,r.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI");s=`${n.username}:${n.password}`}else{s=n.username}}const o=n.hostname;let a=n.port;if(a===""){a="80"}const c={address:`${o}:${a}`};if(s){c.creds=s}p("Proxy server "+c.address+" set by environment variable "+t);return c}function g(){let e=process.env.no_grpc_proxy;let t="no_grpc_proxy";if(!e){e=process.env.no_proxy;t="no_proxy"}if(e){p("No proxy server list set by environment variable "+t);return e.split(",")}else{return[]}}function y(e,t){var n;const r={target:e,extraOptions:{}};if(((n=t["grpc.enable_http_proxy"])!==null&&n!==void 0?n:1)===0){return r}if(e.scheme==="unix"){return r}const i=m();if(!i.address){return r}const s=(0,l.splitHostPort)(e.path);if(!s){return r}const o=s.host;for(const t of g()){if(t===o){p("Not using proxy for target in no_proxy list: "+(0,l.uriToString)(e));return r}}const a={"grpc.http_connect_target":(0,l.uriToString)(e)};if(i.creds){a["grpc.http_connect_creds"]=i.creds}return{target:{scheme:"dns",path:i.address},extraOptions:a}}t.mapProxyName=y;function v(e,t,n){var c;if(!("grpc.http_connect_target"in t)){return Promise.resolve({})}const d=t["grpc.http_connect_target"];const h=(0,l.parseUri)(d);if(h===null){return Promise.resolve({})}const m=(0,l.splitHostPort)(h.path);if(m===null){return Promise.resolve({})}const g=`${m.host}:${(c=m.port)!==null&&c!==void 0?c:f.DEFAULT_PORT}`;const y={method:"CONNECT",path:g};const v={Host:g};if((0,u.isTcpSubchannelAddress)(e)){y.host=e.host;y.port=e.port}else{y.socketPath=e.path}if("grpc.http_connect_creds"in t){v["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")}y.headers=v;const b=(0,u.subchannelAddressToString)(e);p("Using proxy "+b+" to connect to "+y.path);return new Promise((e,t)=>{const c=o.request(y);c.once("connect",(o,u,d)=>{var f;c.removeAllListeners();u.removeAllListeners();if(o.statusCode===200){p("Successfully connected to "+y.path+" through proxy "+b);if("secureContext"in n){const r=(0,s.getDefaultAuthority)(h);const i=(0,l.splitHostPort)(r);const o=(f=i===null||i===void 0?void 0:i.host)!==null&&f!==void 0?f:r;const c=a.connect(Object.assign({host:o,servername:o,socket:u},n),()=>{p("Successfully established a TLS connection to "+y.path+" through proxy "+b);e({socket:c,realTarget:h})});c.on("error",e=>{p("Failed to establish a TLS connection to "+y.path+" through proxy "+b+" with error "+e.message);t()})}else{p("Successfully established a plaintext connection to "+y.path+" through proxy "+b);e({socket:u,realTarget:h})}}else{(0,r.log)(i.LogVerbosity.ERROR,"Failed to connect to "+y.path+" through proxy "+b+" with status "+o.statusCode);t()}});c.once("error",e=>{c.removeAllListeners();(0,r.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+b+" with error "+e.message);t()});c.end()})}t.getProxiedConnection=v},77968:(e,t,n)=>{"use strict";e.exports=d;var r=n(64824);((d.prototype=Object.create(r.prototype)).constructor=d).className="Namespace";var i=n(73267),s=n(93107),o=n(12630);var a,c,u;d.fromJSON=function e(e,t){return new d(e,t.options).addJSON(t.nested)};function l(e,t){if(!(e&&e.length))return undefined;var n={};for(var r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}d.arrayToJSON=l;d.isReservedId=function e(e,t){if(e){for(var n=0;n<e.length;++n)if(typeof e[n]!=="string"&&e[n][0]<=t&&e[n][1]>t)return true}return false};d.isReservedName=function e(e,t){if(e){for(var n=0;n<e.length;++n)if(e[n]===t)return true}return false};function d(e,t){r.call(this,e,t);this.nested=undefined;this._nestedArray=null;this._lookupCache={};this._needsRecursiveFeatureResolution=true;this._needsRecursiveResolve=true}function f(e){e._nestedArray=null;e._lookupCache={};var t=e;while(t=t.parent){t._lookupCache={}}return e}Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=s.toArray(this.nested))}});d.prototype.toJSON=function e(e){return s.toObject(["options",this.options,"nested",l(this.nestedArray,e)])};d.prototype.addJSON=function e(e){var t=this;if(e){for(var n=Object.keys(e),r=0,s;r<n.length;++r){s=e[n[r]];t.add((s.fields!==undefined?a.fromJSON:s.values!==undefined?u.fromJSON:s.methods!==undefined?c.fromJSON:s.id!==undefined?i.fromJSON:d.fromJSON)(n[r],s))}}return this};d.prototype.get=function e(e){return this.nested&&this.nested[e]||null};d.prototype.getEnum=function e(e){if(this.nested&&this.nested[e]instanceof u)return this.nested[e].values;throw Error("no such enum: "+e)};d.prototype.add=function e(e){if(!(e instanceof i&&e.extend!==undefined||e instanceof a||e instanceof o||e instanceof u||e instanceof c||e instanceof d))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t){if(t instanceof d&&e instanceof d&&!(t instanceof a||t instanceof c)){var n=t.nestedArray;for(var r=0;r<n.length;++r)e.add(n[r]);this.remove(t);if(!this.nested)this.nested={};e.setOptions(t.options,true)}else throw Error("duplicate name '"+e.name+"' in "+this)}}this.nested[e.name]=e;if(!(this instanceof a||this instanceof c||this instanceof u||this instanceof i)){if(!e._edition){e._edition=e._defaultEdition}}this._needsRecursiveFeatureResolution=true;this._needsRecursiveResolve=true;var s=this;while(s=s.parent){s._needsRecursiveFeatureResolution=true;s._needsRecursiveResolve=true}e.onAdd(this);return f(this)};d.prototype.remove=function e(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);delete this.nested[e.name];if(!Object.keys(this.nested).length)this.nested=undefined;e.onRemove(this);return f(this)};d.prototype.define=function e(e,t){if(s.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");var n=this;while(e.length>0){var r=e.shift();if(n.nested&&n.nested[r]){n=n.nested[r];if(!(n instanceof d))throw Error("path conflicts with non-namespace objects")}else n.add(n=new d(r))}if(t)n.addJSON(t);return n};d.prototype.resolveAll=function e(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;this.resolve();while(t<e.length)if(e[t]instanceof d)e[t++].resolveAll();else e[t++].resolve();this._needsRecursiveResolve=false;return this};d.prototype._resolveFeaturesRecursive=function e(e){if(!this._needsRecursiveFeatureResolution)return this;this._needsRecursiveFeatureResolution=false;e=this._edition||e;r.prototype._resolveFeaturesRecursive.call(this,e);this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)});return this};d.prototype.lookup=function e(e,t,n){if(typeof t==="boolean"){n=t;t=undefined}else if(t&&!Array.isArray(t))t=[t];if(s.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;var r=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),t);var i=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+r];if(i&&(!t||t.indexOf(i.constructor)>-1)){return i}i=this._lookupImpl(e,r);if(i&&(!t||t.indexOf(i.constructor)>-1)){return i}if(n)return null;var o=this;while(o.parent){i=o.parent._lookupImpl(e,r);if(i&&(!t||t.indexOf(i.constructor)>-1)){return i}o=o.parent}return null};d.prototype._lookupImpl=function e(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t)){return this._lookupCache[t]}var n=this.get(e[0]);var r=null;if(n){if(e.length===1){r=n}else if(n instanceof d){e=e.slice(1);r=n._lookupImpl(e,e.join("."))}}else{for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof d&&(n=this._nestedArray[i]._lookupImpl(e,t)))r=n}this._lookupCache[t]=r;return r};d.prototype.lookupType=function e(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such type: "+e);return t};d.prototype.lookupEnum=function e(e){var t=this.lookup(e,[u]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};d.prototype.lookupTypeOrEnum=function e(e){var t=this.lookup(e,[a,u]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};d.prototype.lookupService=function e(e){var t=this.lookup(e,[c]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};d._configure=function(e,t,n){a=e;c=t;u=n}},78671:(e,t,n)=>{"use strict";let r;if(false){}else{r=n(33873)}e.exports=r},80023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{StaticGenBailoutError:function(){return i},isStaticGenBailoutError:function(){return s}});const r="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=r}}function s(e){if(typeof e!=="object"||e===null||!("code"in e)){return false}return e.code===r}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},80178:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return s.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return o.notFound},permanentRedirect:function(){return i.permanentRedirect},redirect:function(){return i.redirect},unauthorized:function(){return c.unauthorized},unstable_rethrow:function(){return u.unstable_rethrow}});const i=n(36875);const s=n(97860);const o=n(55211);const a=n(80414);const c=n(80929);const u=n(68613);class l extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new l}delete(){throw new l}set(){throw new l}sort(){throw new l}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},80407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{Meta:function(){return c},MetaFilter:function(){return u},MultiMeta:function(){return p}});const i=n(37413);const s=a(n(61120));const o=n(89735);function a(e){return e&&e.__esModule?e:{default:e}}function c({name:e,property:t,content:n,media:r}){if(typeof n!=="undefined"&&n!==null&&n!==""){return(0,i.jsx)("meta",{...e?{name:e}:{property:t},...r?{media:r}:undefined,content:typeof n==="string"?n:n.toString()})}return null}function u(e){const t=[];for(const n of e){if(Array.isArray(n)){t.push(...n.filter(o.nonNullable))}else if((0,o.nonNullable)(n)){t.push(n)}}return t}function l(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})}const d=new Set(["og:image","twitter:image","og:video","og:audio"]);function f(e,t){if(d.has(e)&&t==="url"){return e}if(e.startsWith("og:")||e.startsWith("twitter:")){t=l(t)}return e+":"+t}function h({content:e,namePrefix:t,propertyPrefix:n}){if(!e)return null;return u(Object.entries(e).map(([e,r])=>{return typeof r==="undefined"?null:c({...n&&{property:f(n,e)},...t&&{name:f(t,e)},content:typeof r==="string"?r:r==null?void 0:r.toString()})}))}function p({propertyPrefix:e,namePrefix:t,contents:n}){if(typeof n==="undefined"||n===null){return null}return u(n.map(n=>{if(typeof n==="string"||typeof n==="number"||n instanceof URL){return c({...e?{property:e}:{name:t},content:n})}else{return h({namePrefix:t,propertyPrefix:e,content:n})}}))}},80414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"forbidden",{enumerable:true,get:function(){return s}});const r=n(86358);const i=""+r.HTTP_ERROR_FALLBACK_ERROR_CODE+";403";function s(){if(true){throw Object.defineProperty(new Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:false,configurable:true})}const e=Object.defineProperty(new Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});e.digest=i;throw e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},80929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"unauthorized",{enumerable:true,get:function(){return s}});const r=n(86358);const i=""+r.HTTP_ERROR_FALLBACK_ERROR_CODE+";401";function s(){if(true){throw Object.defineProperty(new Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:false,configurable:true})}const e=Object.defineProperty(new Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});e.digest=i;throw e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},81208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return s}});const r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function s(e){if(typeof e!=="object"||e===null||!("digest"in e)){return false}return e.digest===r}},81289:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{BubbledError:function(){return h},SpanKind:function(){return d},SpanStatusCode:function(){return l},getTracer:function(){return w},isBubbledError:function(){return p}});const i=n(14823);const s=n(59098);let o;if(false){}else{try{o=n(92665)}catch(e){o=n(92665)}}const{context:a,propagation:c,trace:u,SpanStatusCode:l,SpanKind:d,ROOT_CONTEXT:f}=o;class h extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}function p(e){if(typeof e!=="object"||e===null)return false;return e instanceof h}const m=(e,t)=>{if(p(t)&&t.bubble){e.setAttribute("next.bubble",true)}else{if(t){e.recordException(t)}e.setStatus({code:l.ERROR,message:t==null?void 0:t.message})}e.end()};const g=new Map;const y=o.createContextKey("next.rootSpanId");let v=0;const b=()=>v++;const _={set(e,t,n){e.push({key:t,value:n})}};class E{getTracerInstance(){return u.getTracer("next.js","0.0.1")}getContext(){return a}getTracePropagationData(){const e=a.active();const t=[];c.inject(e,t,_);return t}getActiveScopeSpan(){return u.getSpan(a==null?void 0:a.active())}withPropagatedContext(e,t,n){const r=a.active();if(u.getSpanContext(r)){return t()}const i=c.extract(r,e,n);return a.with(i,t)}trace(...e){var t;const[n,r,o]=e;const{fn:c,options:l}=typeof r==="function"?{fn:r,options:{}}:{fn:o,options:{...r}};const d=l.spanName??n;if(!i.NextVanillaSpanAllowlist.includes(n)&&process.env.NEXT_OTEL_VERBOSE!=="1"||l.hideSpan){return c()}let h=this.getSpanContext((l==null?void 0:l.parentSpan)??this.getActiveScopeSpan());let p=false;if(!h){h=(a==null?void 0:a.active())??f;p=true}else if((t=u.getSpanContext(h))==null?void 0:t.isRemote){p=true}const v=b();l.attributes={"next.span_name":d,"next.span_type":n,...l.attributes};return a.with(h.setValue(y,v),()=>this.getTracerInstance().startActiveSpan(d,l,e=>{const t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():undefined;const r=()=>{g.delete(v);if(t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&i.LogSpanAllowList.includes(n||"")){performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(n.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})}};if(p){g.set(v,new Map(Object.entries(l.attributes??{})))}try{if(c.length>1){return c(e,t=>m(e,t))}const t=c(e);if((0,s.isThenable)(t)){return t.then(t=>{e.end();return t}).catch(t=>{m(e,t);throw t}).finally(r)}else{e.end();r()}return t}catch(t){m(e,t);r();throw t}}))}wrap(...e){const t=this;const[n,r,s]=e.length===3?e:[e[0],{},e[1]];if(!i.NextVanillaSpanAllowlist.includes(n)&&process.env.NEXT_OTEL_VERBOSE!=="1"){return s}return function(){let e=r;if(typeof e==="function"&&typeof s==="function"){e=e.apply(this,arguments)}const i=arguments.length-1;const o=arguments[i];if(typeof o==="function"){const r=t.getContext().bind(a.active(),o);return t.trace(n,e,(e,t)=>{arguments[i]=function(e){t==null?void 0:t(e);return r.apply(this,arguments)};return s.apply(this,arguments)})}else{return t.trace(n,e,()=>s.apply(this,arguments))}}}startSpan(...e){const[t,n]=e;const r=this.getSpanContext((n==null?void 0:n.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,n,r)}getSpanContext(e){const t=e?u.setSpan(a.active(),e):undefined;return t}getRootSpanAttributes(){const e=a.active().getValue(y);return g.get(e)}setRootSpanAttribute(e,t){const n=a.active().getValue(y);const r=g.get(n);if(r){r.set(e,t)}}}const w=(()=>{const e=new E;return()=>e})()},81856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{fromResponseCacheEntry:function(){return c},routeKindToIncrementalCacheKind:function(){return l},toResponseCacheEntry:function(){return u}});const i=n(40980);const s=a(n(67778));const o=n(48088);function a(e){return e&&e.__esModule?e:{default:e}}async function c(e){var t,n;return{...e,value:((t=e.value)==null?void 0:t.kind)===i.CachedRouteKind.PAGES?{kind:i.CachedRouteKind.PAGES,html:await e.value.html.toUnchunkedString(true),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:((n=e.value)==null?void 0:n.kind)===i.CachedRouteKind.APP_PAGE?{kind:i.CachedRouteKind.APP_PAGE,html:await e.value.html.toUnchunkedString(true),postponed:e.value.postponed,rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,segmentData:e.value.segmentData}:e.value}}async function u(e){var t,n;if(!e)return null;return{isMiss:e.isMiss,isStale:e.isStale,cacheControl:e.cacheControl,isFallback:e.isFallback,value:((t=e.value)==null?void 0:t.kind)===i.CachedRouteKind.PAGES?{kind:i.CachedRouteKind.PAGES,html:s.default.fromStatic(e.value.html),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:((n=e.value)==null?void 0:n.kind)===i.CachedRouteKind.APP_PAGE?{kind:i.CachedRouteKind.APP_PAGE,html:s.default.fromStatic(e.value.html),rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,postponed:e.value.postponed,segmentData:e.value.segmentData}:e.value}}function l(e){switch(e){case o.RouteKind.PAGES:return i.IncrementalCacheKind.PAGES;case o.RouteKind.APP_PAGE:return i.IncrementalCacheKind.APP_PAGE;case o.RouteKind.IMAGE:return i.IncrementalCacheKind.IMAGE;case o.RouteKind.APP_ROUTE:return i.IncrementalCacheKind.APP_ROUTE;default:throw Object.defineProperty(new Error(`Unexpected route kind ${e}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:false,configurable:true})}}},82281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getErrorCode=t.getErrorMessage=void 0;function n(e){if(e instanceof Error){return e.message}else{return String(e)}}t.getErrorMessage=n;function r(e){if(typeof e==="object"&&e!==null&&"code"in e&&typeof e.code==="number"){return e.code}else{return null}}t.getErrorCode=r},82348:(e,t,n)=>{"use strict";n.d(t,{QP:()=>es});const r="-";const i=e=>{const t=c(e);const{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;const o=e=>{const n=e.split(r);if(n[0]===""&&n.length!==1){n.shift()}return s(n,t)||a(e)};const u=(e,t)=>{const r=n[e]||[];if(t&&i[e]){return[...r,...i[e]]}return r};return{getClassGroupId:o,getConflictingClassGroupIds:u}};const s=(e,t)=>{if(e.length===0){return t.classGroupId}const n=e[0];const i=t.nextPart.get(n);const o=i?s(e.slice(1),i):undefined;if(o){return o}if(t.validators.length===0){return undefined}const a=e.join(r);return t.validators.find(({validator:e})=>e(a))?.classGroupId};const o=/^\[(.+)\]$/;const a=e=>{if(o.test(e)){const t=o.exec(e)[1];const n=t?.substring(0,t.indexOf(":"));if(n){return"arbitrary.."+n}}};const c=e=>{const{theme:t,prefix:n}=e;const r={nextPart:new Map,validators:[]};const i=f(Object.entries(e.classGroups),n);i.forEach(([e,n])=>{u(n,r,e,t)});return r};const u=(e,t,n,r)=>{e.forEach(e=>{if(typeof e==="string"){const r=e===""?t:l(t,e);r.classGroupId=n;return}if(typeof e==="function"){if(d(e)){u(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,i])=>{u(i,l(t,e),n,r)})})};const l=(e,t)=>{let n=e;t.split(r).forEach(e=>{if(!n.nextPart.has(e)){n.nextPart.set(e,{nextPart:new Map,validators:[]})}n=n.nextPart.get(e)});return n};const d=e=>e.isThemeGetter;const f=(e,t)=>{if(!t){return e}return e.map(([e,n])=>{const r=n.map(e=>{if(typeof e==="string"){return t+e}if(typeof e==="object"){return Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n]))}return e});return[e,r]})};const h=e=>{if(e<1){return{get:()=>undefined,set:()=>{}}}let t=0;let n=new Map;let r=new Map;const i=(i,s)=>{n.set(i,s);t++;if(t>e){t=0;r=n;n=new Map}};return{get(e){let t=n.get(e);if(t!==undefined){return t}if((t=r.get(e))!==undefined){i(e,t);return t}},set(e,t){if(n.has(e)){n.set(e,t)}else{i(e,t)}}}};const p="!";const m=e=>{const{separator:t,experimentalParseClassName:n}=e;const r=t.length===1;const i=t[0];const s=t.length;const o=e=>{const n=[];let o=0;let a=0;let c;for(let u=0;u<e.length;u++){let l=e[u];if(o===0){if(l===i&&(r||e.slice(u,u+s)===t)){n.push(e.slice(a,u));a=u+s;continue}if(l==="/"){c=u;continue}}if(l==="["){o++}else if(l==="]"){o--}}const u=n.length===0?e:e.substring(a);const l=u.startsWith(p);const d=l?u.substring(1):u;const f=c&&c>a?c-a:undefined;return{modifiers:n,hasImportantModifier:l,baseClassName:d,maybePostfixModifierPosition:f}};if(n){return e=>n({className:e,parseClassName:o})}return o};const g=e=>{if(e.length<=1){return e}const t=[];let n=[];e.forEach(e=>{const r=e[0]==="[";if(r){t.push(...n.sort(),e);n=[]}else{n.push(e)}});t.push(...n.sort());return t};const y=e=>({cache:h(e.cacheSize),parseClassName:m(e),...i(e)});const v=/\s+/;const b=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t;const s=[];const o=e.trim().split(v);let a="";for(let e=o.length-1;e>=0;e-=1){const t=o[e];const{modifiers:c,hasImportantModifier:u,baseClassName:l,maybePostfixModifierPosition:d}=n(t);let f=Boolean(d);let h=r(f?l.substring(0,d):l);if(!h){if(!f){a=t+(a.length>0?" "+a:a);continue}h=r(l);if(!h){a=t+(a.length>0?" "+a:a);continue}f=false}const m=g(c).join(":");const y=u?m+p:m;const v=y+h;if(s.includes(v)){continue}s.push(v);const b=i(h,f);for(let e=0;e<b.length;++e){const t=b[e];s.push(y+t)}a=t+(a.length>0?" "+a:a)}return a};function _(){let e=0;let t;let n;let r="";while(e<arguments.length){if(t=arguments[e++]){if(n=E(t)){r&&(r+=" ");r+=n}}}return r}const E=e=>{if(typeof e==="string"){return e}let t;let n="";for(let r=0;r<e.length;r++){if(e[r]){if(t=E(e[r])){n&&(n+=" ");n+=t}}}return n};function w(e,...t){let n;let r;let i;let s=o;function o(o){const c=t.reduce((e,t)=>t(e),e());n=y(c);r=n.cache.get;i=n.cache.set;s=a;return a(o)}function a(e){const t=r(e);if(t){return t}const s=b(e,n);i(e,s);return s}return function e(){return s(_.apply(null,arguments))}}const S=e=>{const t=t=>t[e]||[];t.isThemeGetter=true;return t};const T=/^\[(?:([a-z-]+):)?(.+)\]$/i;const C=/^\d+\/\d+$/;const R=new Set(["px","full","screen"]);const I=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/;const O=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/;const A=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/;const P=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;const N=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;const x=e=>k(e)||R.has(e)||C.test(e);const D=e=>W(e,"length",K);const k=e=>Boolean(e)&&!Number.isNaN(Number(e));const M=e=>W(e,"number",k);const L=e=>Boolean(e)&&Number.isInteger(Number(e));const j=e=>e.endsWith("%")&&k(e.slice(0,-1));const F=e=>T.test(e);const B=e=>I.test(e);const U=new Set(["length","size","percentage"]);const V=e=>W(e,U,Q);const z=e=>W(e,"position",Q);const q=new Set(["image","url"]);const G=e=>W(e,q,X);const $=e=>W(e,"",Y);const H=()=>true;const W=(e,t,n)=>{const r=T.exec(e);if(r){if(r[1]){return typeof t==="string"?r[1]===t:t.has(r[1])}return n(r[2])}return false};const K=e=>O.test(e)&&!A.test(e);const Q=()=>false;const Y=e=>P.test(e);const X=e=>N.test(e);const J=Object.defineProperty({__proto__:null,isAny:H,isArbitraryImage:G,isArbitraryLength:D,isArbitraryNumber:M,isArbitraryPosition:z,isArbitraryShadow:$,isArbitrarySize:V,isArbitraryValue:F,isInteger:L,isLength:x,isNumber:k,isPercent:j,isTshirtSize:B},Symbol.toStringTag,{value:"Module"});const Z=()=>{const e=S("colors");const t=S("spacing");const n=S("blur");const r=S("brightness");const i=S("borderColor");const s=S("borderRadius");const o=S("borderSpacing");const a=S("borderWidth");const c=S("contrast");const u=S("grayscale");const l=S("hueRotate");const d=S("invert");const f=S("gap");const h=S("gradientColorStops");const p=S("gradientColorStopPositions");const m=S("inset");const g=S("margin");const y=S("opacity");const v=S("padding");const b=S("saturate");const _=S("scale");const E=S("sepia");const w=S("skew");const T=S("space");const C=S("translate");const R=()=>["auto","contain","none"];const I=()=>["auto","hidden","clip","visible","scroll"];const O=()=>["auto",F,t];const A=()=>[F,t];const P=()=>["",x,D];const N=()=>["auto",k,F];const U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"];const q=()=>["solid","dashed","dotted","double","none"];const W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];const K=()=>["start","end","center","between","around","evenly","stretch"];const Q=()=>["","0",F];const Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"];const X=()=>[k,F];return{cacheSize:500,separator:":",theme:{colors:[H],spacing:[x,D],blur:["none","",B,F],brightness:X(),borderColor:[e],borderRadius:["none","","full",B,F],borderSpacing:A(),borderWidth:P(),contrast:X(),grayscale:Q(),hueRotate:X(),invert:Q(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[j,D],inset:O(),margin:O(),opacity:X(),padding:A(),saturate:X(),scale:X(),sepia:Q(),skew:X(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",F]}],container:["container"],columns:[{columns:[B]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),F]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",L,F]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",F]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",L,F]}],"grid-cols":[{"grid-cols":[H]}],"col-start-end":[{col:["auto",{span:["full",L,F]},F]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[H]}],"row-start-end":[{row:["auto",{span:[L,F]},F]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",F]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",F]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",F,t]}],"min-w":[{"min-w":[F,t,"min","max","fit"]}],"max-w":[{"max-w":[F,t,"none","full","min","max","fit","prose",{screen:[B]},B]}],h:[{h:[F,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[F,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[F,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[F,t,"auto","min","max","fit"]}],"font-size":[{text:["base",B,D]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",M]}],"font-family":[{font:[H]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",F]}],"line-clamp":[{"line-clamp":["none",k,M]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",x,F]}],"list-image":[{"list-image":["none",F]}],"list-style-type":[{list:["none","disc","decimal",F]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",x,D]}],"underline-offset":[{"underline-offset":["auto",x,F]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",F]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",F]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),z]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},G]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[x,F]}],"outline-w":[{outline:[x,D]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[x,D]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",B,$]}],"shadow-color":[{shadow:[H]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",B,F]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",F]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",F]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",F]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[L,F]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",F]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",F]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",F]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[x,D,M]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}};const ee=(e,{cacheSize:t,prefix:n,separator:r,experimentalParseClassName:i,extend:s={},override:o={}})=>{et(e,"cacheSize",t);et(e,"prefix",n);et(e,"separator",r);et(e,"experimentalParseClassName",i);for(const t in o){en(e[t],o[t])}for(const t in s){er(e[t],s[t])}return e};const et=(e,t,n)=>{if(n!==undefined){e[t]=n}};const en=(e,t)=>{if(t){for(const n in t){et(e,n,t[n])}}};const er=(e,t)=>{if(t){for(const n in t){const r=t[n];if(r!==undefined){e[n]=(e[n]||[]).concat(r)}}}};const ei=(e,...t)=>typeof e==="function"?w(Z,e,...t):w(()=>ee(Z(),e),...t);const es=w(Z)},82566:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},82703:(e,t,n)=>{"use strict";e.exports=d;var r=n(77968);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var i=n(73267),s=n(32110),o=n(12630),a=n(93107);var c,u,l;function d(e){r.call(this,"",e);this.deferred=[];this.files=[];this._edition="proto2";this._fullyQualifiedObjects={}}d.fromJSON=function e(e,t){if(!t)t=new d;if(e.options)t.setOptions(e.options);return t.addJSON(e.nested).resolveAll()};d.prototype.resolvePath=a.path.resolve;d.prototype.fetch=a.fetch;function f(){}d.prototype.load=function e(t,n,r){if(typeof n==="function"){r=n;n=undefined}var i=this;if(!r){return a.asPromise(e,i,t,n)}var s=r===f;function o(e,t){if(!r){return}if(s){throw e}if(t){t.resolveAll()}var n=r;r=null;n(e,t)}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in l)return n}return null}function d(e,t){try{if(a.isString(t)&&t.charAt(0)==="{")t=JSON.parse(t);if(!a.isString(t))i.setOptions(t.options).addJSON(t.nested);else{u.filename=e;var r=u(t,i,n),l,d=0;if(r.imports){for(;d<r.imports.length;++d)if(l=c(r.imports[d])||i.resolvePath(e,r.imports[d]))h(l)}if(r.weakImports){for(d=0;d<r.weakImports.length;++d)if(l=c(r.weakImports[d])||i.resolvePath(e,r.weakImports[d]))h(l,true)}}}catch(e){o(e)}if(!s&&!p){o(null,i)}}function h(e,t){e=c(e)||e;if(i.files.indexOf(e)>-1){return}i.files.push(e);if(e in l){if(s){d(e,l[e])}else{++p;setTimeout(function(){--p;d(e,l[e])})}return}if(s){var n;try{n=a.fs.readFileSync(e).toString("utf8")}catch(e){if(!t)o(e);return}d(e,n)}else{++p;i.fetch(e,function(n,s){--p;if(!r){return}if(n){if(!t)o(n);else if(!p)o(null,i);return}d(e,s)})}}var p=0;if(a.isString(t)){t=[t]}for(var m=0,g;m<t.length;++m)if(g=i.resolvePath("",t[m]))h(g);if(s){i.resolveAll();return i}if(!p){o(null,i)}return i};d.prototype.loadSync=function e(e,t){if(!a.isNode)throw Error("not supported");return this.load(e,t,f)};d.prototype.resolveAll=function e(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function p(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new i(t.fullName,t.id,t.type,t.rule,undefined,t.options);if(n.get(r.name)){return true}r.declaringField=t;t.extensionField=r;n.add(r);return true}return false}d.prototype._handleAdd=function e(e){if(e instanceof i){if(e.extend!==undefined&&!e.extensionField){if(!p(this,e))this.deferred.push(e)}}else if(e instanceof s){if(h.test(e.name))e.parent[e.name]=e.values}else if(!(e instanceof o)){if(e instanceof c)for(var t=0;t<this.deferred.length;)if(p(this,this.deferred[t]))this.deferred.splice(t,1);else++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);if(h.test(e.name))e.parent[e.name]=e}if(e instanceof c||e instanceof s||e instanceof i){this._fullyQualifiedObjects[e.fullName]=e}};d.prototype._handleRemove=function e(e){if(e instanceof i){if(e.extend!==undefined){if(e.extensionField){e.extensionField.parent.remove(e.extensionField);e.extensionField=null}else{var t=this.deferred.indexOf(e);if(t>-1)this.deferred.splice(t,1)}}}else if(e instanceof s){if(h.test(e.name))delete e.parent[e.name]}else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);if(h.test(e.name))delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]};d._configure=function(e,t,n){c=e;u=t;l=n}},83091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createPrerenderSearchParamsForClientPage:function(){return g},createSearchParamsFromClient:function(){return h},createServerSearchParamsForMetadata:function(){return p},createServerSearchParamsForServerPage:function(){return m},makeErroringExoticSearchParamsForUseCache:function(){return S}});const i=n(43763);const s=n(84971);const o=n(63033);const a=n(71617);const c=n(68388);const u=n(76926);const l=n(72609);const d=n(8719);const f=n(44523);function h(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(t,n);default:}}return v(e,t)}const p=m;function m(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(t,n);default:}}return v(e,t)}function g(e){if(e.forceStatic){return Promise.resolve({})}const t=o.workUnitAsyncStorage.getStore();if(t&&t.type==="prerender"){return(0,c.makeHangingPromise)(t.renderSignal,"`searchParams`")}return Promise.resolve({})}function y(e,t){if(e.forceStatic){return Promise.resolve({})}if(t.type==="prerender"){return E(e.route,t)}return w(e,t)}function v(e,t){if(t.forceStatic){return Promise.resolve({})}else{if(false){}else{return T(e,t)}}}const b=new WeakMap;const _=new WeakMap;function E(e,t){const n=b.get(t);if(n){return n}const r=(0,c.makeHangingPromise)(t.renderSignal,"`searchParams`");const o=new Proxy(r,{get(n,o,a){if(Object.hasOwn(r,o)){return i.ReflectAdapter.get(n,o,a)}switch(o){case"then":{const e="`await searchParams`, `searchParams.then`, or similar";(0,s.annotateDynamicAccess)(e,t);return i.ReflectAdapter.get(n,o,a)}case"status":{const e="`use(searchParams)`, `searchParams.status`, or similar";(0,s.annotateDynamicAccess)(e,t);return i.ReflectAdapter.get(n,o,a)}default:{if(typeof o==="string"&&!l.wellKnownProperties.has(o)){const n=(0,l.describeStringPropertyAccess)("searchParams",o);const r=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}return i.ReflectAdapter.get(n,o,a)}}},has(n,r){if(typeof r==="string"){const n=(0,l.describeHasCheckingStringProperty)("searchParams",r);const i=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}return i.ReflectAdapter.has(n,r)},ownKeys(){const n="`{...searchParams}`, `Object.keys(searchParams)`, or similar";const r=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}});b.set(t,o);return o}function w(e,t){const n=b.get(e);if(n){return n}const r={};const o=Promise.resolve(r);const a=new Proxy(o,{get(n,r,a){if(Object.hasOwn(o,r)){return i.ReflectAdapter.get(n,r,a)}switch(r){case"then":{const n="`await searchParams`, `searchParams.then`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return}case"status":{const n="`use(searchParams)`, `searchParams.status`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return}default:{if(typeof r==="string"&&!l.wellKnownProperties.has(r)){const n=(0,l.describeStringPropertyAccess)("searchParams",r);if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}}return i.ReflectAdapter.get(n,r,a)}}},has(n,r){if(typeof r==="string"){const n=(0,l.describeHasCheckingStringProperty)("searchParams",r);if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return false}return i.ReflectAdapter.has(n,r)},ownKeys(){const n="`{...searchParams}`, `Object.keys(searchParams)`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}}});b.set(e,a);return a}function S(e){const t=_.get(e);if(t){return t}const n=Promise.resolve({});const r=new Proxy(n,{get(t,r,s){if(Object.hasOwn(n,r)){return i.ReflectAdapter.get(t,r,s)}if(typeof r==="string"&&(r==="then"||!l.wellKnownProperties.has(r))){(0,d.throwForSearchParamsAccessInUseCache)(e.route)}return i.ReflectAdapter.get(t,r,s)},has(t,n){if(typeof n==="string"&&(n==="then"||!l.wellKnownProperties.has(n))){(0,d.throwForSearchParamsAccessInUseCache)(e.route)}return i.ReflectAdapter.has(t,n)},ownKeys(){(0,d.throwForSearchParamsAccessInUseCache)(e.route)}});_.set(e,r);return r}function T(e,t){const n=b.get(e);if(n){return n}const r=Promise.resolve(e);b.set(e,r);Object.keys(e).forEach(n=>{if(!l.wellKnownProperties.has(n)){Object.defineProperty(r,n,{get(){const r=o.workUnitAsyncStorage.getStore();(0,s.trackDynamicDataInDynamicRender)(t,r);return e[n]},set(e){Object.defineProperty(r,n,{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true})}});return r}function C(e,t){const n=b.get(e);if(n){return n}const r=new Set;const a=[];let c=false;const u=new Proxy(e,{get(e,n,r){if(typeof n==="string"&&c){if(t.dynamicShouldError){const e=(0,l.describeStringPropertyAccess)("searchParams",n);(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}const e=o.workUnitAsyncStorage.getStore();(0,s.trackDynamicDataInDynamicRender)(t,e)}return i.ReflectAdapter.get(e,n,r)},has(e,n){if(typeof n==="string"){if(t.dynamicShouldError){const e=(0,l.describeHasCheckingStringProperty)("searchParams",n);(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}}return Reflect.has(e,n)},ownKeys(e){if(t.dynamicShouldError){const e="`{...searchParams}`, `Object.keys(searchParams)`, or similar";(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}return Reflect.ownKeys(e)}});const h=new Promise(t=>(0,f.scheduleImmediate)(()=>t(e)));h.then(()=>{c=true});Object.keys(e).forEach(e=>{if(l.wellKnownProperties.has(e)){a.push(e)}else{r.add(e);Object.defineProperty(h,e,{get(){return u[e]},set(t){Object.defineProperty(h,e,{value:t,writable:true,enumerable:true})},enumerable:true,configurable:true})}});const p=new Proxy(h,{get(e,n,s){if(n==="then"&&t.dynamicShouldError){const e="`searchParams.then`";(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}if(typeof n==="string"){if(!l.wellKnownProperties.has(n)&&(r.has(n)||Reflect.has(e,n)===false)){const e=(0,l.describeStringPropertyAccess)("searchParams",n);R(t.route,e)}}return i.ReflectAdapter.get(e,n,s)},set(e,t,n,i){if(typeof t==="string"){r.delete(t)}return Reflect.set(e,t,n,i)},has(e,n){if(typeof n==="string"){if(!l.wellKnownProperties.has(n)&&(r.has(n)||Reflect.has(e,n)===false)){const e=(0,l.describeHasCheckingStringProperty)("searchParams",n);R(t.route,e)}}return Reflect.has(e,n)},ownKeys(e){const n="`Object.keys(searchParams)` or similar";R(t.route,n,a);return Reflect.ownKeys(e)}});b.set(e,p);return p}function R(e,t,n){if(n&&n.length>0){O(e,t,n)}else{I(e,t)}const r=o.workUnitAsyncStorage.getStore();if(r&&r.type==="request"&&r.prerenderPhase===true){const e=r;(0,s.trackSynchronousRequestDataAccessInDev)(e)}}const I=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(A);const O=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(P);function A(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`searchParams\` should be awaited before using its properties. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E249",enumerable:false,configurable:true})}function P(e,t,n){const r=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${r}used ${t}. `+`\`searchParams\` should be awaited before using its properties. `+`The following properties were not available through enumeration `+`because they conflict with builtin or well-known property names: `+`${N(n)}. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E2",enumerable:false,configurable:true})}function N(e){switch(e.length){case 0:throw Object.defineProperty(new a.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:false,configurable:true});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let n=0;n<e.length-1;n++){t+=`\`${e[n]}\`, `}t+=`, and \`${e[e.length-1]}\``;return t}}}},83232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ChannelImplementation=void 0;const r=n(36551);const i=n(48436);class s{constructor(e,t,n){if(typeof e!=="string"){throw new TypeError("Channel target must be a string")}if(!(t instanceof r.ChannelCredentials)){throw new TypeError("Channel credentials must be a ChannelCredentials object")}if(n){if(typeof n!=="object"){throw new TypeError("Channel options must be an object")}}this.internalChannel=new i.InternalChannel(e,t,n)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,n){this.internalChannel.watchConnectivityState(e,t,n)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,n,r,i){if(typeof e!=="string"){throw new TypeError("Channel#createCall: method must be a string")}if(!(typeof t==="number"||t instanceof Date)){throw new TypeError("Channel#createCall: deadline must be a number or Date")}return this.internalChannel.createCall(e,t,n,r,i)}}t.ChannelImplementation=s},83273:e=>{"use strict";e.exports=t;function t(e,t,n){var r=n||8192;var i=r>>>1;var s=null;var o=r;return function n(n){if(n<1||n>i)return e(n);if(o+n>r){s=e(r);o=0}var a=t.call(s,o,o+=n);if(o&7)o=(o|7)+1;return a}}},83717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ReflectAdapter",{enumerable:true,get:function(){return n}});class n{static get(e,t,n){const r=Reflect.get(e,t,n);if(typeof r==="function"){return r.bind(e)}return r}static set(e,t,n,r){return Reflect.set(e,t,n,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},83913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{DEFAULT_SEGMENT_KEY:function(){return a},PAGE_SEGMENT_KEY:function(){return o},addSearchParamsIfPageSegment:function(){return s},isGroupSegment:function(){return r},isParallelRouteSegment:function(){return i}});function r(e){return e[0]==="("&&e.endsWith(")")}function i(e){return e.startsWith("@")&&e!=="@children"}function s(e,t){const n=e.includes(o);if(n){const e=JSON.stringify(t);return e!=="{}"?o+"?"+e:o}return e}const o="__PAGE__";const a="__DEFAULT__"},84553:e=>{"use strict";e.exports=t;function t(){this._listeners={}}t.prototype.on=function e(e,t,n){(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this});return this};t.prototype.off=function e(e,t){if(e===undefined)this._listeners={};else{if(t===undefined)this._listeners[e]=[];else{var n=this._listeners[e];for(var r=0;r<n.length;)if(n[r].fn===t)n.splice(r,1);else++r}}return this};t.prototype.emit=function e(e){var t=this._listeners[e];if(t){var n=[],r=1;for(;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},84627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{describeHasCheckingStringProperty:function(){return s},describeStringPropertyAccess:function(){return i},wellKnownProperties:function(){return o}});const r=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function i(e,t){if(r.test(t)){return"`"+e+"."+t+"`"}return"`"+e+"["+JSON.stringify(t)+"]`"}function s(e,t){const n=JSON.stringify(t);return"`Reflect.has("+e+", "+n+")`, `"+n+" in "+e+"`, or similar"}const o=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},84971:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{Postpone:function(){return R},abortAndThrowOnSynchronousRequestDataAccess:function(){return T},abortOnSynchronousPlatformIOAccess:function(){return w},accessedDynamicData:function(){return k},annotateDynamicAccess:function(){return U},consumeDynamicAccess:function(){return M},createDynamicTrackingState:function(){return p},createDynamicValidationState:function(){return m},createHangingInputAbortSignal:function(){return B},createPostponedAbortSignal:function(){return F},formatDynamicAPIAccesses:function(){return L},getFirstDynamicReason:function(){return g},isDynamicPostpone:function(){return A},isPrerenderInterruptedError:function(){return D},markCurrentScopeAsDynamic:function(){return y},postponeWithTracking:function(){return I},throwIfDisallowedDynamic:function(){return K},throwToInterruptStaticGeneration:function(){return b},trackAllowedDynamicAccess:function(){return H},trackDynamicDataInDynamicRender:function(){return _},trackFallbackParamAccessed:function(){return v},trackSynchronousPlatformIOAccessInDev:function(){return S},trackSynchronousRequestDataAccessInDev:function(){return C},useDynamicRouteParams:function(){return V}});const i=f(n(61120));const s=n(98479);const o=n(80023);const a=n(63033);const c=n(29294);const u=n(68388);const l=n(67625);const d=n(44523);function f(e){return e&&e.__esModule?e:{default:e}}const h=typeof i.default.unstable_postpone==="function";function p(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:undefined,syncDynamicErrorWithStack:null}}function m(){return{hasSuspendedDynamic:false,hasDynamicMetadata:false,hasDynamicViewport:false,hasSyncDynamicErrors:false,dynamicErrors:[]}}function g(e){var t;return(t=e.dynamicAccesses[0])==null?void 0:t.expression}function y(e,t,n){if(t){if(t.type==="cache"||t.type==="unstable-cache"){return}}if(e.forceDynamic||e.forceStatic)return;if(e.dynamicShouldError){throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${n}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:false,configurable:true})}if(t){if(t.type==="prerender-ppr"){I(e.route,n,t.dynamicTracking)}else if(t.type==="prerender-legacy"){t.revalidate=0;const r=Object.defineProperty(new s.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${n}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:false,configurable:true});e.dynamicUsageDescription=n;e.dynamicUsageStack=r.stack;throw r}else if(false){}}}function v(e,t){const n=a.workUnitAsyncStorage.getStore();if(!n||n.type!=="prerender-ppr")return;I(e.route,t,n.dynamicTracking)}function b(e,t,n){const r=Object.defineProperty(new s.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:false,configurable:true});n.revalidate=0;t.dynamicUsageDescription=e;t.dynamicUsageStack=r.stack;throw r}function _(e,t){if(t){if(t.type==="cache"||t.type==="unstable-cache"){return}if(t.type==="prerender"||t.type==="prerender-legacy"){t.revalidate=0}if(false){}}}function E(e,t,n){const r=`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`;const i=x(r);n.controller.abort(i);const s=n.dynamicTracking;if(s){s.dynamicAccesses.push({stack:s.isDebugDynamicAccesses?new Error().stack:undefined,expression:t})}}function w(e,t,n,r){const i=r.dynamicTracking;if(i){if(i.syncDynamicErrorWithStack===null){i.syncDynamicExpression=t;i.syncDynamicErrorWithStack=n}}return E(e,t,r)}function S(e){e.prerenderPhase=false}function T(e,t,n,r){const i=r.dynamicTracking;if(i){if(i.syncDynamicErrorWithStack===null){i.syncDynamicExpression=t;i.syncDynamicErrorWithStack=n;if(r.validating===true){i.syncDynamicLogged=true}}}E(e,t,r);throw x(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}const C=S;function R({reason:e,route:t}){const n=a.workUnitAsyncStorage.getStore();const r=n&&n.type==="prerender-ppr"?n.dynamicTracking:null;I(t,e,r)}function I(e,t,n){j();if(n){n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?new Error().stack:undefined,expression:t})}i.default.unstable_postpone(O(e,t))}function O(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. `+`React throws this special object to indicate where. It should not be caught by `+`your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function A(e){if(typeof e==="object"&&e!==null&&typeof e.message==="string"){return P(e.message)}return false}function P(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(P(O("%%%","^^^"))===false){throw Object.defineProperty(new Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:false,configurable:true})}const N="NEXT_PRERENDER_INTERRUPTED";function x(e){const t=Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});t.digest=N;return t}function D(e){return typeof e==="object"&&e!==null&&e.digest===N&&"name"in e&&"message"in e&&e instanceof Error}function k(e){return e.length>0}function M(e,t){e.dynamicAccesses.push(...t.dynamicAccesses);return e.dynamicAccesses}function L(e){return e.filter(e=>typeof e.stack==="string"&&e.stack.length>0).map(({expression:e,stack:t})=>{t=t.split("\n").slice(4).filter(e=>{if(e.includes("node_modules/next/")){return false}if(e.includes(" (<anonymous>)")){return false}if(e.includes(" (node:")){return false}return true}).join("\n");return`Dynamic API Usage Debug - ${e}:
${t}`})}function j(){if(!h){throw Object.defineProperty(new Error(`Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`),"__NEXT_ERROR_CODE",{value:"E224",enumerable:false,configurable:true})}}function F(e){j();const t=new AbortController;try{i.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function B(e){const t=new AbortController;if(e.cacheSignal){e.cacheSignal.inputReady().then(()=>{t.abort()})}else{(0,d.scheduleOnNextTick)(()=>t.abort())}return t.signal}function U(e,t){const n=t.dynamicTracking;if(n){n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?new Error().stack:undefined,expression:e})}}function V(e){const t=c.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){const n=a.workUnitAsyncStorage.getStore();if(n){if(n.type==="prerender"){i.default.use((0,u.makeHangingPromise)(n.renderSignal,e))}else if(n.type==="prerender-ppr"){I(t.route,e,n.dynamicTracking)}else if(n.type==="prerender-legacy"){b(e,t,n)}}}}const z=/\n\s+at Suspense \(<anonymous>\)/;const q=new RegExp(`\\n\\s+at ${l.METADATA_BOUNDARY_NAME}[\\n\\s]`);const G=new RegExp(`\\n\\s+at ${l.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`);const $=new RegExp(`\\n\\s+at ${l.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function H(e,t,n,r,i){if($.test(t)){return}else if(q.test(t)){n.hasDynamicMetadata=true;return}else if(G.test(t)){n.hasDynamicViewport=true;return}else if(z.test(t)){n.hasSuspendedDynamic=true;return}else if(r.syncDynamicErrorWithStack||i.syncDynamicErrorWithStack){n.hasSyncDynamicErrors=true;return}else{const r=`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`;const i=W(r,t);n.dynamicErrors.push(i);return}}function W(e,t){const n=Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});n.stack="Error: "+e+t;return n}function K(e,t,n,r){let i;let s;let a;if(n.syncDynamicErrorWithStack){i=n.syncDynamicErrorWithStack;s=n.syncDynamicExpression;a=n.syncDynamicLogged===true}else if(r.syncDynamicErrorWithStack){i=r.syncDynamicErrorWithStack;s=r.syncDynamicExpression;a=r.syncDynamicLogged===true}else{i=null;s=undefined;a=false}if(t.hasSyncDynamicErrors&&i){if(!a){console.error(i)}throw new o.StaticGenBailoutError}const c=t.dynamicErrors;if(c.length){for(let e=0;e<c.length;e++){console.error(c[e])}throw new o.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(i){console.error(i);throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E608",enumerable:false,configurable:true})}throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E534",enumerable:false,configurable:true})}else if(t.hasDynamicViewport){if(i){console.error(i);throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E573",enumerable:false,configurable:true})}throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E590",enumerable:false,configurable:true})}}}},85429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ServerInsertMetadata",{enumerable:true,get:function(){return o}});const r=n(43210);const i=n(68524);const s=e=>{const t=(0,r.useContext)(i.ServerInsertedMetadataContext);if(t){t(e)}};function o(e){let{promise:t}=e;const{metadata:n}=(0,r.use)(t);s(()=>n);return null}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},86243:e=>{"use strict";e.exports={"rE":"1.9.15"}},86346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ClientPageRoot",{enumerable:true,get:function(){return s}});const r=n(60687);const i=n(75539);function s(e){let{Component:t,searchParams:s,params:o,promises:a}=e;if(true){const{workAsyncStorage:e}=n(29294);let a;let c;const u=e.getStore();if(!u){throw Object.defineProperty(new i.InvariantError("Expected workStore to exist when handling searchParams in a client Page."),"__NEXT_ERROR_CODE",{value:"E564",enumerable:false,configurable:true})}const{createSearchParamsFromClient:l}=n(9221);a=l(s,u);const{createParamsFromClient:d}=n(60824);c=d(o,u);return(0,r.jsx)(t,{params:c,searchParams:a})}else{}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},86358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return s},getAccessFallbackErrorTypeByStatus:function(){return c},getAccessFallbackHTTPStatus:function(){return a},isHTTPAccessFallbackError:function(){return o}});const r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401};const i=new Set(Object.values(r));const s="NEXT_HTTP_ERROR_FALLBACK";function o(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}const[t,n]=e.digest.split(";");return t===s&&i.has(Number(n))}function a(e){const t=e.digest.split(";")[1];return Number(t)}function c(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},86693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BackoffTimeout=void 0;const n=1e3;const r=1.6;const i=12e4;const s=.2;function o(e,t){return Math.random()*(t-e)+e}class a{constructor(e,t){this.callback=e;this.initialDelay=n;this.multiplier=r;this.maxDelay=i;this.jitter=s;this.running=false;this.hasRef=true;this.startTime=new Date;this.endTime=new Date;if(t){if(t.initialDelay){this.initialDelay=t.initialDelay}if(t.multiplier){this.multiplier=t.multiplier}if(t.jitter){this.jitter=t.jitter}if(t.maxDelay){this.maxDelay=t.maxDelay}}this.nextDelay=this.initialDelay;this.timerId=setTimeout(()=>{},0);clearTimeout(this.timerId)}runTimer(e){var t,n;this.endTime=this.startTime;this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay);clearTimeout(this.timerId);this.timerId=setTimeout(()=>{this.callback();this.running=false},e);if(!this.hasRef){(n=(t=this.timerId).unref)===null||n===void 0?void 0:n.call(t)}}runOnce(){this.running=true;this.startTime=new Date;this.runTimer(this.nextDelay);const e=Math.min(this.nextDelay*this.multiplier,this.maxDelay);const t=e*this.jitter;this.nextDelay=e+o(-t,t)}stop(){clearTimeout(this.timerId);this.running=false}reset(){this.nextDelay=this.initialDelay;if(this.running){const e=new Date;const t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay);clearTimeout(this.timerId);if(e<t){this.runTimer(t.getTime()-e.getTime())}else{this.running=false}}}isRunning(){return this.running}ref(){var e,t;this.hasRef=true;(t=(e=this.timerId).ref)===null||t===void 0?void 0:t.call(e)}unref(){var e,t;this.hasRef=false;(t=(e=this.timerId).unref)===null||t===void 0?void 0:t.call(e)}getEndTime(){return this.endTime}}t.BackoffTimeout=a},86719:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"handleSmoothScroll",{enumerable:true,get:function(){return n}});function n(e,t){if(t===void 0)t={};if(t.onlyHashChange){e();return}const n=document.documentElement;const r=n.style.scrollBehavior;n.style.scrollBehavior="auto";if(!t.dontForceLayout){n.getClientRects()}e();n.style.scrollBehavior=r}},86984:(e,t,n)=>{"use strict";e.exports=i;var r=n(8707);(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i;function i(e,t,n){if(typeof e!=="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this);this.rpcImpl=e;this.requestDelimited=Boolean(t);this.responseDelimited=Boolean(n)}i.prototype.rpcCall=function e(t,n,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return r.asPromise(e,a,t,n,i,s);if(!a.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return undefined}try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),function e(e,n){if(e){a.emit("error",e,t);return o(e)}if(n===null){a.end(true);return undefined}if(!(n instanceof i)){try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){a.emit("error",e,t);return o(e)}}a.emit("data",n,t);return o(null,n)})}catch(e){a.emit("error",e,t);setTimeout(function(){o(e)},0);return undefined}};i.prototype.end=function e(e){if(this.rpcImpl){if(!e)this.rpcImpl(null,null,null);this.rpcImpl=null;this.emit("end").off()}return this}},87988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FilterStackFactory=t.FilterStack=void 0;class n{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++){t=this.filters[e].sendMetadata(t)}return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--){t=this.filters[e].receiveMetadata(t)}return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++){t=this.filters[e].sendMessage(t)}return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--){t=this.filters[e].receiveMessage(t)}return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--){t=this.filters[e].receiveTrailers(t)}return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=n;class r{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new r([...this.factories])}createFilter(){return new n(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=r},88092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isNextRouterError",{enumerable:true,get:function(){return s}});const r=n(86358);const i=n(97860);function s(e){return(0,i.isRedirectError)(e)||(0,r.isHTTPAccessFallbackError)(e)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},88170:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/Users/joaquin/gesticom_2.0/frontend/node_modules/next/dist/client/components/error-boundary.js")},89330:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"unresolvedThenable",{enumerable:true,get:function(){return n}});const n={then:()=>{}};if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},89374:(e,t,n)=>{"use strict";var r=e.exports=n(95477);r.build="light";function i(e,t,n){if(typeof t==="function"){n=t;t=new r.Root}else if(!t)t=new r.Root;return t.load(e,n)}r.load=i;function s(e,t){if(!t)t=new r.Root;return t.loadSync(e)}r.loadSync=s;r.encoder=n(30847);r.decoder=n(62823);r.verifier=n(16973);r.converter=n(97659);r.ReflectionObject=n(64824);r.Namespace=n(77968);r.Root=n(82703);r.Enum=n(32110);r.Type=n(54351);r.Field=n(73267);r.OneOf=n(12630);r.MapField=n(25585);r.Service=n(3076);r.Method=n(71202);r.Message=n(8920);r.wrappers=n(63695);r.types=n(61810);r.util=n(93107);r.ReflectionObject._configure(r.Root);r.Namespace._configure(r.Type,r.Service,r.Enum);r.Root._configure(r.Type);r.Field._configure(r.Type)},89495:(e,t,n)=>{"use strict";n.d(t,{h1:()=>u,uA:()=>i});var r=n(52122);class i{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const s="[DEFAULT]";class o{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier);const n=e?.optional??false;if(this.isInitialized(t)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n){return null}else{throw e}}}else{if(n){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if(c(e)){try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=s){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t);const r=this.onInitCallbacks.get(n)??new Set;r.add(e);this.onInitCallbacks.set(n,r);const i=this.instances.get(n);if(i){e(i,n)}return()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch{}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch{}}}return n||null}normalizeInstanceIdentifier(e=s){if(this.component){return this.component.multipleInstances?e:s}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a(e){return e===s?undefined:e}function c(e){return e.instantiationMode==="EAGER"}class u{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new o(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}},89644:module=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}},89735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"nonNullable",{enumerable:true,get:function(){return n}});function n(e){return e!==null&&e!==undefined}},89999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return s}});const r=n(37413);const i=n(1765);function s(){return(0,r.jsx)(i.HTTPAccessErrorFallback,{status:403,message:"This page could not be accessed."})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},90366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DetachedPromise",{enumerable:true,get:function(){return n}});class n{constructor(){let e;let t;this.promise=new Promise((n,r)=>{e=n;t=r});this.resolve=e;this.reject=t}}},90441:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;const r=n(99978);const i=n(42609);const s=n(93122);const o=n(82281);class a extends Error{constructor(e){super(e);this.name="InterceptorConfigurationError";Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a;class c{constructor(){this.metadata=undefined;this.message=undefined;this.status=undefined}withOnReceiveMetadata(e){this.metadata=e;return this}withOnReceiveMessage(e){this.message=e;return this}withOnReceiveStatus(e){this.status=e;return this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}t.ListenerBuilder=c;class u{constructor(){this.start=undefined;this.message=undefined;this.halfClose=undefined;this.cancel=undefined}withStart(e){this.start=e;return this}withSendMessage(e){this.message=e;return this}withHalfClose(e){this.halfClose=e;return this}withCancel(e){this.cancel=e;return this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}t.RequesterBuilder=u;const l={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}};const d={start:(e,t,n)=>{n(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};class f{constructor(e,t){var n,r,i,s;this.nextCall=e;this.processingMetadata=false;this.pendingMessageContext=null;this.processingMessage=false;this.pendingHalfClose=false;if(t){this.requester={start:(n=t.start)!==null&&n!==void 0?n:d.start,sendMessage:(r=t.sendMessage)!==null&&r!==void 0?r:d.sendMessage,halfClose:(i=t.halfClose)!==null&&i!==void 0?i:d.halfClose,cancel:(s=t.cancel)!==null&&s!==void 0?s:d.cancel}}else{this.requester=d}}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){if(this.pendingMessageContext){this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage);this.pendingMessageContext=null;this.pendingMessage=null}}processPendingHalfClose(){if(this.pendingHalfClose){this.nextCall.halfClose()}}start(e,t){var n,r,s,o,a,c;const u={onReceiveMetadata:(r=(n=t===null||t===void 0?void 0:t.onReceiveMetadata)===null||n===void 0?void 0:n.bind(t))!==null&&r!==void 0?r:e=>{},onReceiveMessage:(o=(s=t===null||t===void 0?void 0:t.onReceiveMessage)===null||s===void 0?void 0:s.bind(t))!==null&&o!==void 0?o:e=>{},onReceiveStatus:(c=(a=t===null||t===void 0?void 0:t.onReceiveStatus)===null||a===void 0?void 0:a.bind(t))!==null&&c!==void 0?c:e=>{}};this.processingMetadata=true;this.requester.start(e,u,(e,t)=>{var n,r,s;this.processingMetadata=false;let o;if((0,i.isInterceptingListener)(t)){o=t}else{const e={onReceiveMetadata:(n=t.onReceiveMetadata)!==null&&n!==void 0?n:l.onReceiveMetadata,onReceiveMessage:(r=t.onReceiveMessage)!==null&&r!==void 0?r:l.onReceiveMessage,onReceiveStatus:(s=t.onReceiveStatus)!==null&&s!==void 0?s:l.onReceiveStatus};o=new i.InterceptingListenerImpl(e,u)}this.nextCall.start(e,o);this.processPendingMessage();this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=true;this.requester.sendMessage(t,n=>{this.processingMessage=false;if(this.processingMetadata){this.pendingMessageContext=e;this.pendingMessage=t}else{this.nextCall.sendMessageWithContext(e,n);this.processPendingHalfClose()}})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{if(this.processingMetadata||this.processingMessage){this.pendingHalfClose=true}else{this.nextCall.halfClose()}})}}t.InterceptingCall=f;function h(e,t,n){var r,i;const s=(r=n.deadline)!==null&&r!==void 0?r:Infinity;const o=n.host;const a=(i=n.parent)!==null&&i!==void 0?i:null;const c=n.propagate_flags;const u=n.credentials;const l=e.createCall(t,s,o,a,c);if(u){l.setCredentials(u)}return l}class p{constructor(e,t){this.call=e;this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let n;try{n=this.methodDefinition.requestSerialize(t)}catch(e){this.call.cancelWithStatus(s.Status.INTERNAL,`Request message serialization failure: ${(0,o.getErrorMessage)(e)}`);return}this.call.sendMessageWithContext(e,n)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let n=null;this.call.start(e,{onReceiveMetadata:e=>{var n;(n=t===null||t===void 0?void 0:t.onReceiveMetadata)===null||n===void 0?void 0:n.call(t,e)},onReceiveMessage:e=>{var i;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){n={code:s.Status.INTERNAL,details:`Response message parsing error: ${(0,o.getErrorMessage)(e)}`,metadata:new r.Metadata};this.call.cancelWithStatus(n.code,n.details);return}(i=t===null||t===void 0?void 0:t.onReceiveMessage)===null||i===void 0?void 0:i.call(t,a)},onReceiveStatus:e=>{var r,i;if(n){(r=t===null||t===void 0?void 0:t.onReceiveStatus)===null||r===void 0?void 0:r.call(t,n)}else{(i=t===null||t===void 0?void 0:t.onReceiveStatus)===null||i===void 0?void 0:i.call(t,e)}}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class m extends p{constructor(e,t){super(e,t)}start(e,t){var n,r;let i=false;const s={onReceiveMetadata:(r=(n=t===null||t===void 0?void 0:t.onReceiveMetadata)===null||n===void 0?void 0:n.bind(t))!==null&&r!==void 0?r:e=>{},onReceiveMessage:e=>{var n;i=true;(n=t===null||t===void 0?void 0:t.onReceiveMessage)===null||n===void 0?void 0:n.call(t,e)},onReceiveStatus:e=>{var n,r;if(!i){(n=t===null||t===void 0?void 0:t.onReceiveMessage)===null||n===void 0?void 0:n.call(t,null)}(r=t===null||t===void 0?void 0:t.onReceiveStatus)===null||r===void 0?void 0:r.call(t,e)}};super.start(e,s);this.call.startRead()}}class g extends p{}function y(e,t,n){const r=h(e,n.path,t);if(n.responseStream){return new g(r,n)}else{return new m(r,n)}}function v(e,t,n,r){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0){throw new a("Both interceptors and interceptor_providers were passed as options "+"to the client constructor. Only one of these is allowed.")}if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0){throw new a("Both interceptors and interceptor_providers were passed as call "+"options. Only one of these is allowed.")}let i=[];if(e.callInterceptors.length>0||e.callInterceptorProviders.length>0){i=[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e)}else{i=[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e)}const s=Object.assign({},n,{method_definition:t});const o=i.reduceRight((e,t)=>{return n=>t(n,e)},e=>y(r,e,t));return o(s)}t.getInterceptingCall=v},91314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getHostname",{enumerable:true,get:function(){return n}});function n(e,t){let n;if((t==null?void 0:t.host)&&!Array.isArray(t.host)){n=t.host.toString().split(":",1)[0]}else if(e.hostname){n=e.hostname}else return;return n.toLowerCase()}},91563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{ACTION_HEADER:function(){return i},FLIGHT_HEADERS:function(){return d},NEXT_DID_POSTPONE_HEADER:function(){return p},NEXT_HMR_REFRESH_HEADER:function(){return c},NEXT_IS_PRERENDER_HEADER:function(){return y},NEXT_REWRITTEN_PATH_HEADER:function(){return m},NEXT_REWRITTEN_QUERY_HEADER:function(){return g},NEXT_ROUTER_PREFETCH_HEADER:function(){return o},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return a},NEXT_ROUTER_STALE_TIME_HEADER:function(){return h},NEXT_ROUTER_STATE_TREE_HEADER:function(){return s},NEXT_RSC_UNION_QUERY:function(){return f},NEXT_URL:function(){return u},RSC_CONTENT_TYPE_HEADER:function(){return l},RSC_HEADER:function(){return r}});const r="RSC";const i="Next-Action";const s="Next-Router-State-Tree";const o="Next-Router-Prefetch";const a="Next-Router-Segment-Prefetch";const c="Next-HMR-Refresh";const u="Next-Url";const l="text/x-component";const d=[r,s,o,c,a];const f="_rsc";const h="x-nextjs-stale-time";const p="x-nextjs-postponed";const m="x-nextjs-rewritten-path";const g="x-nextjs-rewritten-query";const y="x-nextjs-prerender";if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},92665:e=>{(()=>{"use strict";var t={491:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.ContextAPI=void 0;const r=n(223);const i=n(172);const s=n(930);const o="context";const a=new r.NoopContextManager;class c{constructor(){}static getInstance(){if(!this._instance){this._instance=new c}return this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(o,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,n,...r){return this._getContextManager().with(e,t,n,...r)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(o)||a}disable(){this._getContextManager().disable();(0,i.unregisterGlobal)(o,s.DiagAPI.instance())}}t.ContextAPI=c},930:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.DiagAPI=void 0;const r=n(56);const i=n(912);const s=n(957);const o=n(172);const a="diag";class c{constructor(){function e(e){return function(...t){const n=(0,o.getGlobal)("diag");if(!n)return;return n[e](...t)}}const t=this;const n=(e,n={logLevel:s.DiagLogLevel.INFO})=>{var r,a,c;if(e===t){const e=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");t.error((r=e.stack)!==null&&r!==void 0?r:e.message);return false}if(typeof n==="number"){n={logLevel:n}}const u=(0,o.getGlobal)("diag");const l=(0,i.createLogLevelDiagLogger)((a=n.logLevel)!==null&&a!==void 0?a:s.DiagLogLevel.INFO,e);if(u&&!n.suppressOverrideMessage){const e=(c=(new Error).stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`);l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,o.registerGlobal)("diag",l,t,true)};t.setLogger=n;t.disable=()=>{(0,o.unregisterGlobal)(a,t)};t.createComponentLogger=e=>new r.DiagComponentLogger(e);t.verbose=e("verbose");t.debug=e("debug");t.info=e("info");t.warn=e("warn");t.error=e("error")}static instance(){if(!this._instance){this._instance=new c}return this._instance}}t.DiagAPI=c},653:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.MetricsAPI=void 0;const r=n(660);const i=n(172);const s=n(930);const o="metrics";class a{constructor(){}static getInstance(){if(!this._instance){this._instance=new a}return this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(o,e,s.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(o)||r.NOOP_METER_PROVIDER}getMeter(e,t,n){return this.getMeterProvider().getMeter(e,t,n)}disable(){(0,i.unregisterGlobal)(o,s.DiagAPI.instance())}}t.MetricsAPI=a},181:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.PropagationAPI=void 0;const r=n(172);const i=n(874);const s=n(194);const o=n(277);const a=n(369);const c=n(930);const u="propagation";const l=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=a.createBaggage;this.getBaggage=o.getBaggage;this.getActiveBaggage=o.getActiveBaggage;this.setBaggage=o.setBaggage;this.deleteBaggage=o.deleteBaggage}static getInstance(){if(!this._instance){this._instance=new d}return this._instance}setGlobalPropagator(e){return(0,r.registerGlobal)(u,e,c.DiagAPI.instance())}inject(e,t,n=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,n)}extract(e,t,n=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,r.unregisterGlobal)(u,c.DiagAPI.instance())}_getGlobalPropagator(){return(0,r.getGlobal)(u)||l}}t.PropagationAPI=d},997:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.TraceAPI=void 0;const r=n(172);const i=n(846);const s=n(139);const o=n(607);const a=n(930);const c="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider;this.wrapSpanContext=s.wrapSpanContext;this.isSpanContextValid=s.isSpanContextValid;this.deleteSpan=o.deleteSpan;this.getSpan=o.getSpan;this.getActiveSpan=o.getActiveSpan;this.getSpanContext=o.getSpanContext;this.setSpan=o.setSpan;this.setSpanContext=o.setSpanContext}static getInstance(){if(!this._instance){this._instance=new u}return this._instance}setGlobalTracerProvider(e){const t=(0,r.registerGlobal)(c,this._proxyTracerProvider,a.DiagAPI.instance());if(t){this._proxyTracerProvider.setDelegate(e)}return t}getTracerProvider(){return(0,r.getGlobal)(c)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,r.unregisterGlobal)(c,a.DiagAPI.instance());this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;const r=n(491);const i=n(780);const s=(0,i.createContextKey)("OpenTelemetry Baggage Key");function o(e){return e.getValue(s)||undefined}t.getBaggage=o;function a(){return o(r.ContextAPI.getInstance().active())}t.getActiveBaggage=a;function c(e,t){return e.setValue(s,t)}t.setBaggage=c;function u(e){return e.deleteValue(s)}t.deleteBaggage=u},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.BaggageImpl=void 0;class n{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){const t=this._entries.get(e);if(!t){return undefined}return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){const r=new n(this._entries);r._entries.set(e,t);return r}removeEntry(e){const t=new n(this._entries);t._entries.delete(e);return t}removeEntries(...e){const t=new n(this._entries);for(const n of e){t._entries.delete(n)}return t}clear(){return new n}}t.BaggageImpl=n},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.baggageEntryMetadataSymbol=void 0;t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.baggageEntryMetadataFromString=t.createBaggage=void 0;const r=n(930);const i=n(993);const s=n(830);const o=r.DiagAPI.instance();function a(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))}t.createBaggage=a;function c(e){if(typeof e!=="string"){o.error(`Cannot create baggage metadata from unknown type: ${typeof e}`);e=""}return{__TYPE__:s.baggageEntryMetadataSymbol,toString(){return e}}}t.baggageEntryMetadataFromString=c},67:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.context=void 0;const r=n(491);t.context=r.ContextAPI.getInstance()},223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.NoopContextManager=void 0;const r=n(780);class i{active(){return r.ROOT_CONTEXT}with(e,t,n,...r){return t.call(n,...r)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=i},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.ROOT_CONTEXT=t.createContextKey=void 0;function n(e){return Symbol.for(e)}t.createContextKey=n;class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map;t.getValue=e=>t._currentContext.get(e);t.setValue=(e,n)=>{const i=new r(t._currentContext);i._currentContext.set(e,n);return i};t.deleteValue=e=>{const n=new r(t._currentContext);n._currentContext.delete(e);return n}}}t.ROOT_CONTEXT=new r},506:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.diag=void 0;const r=n(930);t.diag=r.DiagAPI.instance()},56:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.DiagComponentLogger=void 0;const r=n(172);class i{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return s("debug",this._namespace,e)}error(...e){return s("error",this._namespace,e)}info(...e){return s("info",this._namespace,e)}warn(...e){return s("warn",this._namespace,e)}verbose(...e){return s("verbose",this._namespace,e)}}t.DiagComponentLogger=i;function s(e,t,n){const i=(0,r.getGlobal)("diag");if(!i){return}n.unshift(t);return i[e](...n)}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.DiagConsoleLogger=void 0;const n=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class r{constructor(){function e(e){return function(...t){if(console){let n=console[e];if(typeof n!=="function"){n=console.log}if(typeof n==="function"){return n.apply(console,t)}}}}for(let t=0;t<n.length;t++){this[n[t].n]=e(n[t].c)}}}t.DiagConsoleLogger=r},912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.createLogLevelDiagLogger=void 0;const r=n(957);function i(e,t){if(e<r.DiagLogLevel.NONE){e=r.DiagLogLevel.NONE}else if(e>r.DiagLogLevel.ALL){e=r.DiagLogLevel.ALL}t=t||{};function n(n,r){const i=t[n];if(typeof i==="function"&&e>=r){return i.bind(t)}return function(){}}return{error:n("error",r.DiagLogLevel.ERROR),warn:n("warn",r.DiagLogLevel.WARN),info:n("info",r.DiagLogLevel.INFO),debug:n("debug",r.DiagLogLevel.DEBUG),verbose:n("verbose",r.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=i},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.DiagLogLevel=void 0;var n;(function(e){e[e["NONE"]=0]="NONE";e[e["ERROR"]=30]="ERROR";e[e["WARN"]=50]="WARN";e[e["INFO"]=60]="INFO";e[e["DEBUG"]=70]="DEBUG";e[e["VERBOSE"]=80]="VERBOSE";e[e["ALL"]=9999]="ALL"})(n=t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;const r=n(200);const i=n(521);const s=n(130);const o=i.VERSION.split(".")[0];const a=Symbol.for(`opentelemetry.js.api.${o}`);const c=r._globalThis;function u(e,t,n,r=false){var s;const o=c[a]=(s=c[a])!==null&&s!==void 0?s:{version:i.VERSION};if(!r&&o[e]){const t=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);n.error(t.stack||t.message);return false}if(o.version!==i.VERSION){const t=new Error(`@opentelemetry/api: Registration of version v${o.version} for ${e} does not match previously registered API v${i.VERSION}`);n.error(t.stack||t.message);return false}o[e]=t;n.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`);return true}t.registerGlobal=u;function l(e){var t,n;const r=(t=c[a])===null||t===void 0?void 0:t.version;if(!r||!(0,s.isCompatible)(r)){return}return(n=c[a])===null||n===void 0?void 0:n[e]}t.getGlobal=l;function d(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);const n=c[a];if(n){delete n[e]}}t.unregisterGlobal=d},130:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.isCompatible=t._makeCompatibilityCheck=void 0;const r=n(521);const i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){const t=new Set([e]);const n=new Set;const r=e.match(i);if(!r){return()=>false}const s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null){return function t(t){return t===e}}function o(e){n.add(e);return false}function a(e){t.add(e);return true}return function e(e){if(t.has(e)){return true}if(n.has(e)){return false}const r=e.match(i);if(!r){return o(e)}const c={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(c.prerelease!=null){return o(e)}if(s.major!==c.major){return o(e)}if(s.major===0){if(s.minor===c.minor&&s.patch<=c.patch){return a(e)}return o(e)}if(s.minor<=c.minor){return a(e)}return o(e)}}t._makeCompatibilityCheck=s;t.isCompatible=s(r.VERSION)},886:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.metrics=void 0;const r=n(653);t.metrics=r.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.ValueType=void 0;var n;(function(e){e[e["INT"]=0]="INT";e[e["DOUBLE"]=1]="DOUBLE"})(n=t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class n{constructor(){}createHistogram(e,n){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,n){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,n){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,n){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,n){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,n){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=n;class r{}t.NoopMetric=r;class i extends r{add(e,t){}}t.NoopCounterMetric=i;class s extends r{add(e,t){}}t.NoopUpDownCounterMetric=s;class o extends r{record(e,t){}}t.NoopHistogramMetric=o;class a{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=a;class c extends a{}t.NoopObservableCounterMetric=c;class u extends a{}t.NoopObservableGaugeMetric=u;class l extends a{}t.NoopObservableUpDownCounterMetric=l;t.NOOP_METER=new n;t.NOOP_COUNTER_METRIC=new i;t.NOOP_HISTOGRAM_METRIC=new o;t.NOOP_UP_DOWN_COUNTER_METRIC=new s;t.NOOP_OBSERVABLE_COUNTER_METRIC=new c;t.NOOP_OBSERVABLE_GAUGE_METRIC=new u;t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new l;function d(){return t.NOOP_METER}t.createNoopMeter=d},660:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;const r=n(102);class i{getMeter(e,t,n){return r.NOOP_METER}}t.NoopMeterProvider=i;t.NOOP_METER_PROVIDER=new i},200:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var i=this&&this.__exportStar||function(e,t){for(var n in e)if(n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n))r(t,e,n)};Object.defineProperty(t,"__esModule",{value:true});i(n(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t._globalThis=void 0;t._globalThis=typeof globalThis==="object"?globalThis:global},46:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var i=this&&this.__exportStar||function(e,t){for(var n in e)if(n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n))r(t,e,n)};Object.defineProperty(t,"__esModule",{value:true});i(n(651),t)},939:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.propagation=void 0;const r=n(181);t.propagation=r.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.NoopTextMapPropagator=void 0;class n{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=n},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.defaultTextMapSetter=t.defaultTextMapGetter=void 0;t.defaultTextMapGetter={get(e,t){if(e==null){return undefined}return e[t]},keys(e){if(e==null){return[]}return Object.keys(e)}};t.defaultTextMapSetter={set(e,t,n){if(e==null){return}e[t]=n}}},845:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.trace=void 0;const r=n(997);t.trace=r.TraceAPI.getInstance()},403:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.NonRecordingSpan=void 0;const r=n(476);class i{constructor(e=r.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return false}recordException(e,t){}}t.NonRecordingSpan=i},614:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.NoopTracer=void 0;const r=n(491);const i=n(607);const s=n(403);const o=n(139);const a=r.ContextAPI.getInstance();class c{startSpan(e,t,n=a.active()){const r=Boolean(t===null||t===void 0?void 0:t.root);if(r){return new s.NonRecordingSpan}const c=n&&(0,i.getSpanContext)(n);if(u(c)&&(0,o.isSpanContextValid)(c)){return new s.NonRecordingSpan(c)}else{return new s.NonRecordingSpan}}startActiveSpan(e,t,n,r){let s;let o;let c;if(arguments.length<2){return}else if(arguments.length===2){c=t}else if(arguments.length===3){s=t;c=n}else{s=t;o=n;c=r}const u=o!==null&&o!==void 0?o:a.active();const l=this.startSpan(e,s,u);const d=(0,i.setSpan)(u,l);return a.with(d,c,undefined,l)}}t.NoopTracer=c;function u(e){return typeof e==="object"&&typeof e["spanId"]==="string"&&typeof e["traceId"]==="string"&&typeof e["traceFlags"]==="number"}},124:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.NoopTracerProvider=void 0;const r=n(614);class i{getTracer(e,t,n){return new r.NoopTracer}}t.NoopTracerProvider=i},125:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.ProxyTracer=void 0;const r=n(614);const i=new r.NoopTracer;class s{constructor(e,t,n,r){this._provider=e;this.name=t;this.version=n;this.options=r}startSpan(e,t,n){return this._getTracer().startSpan(e,t,n)}startActiveSpan(e,t,n,r){const i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate){return this._delegate}const e=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!e){return i}this._delegate=e;return this._delegate}}t.ProxyTracer=s},846:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.ProxyTracerProvider=void 0;const r=n(125);const i=n(124);const s=new i.NoopTracerProvider;class o{getTracer(e,t,n){var i;return(i=this.getDelegateTracer(e,t,n))!==null&&i!==void 0?i:new r.ProxyTracer(this,e,t,n)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:s}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,n){var r;return(r=this._delegate)===null||r===void 0?void 0:r.getTracer(e,t,n)}}t.ProxyTracerProvider=o},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.SamplingDecision=void 0;var n;(function(e){e[e["NOT_RECORD"]=0]="NOT_RECORD";e[e["RECORD"]=1]="RECORD";e[e["RECORD_AND_SAMPLED"]=2]="RECORD_AND_SAMPLED"})(n=t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;const r=n(780);const i=n(403);const s=n(491);const o=(0,r.createContextKey)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(o)||undefined}t.getSpan=a;function c(){return a(s.ContextAPI.getInstance().active())}t.getActiveSpan=c;function u(e,t){return e.setValue(o,t)}t.setSpan=u;function l(e){return e.deleteValue(o)}t.deleteSpan=l;function d(e,t){return u(e,new i.NonRecordingSpan(t))}t.setSpanContext=d;function f(e){var t;return(t=a(e))===null||t===void 0?void 0:t.spanContext()}t.getSpanContext=f},325:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.TraceStateImpl=void 0;const r=n(564);const i=32;const s=512;const o=",";const a="=";class c{constructor(e){this._internalState=new Map;if(e)this._parse(e)}set(e,t){const n=this._clone();if(n._internalState.has(e)){n._internalState.delete(e)}n._internalState.set(e,t);return n}unset(e){const t=this._clone();t._internalState.delete(e);return t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>{e.push(t+a+this.get(t));return e},[]).join(o)}_parse(e){if(e.length>s)return;this._internalState=e.split(o).reverse().reduce((e,t)=>{const n=t.trim();const i=n.indexOf(a);if(i!==-1){const s=n.slice(0,i);const o=n.slice(i+1,t.length);if((0,r.validateKey)(s)&&(0,r.validateValue)(o)){e.set(s,o)}else{}}return e},new Map);if(this._internalState.size>i){this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,i))}}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new c;e._internalState=new Map(this._internalState);return e}}t.TraceStateImpl=c},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.validateValue=t.validateKey=void 0;const n="[_0-9a-z-*/]";const r=`[a-z]${n}{0,255}`;const i=`[a-z0-9]${n}{0,240}@[a-z]${n}{0,13}`;const s=new RegExp(`^(?:${r}|${i})$`);const o=/^[ -~]{0,255}[!-~]$/;const a=/,|=/;function c(e){return s.test(e)}t.validateKey=c;function u(e){return o.test(e)&&!a.test(e)}t.validateValue=u},98:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.createTraceState=void 0;const r=n(325);function i(e){return new r.TraceStateImpl(e)}t.createTraceState=i},476:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;const r=n(475);t.INVALID_SPANID="0000000000000000";t.INVALID_TRACEID="00000000000000000000000000000000";t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:r.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.SpanKind=void 0;var n;(function(e){e[e["INTERNAL"]=0]="INTERNAL";e[e["SERVER"]=1]="SERVER";e[e["CLIENT"]=2]="CLIENT";e[e["PRODUCER"]=3]="PRODUCER";e[e["CONSUMER"]=4]="CONSUMER"})(n=t.SpanKind||(t.SpanKind={}))},139:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;const r=n(476);const i=n(403);const s=/^([0-9a-f]{32})$/i;const o=/^[0-9a-f]{16}$/i;function a(e){return s.test(e)&&e!==r.INVALID_TRACEID}t.isValidTraceId=a;function c(e){return o.test(e)&&e!==r.INVALID_SPANID}t.isValidSpanId=c;function u(e){return a(e.traceId)&&c(e.spanId)}t.isSpanContextValid=u;function l(e){return new i.NonRecordingSpan(e)}t.wrapSpanContext=l},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.SpanStatusCode=void 0;var n;(function(e){e[e["UNSET"]=0]="UNSET";e[e["OK"]=1]="OK";e[e["ERROR"]=2]="ERROR"})(n=t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.TraceFlags=void 0;var n;(function(e){e[e["NONE"]=0]="NONE";e[e["SAMPLED"]=1]="SAMPLED"})(n=t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.VERSION=void 0;t.VERSION="1.6.0"}};var n={};function r(e){var i=n[e];if(i!==undefined){return i.exports}var s=n[e]={exports:{}};var o=true;try{t[e].call(s.exports,s,s.exports,r);o=false}finally{if(o)delete n[e]}return s.exports}if(typeof r!=="undefined")r.ab=__dirname+"/";var i={};(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:true});e.trace=e.propagation=e.metrics=e.diag=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.createTraceState=e.TraceFlags=e.SpanStatusCode=e.SpanKind=e.SamplingDecision=e.ProxyTracerProvider=e.ProxyTracer=e.defaultTextMapSetter=e.defaultTextMapGetter=e.ValueType=e.createNoopMeter=e.DiagLogLevel=e.DiagConsoleLogger=e.ROOT_CONTEXT=e.createContextKey=e.baggageEntryMetadataFromString=void 0;var t=r(369);Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:true,get:function(){return t.baggageEntryMetadataFromString}});var n=r(780);Object.defineProperty(e,"createContextKey",{enumerable:true,get:function(){return n.createContextKey}});Object.defineProperty(e,"ROOT_CONTEXT",{enumerable:true,get:function(){return n.ROOT_CONTEXT}});var s=r(972);Object.defineProperty(e,"DiagConsoleLogger",{enumerable:true,get:function(){return s.DiagConsoleLogger}});var o=r(957);Object.defineProperty(e,"DiagLogLevel",{enumerable:true,get:function(){return o.DiagLogLevel}});var a=r(102);Object.defineProperty(e,"createNoopMeter",{enumerable:true,get:function(){return a.createNoopMeter}});var c=r(901);Object.defineProperty(e,"ValueType",{enumerable:true,get:function(){return c.ValueType}});var u=r(194);Object.defineProperty(e,"defaultTextMapGetter",{enumerable:true,get:function(){return u.defaultTextMapGetter}});Object.defineProperty(e,"defaultTextMapSetter",{enumerable:true,get:function(){return u.defaultTextMapSetter}});var l=r(125);Object.defineProperty(e,"ProxyTracer",{enumerable:true,get:function(){return l.ProxyTracer}});var d=r(846);Object.defineProperty(e,"ProxyTracerProvider",{enumerable:true,get:function(){return d.ProxyTracerProvider}});var f=r(996);Object.defineProperty(e,"SamplingDecision",{enumerable:true,get:function(){return f.SamplingDecision}});var h=r(357);Object.defineProperty(e,"SpanKind",{enumerable:true,get:function(){return h.SpanKind}});var p=r(847);Object.defineProperty(e,"SpanStatusCode",{enumerable:true,get:function(){return p.SpanStatusCode}});var m=r(475);Object.defineProperty(e,"TraceFlags",{enumerable:true,get:function(){return m.TraceFlags}});var g=r(98);Object.defineProperty(e,"createTraceState",{enumerable:true,get:function(){return g.createTraceState}});var y=r(139);Object.defineProperty(e,"isSpanContextValid",{enumerable:true,get:function(){return y.isSpanContextValid}});Object.defineProperty(e,"isValidTraceId",{enumerable:true,get:function(){return y.isValidTraceId}});Object.defineProperty(e,"isValidSpanId",{enumerable:true,get:function(){return y.isValidSpanId}});var v=r(476);Object.defineProperty(e,"INVALID_SPANID",{enumerable:true,get:function(){return v.INVALID_SPANID}});Object.defineProperty(e,"INVALID_TRACEID",{enumerable:true,get:function(){return v.INVALID_TRACEID}});Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:true,get:function(){return v.INVALID_SPAN_CONTEXT}});const b=r(67);Object.defineProperty(e,"context",{enumerable:true,get:function(){return b.context}});const _=r(506);Object.defineProperty(e,"diag",{enumerable:true,get:function(){return _.diag}});const E=r(886);Object.defineProperty(e,"metrics",{enumerable:true,get:function(){return E.metrics}});const w=r(939);Object.defineProperty(e,"propagation",{enumerable:true,get:function(){return w.propagation}});const S=r(845);Object.defineProperty(e,"trace",{enumerable:true,get:function(){return S.trace}});e["default"]={context:b.context,diag:_.diag,metrics:E.metrics,propagation:w.propagation,trace:S.trace}})();e.exports=i})()},93107:(e,t,n)=>{"use strict";var r=e.exports=n(8707);var i=n(46642);var s,o;r.codegen=n(98344);r.fetch=n(17757);r.path=n(71140);r.fs=r.inquire("fs");r.toArray=function e(e){if(e){var t=Object.keys(e),n=new Array(t.length),r=0;while(r<t.length)n[r]=e[t[r++]];return n}return[]};r.toObject=function e(e){var t={},n=0;while(n<e.length){var r=e[n++],i=e[n++];if(i!==undefined)t[r]=i}return t};var a=/\\/g,c=/"/g;r.isReserved=function e(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};r.safeProp=function e(e){if(!/^[$\w_]+$/.test(e)||r.isReserved(e))return'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]';return"."+e};r.ucFirst=function e(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;r.camelCase=function e(e){return e.substring(0,1)+e.substring(1).replace(u,function(e,t){return t.toUpperCase()})};r.compareFieldsById=function e(e,t){return e.id-t.id};r.decorateType=function e(e,t){if(e.$type){if(t&&e.$type.name!==t){r.decorateRoot.remove(e.$type);e.$type.name=t;r.decorateRoot.add(e.$type)}return e.$type}if(!s)s=n(54351);var i=new s(t||e.name);r.decorateRoot.add(i);i.ctor=e;Object.defineProperty(e,"$type",{value:i,enumerable:false});Object.defineProperty(e.prototype,"$type",{value:i,enumerable:false});return i};var l=0;r.decorateEnum=function e(e){if(e.$type)return e.$type;if(!o)o=n(32110);var t=new o("Enum"+l++,e);r.decorateRoot.add(t);Object.defineProperty(e,"$type",{value:t,enumerable:false});return t};r.setProperty=function e(e,t,n,r){function i(e,t,n){var s=t.shift();if(s==="__proto__"||s==="prototype"){return e}if(t.length>0){e[s]=i(e[s]||{},t,n)}else{var o=e[s];if(o&&r)return e;if(o)n=[].concat(o).concat(n);e[s]=n}return e}if(typeof e!=="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");t=t.split(".");return i(e,t,n)};Object.defineProperty(r,"decorateRoot",{get:function(){return i["decorated"]||(i["decorated"]=new(n(82703)))}})},93122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0;var n;(function(e){e[e["OK"]=0]="OK";e[e["CANCELLED"]=1]="CANCELLED";e[e["UNKNOWN"]=2]="UNKNOWN";e[e["INVALID_ARGUMENT"]=3]="INVALID_ARGUMENT";e[e["DEADLINE_EXCEEDED"]=4]="DEADLINE_EXCEEDED";e[e["NOT_FOUND"]=5]="NOT_FOUND";e[e["ALREADY_EXISTS"]=6]="ALREADY_EXISTS";e[e["PERMISSION_DENIED"]=7]="PERMISSION_DENIED";e[e["RESOURCE_EXHAUSTED"]=8]="RESOURCE_EXHAUSTED";e[e["FAILED_PRECONDITION"]=9]="FAILED_PRECONDITION";e[e["ABORTED"]=10]="ABORTED";e[e["OUT_OF_RANGE"]=11]="OUT_OF_RANGE";e[e["UNIMPLEMENTED"]=12]="UNIMPLEMENTED";e[e["INTERNAL"]=13]="INTERNAL";e[e["UNAVAILABLE"]=14]="UNAVAILABLE";e[e["DATA_LOSS"]=15]="DATA_LOSS";e[e["UNAUTHENTICATED"]=16]="UNAUTHENTICATED"})(n||(t.Status=n={}));var r;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["INFO"]=1]="INFO";e[e["ERROR"]=2]="ERROR";e[e["NONE"]=3]="NONE"})(r||(t.LogVerbosity=r={}));var i;(function(e){e[e["DEADLINE"]=1]="DEADLINE";e[e["CENSUS_STATS_CONTEXT"]=2]="CENSUS_STATS_CONTEXT";e[e["CENSUS_TRACING_CONTEXT"]=4]="CENSUS_TRACING_CONTEXT";e[e["CANCELLATION"]=8]="CANCELLATION";e[e["DEFAULTS"]=65535]="DEFAULTS"})(i||(t.Propagate=i={}));t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024},93883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useUntrackedPathname",{enumerable:true,get:function(){return o}});const r=n(43210);const i=n(10449);function s(){if(true){const{workAsyncStorage:e}=n(29294);const t=e.getStore();if(!t)return false;const{fallbackRouteParams:r}=t;if(!r||r.size===0)return false;return true}return false}function o(){if(s()){return null}return(0,r.useContext)(i.PathnameContext)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},93972:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].ReactServerDOMWebpackStaticEdge},94041:(e,t,n)=>{"use strict";if(false){}else{if(false){}else{if(false){}else if(false){}else{e.exports=n(10846)}}}},95477:(e,t,n)=>{"use strict";var r=t;r.build="minimal";r.Writer=n(96120);r.BufferWriter=n(54369);r.Reader=n(26996);r.BufferReader=n(75677);r.util=n(8707);r.rpc=n(27236);r.roots=n(46642);r.configure=i;function i(){r.util._configure();r.Writer._configure(r.BufferWriter);r.Reader._configure(r.BufferReader)}i()},96120:(e,t,n)=>{"use strict";e.exports=d;var r=n(8707);var i;var s=r.LongBits,o=r.base64,a=r.utf8;function c(e,t,n){this.fn=e;this.len=t;this.next=undefined;this.val=n}function u(){}function l(e){this.head=e.head;this.tail=e.tail;this.len=e.len;this.next=e.states}function d(){this.len=0;this.head=new c(u,0,0);this.tail=this.head;this.states=null}var f=function e(){return r.Buffer?function e(){return(d.create=function e(){return new i})()}:function e(){return new d}};d.create=f();d.alloc=function e(e){return new r.Array(e)};if(r.Array!==Array)d.alloc=r.pool(d.alloc,r.Array.prototype.subarray);d.prototype._push=function e(e,t,n){this.tail=this.tail.next=new c(e,t,n);this.len+=t;return this};function h(e,t,n){t[n]=e&255}function p(e,t,n){while(e>127){t[n++]=e&127|128;e>>>=7}t[n]=e}function m(e,t){this.len=e;this.next=undefined;this.val=t}m.prototype=Object.create(c.prototype);m.prototype.fn=p;d.prototype.uint32=function e(e){this.len+=(this.tail=this.tail.next=new m((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len;return this};d.prototype.int32=function e(e){return e<0?this._push(g,10,s.fromNumber(e)):this.uint32(e)};d.prototype.sint32=function e(e){return this.uint32((e<<1^e>>31)>>>0)};function g(e,t,n){while(e.hi){t[n++]=e.lo&127|128;e.lo=(e.lo>>>7|e.hi<<25)>>>0;e.hi>>>=7}while(e.lo>127){t[n++]=e.lo&127|128;e.lo=e.lo>>>7}t[n++]=e.lo}d.prototype.uint64=function e(e){var t=s.from(e);return this._push(g,t.length(),t)};d.prototype.int64=d.prototype.uint64;d.prototype.sint64=function e(e){var t=s.from(e).zzEncode();return this._push(g,t.length(),t)};d.prototype.bool=function e(e){return this._push(h,1,e?1:0)};function y(e,t,n){t[n]=e&255;t[n+1]=e>>>8&255;t[n+2]=e>>>16&255;t[n+3]=e>>>24}d.prototype.fixed32=function e(e){return this._push(y,4,e>>>0)};d.prototype.sfixed32=d.prototype.fixed32;d.prototype.fixed64=function e(e){var t=s.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)};d.prototype.sfixed64=d.prototype.fixed64;d.prototype.float=function e(e){return this._push(r.float.writeFloatLE,4,e)};d.prototype.double=function e(e){return this._push(r.float.writeDoubleLE,8,e)};var v=r.Array.prototype.set?function e(e,t,n){t.set(e,n)}:function e(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function e(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(r.isString(e)){var n=d.alloc(t=o.length(e));o.decode(e,n,0);e=n}return this.uint32(t)._push(v,t,e)};d.prototype.string=function e(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)};d.prototype.fork=function e(){this.states=new l(this);this.head=this.tail=new c(u,0,0);this.len=0;return this};d.prototype.reset=function e(){if(this.states){this.head=this.states.head;this.tail=this.states.tail;this.len=this.states.len;this.states=this.states.next}else{this.head=this.tail=new c(u,0,0);this.len=0}return this};d.prototype.ldelim=function e(){var e=this.head,t=this.tail,n=this.len;this.reset().uint32(n);if(n){this.tail.next=e.next;this.tail=t;this.len+=n}return this};d.prototype.finish=function e(){var e=this.head.next,t=this.constructor.alloc(this.len),n=0;while(e){e.fn(e.val,t,n);n+=e.len;e=e.next}return t};d._configure=function(e){i=e;d.create=f();i._configure()}},96138:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},96202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Http2SubchannelConnector=void 0;const r=n(73496);const i=n(34631);const s=n(37216);const o=n(93122);const a=n(77936);const c=n(63038);const u=n(98605);const l=n(98387);const d=n(57213);const f=n(91645);const h=n(97875);const p=n(16497);const m="transport";const g="transport_flowctrl";const y=n(86243).rE;const{HTTP2_HEADER_AUTHORITY:v,HTTP2_HEADER_CONTENT_TYPE:b,HTTP2_HEADER_METHOD:_,HTTP2_HEADER_PATH:E,HTTP2_HEADER_TE:w,HTTP2_HEADER_USER_AGENT:S}=r.constants;const T=2e4;const C=Buffer.from("too_many_pings","ascii");class R{constructor(e,t,n,i){this.session=e;this.options=n;this.remoteName=i;this.keepaliveTimeMs=-1;this.keepaliveTimeoutMs=T;this.keepaliveTimerId=null;this.pendingSendKeepalivePing=false;this.keepaliveTimeoutId=null;this.keepaliveWithoutCalls=false;this.activeCalls=new Set;this.disconnectListeners=[];this.disconnectHandled=false;this.channelzEnabled=true;this.streamTracker=new s.ChannelzCallTracker;this.keepalivesSent=0;this.messagesSent=0;this.messagesReceived=0;this.lastMessageSentTimestamp=null;this.lastMessageReceivedTimestamp=null;this.subchannelAddressString=(0,l.subchannelAddressToString)(t);if(n["grpc.enable_channelz"]===0){this.channelzEnabled=false}this.channelzRef=(0,s.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled);this.userAgent=[n["grpc.primary_user_agent"],`grpc-node-js/${y}`,n["grpc.secondary_user_agent"]].filter(e=>e).join(" ");if("grpc.keepalive_time_ms"in n){this.keepaliveTimeMs=n["grpc.keepalive_time_ms"]}if("grpc.keepalive_timeout_ms"in n){this.keepaliveTimeoutMs=n["grpc.keepalive_timeout_ms"]}if("grpc.keepalive_permit_without_calls"in n){this.keepaliveWithoutCalls=n["grpc.keepalive_permit_without_calls"]===1}else{this.keepaliveWithoutCalls=false}e.once("close",()=>{this.trace("session closed");this.stopKeepalivePings();this.handleDisconnect()});e.once("goaway",(e,t,n)=>{let i=false;if(e===r.constants.NGHTTP2_ENHANCE_YOUR_CALM&&n&&n.equals(C)){i=true}this.trace("connection closed by GOAWAY with code "+e+" and data "+(n===null||n===void 0?void 0:n.toString()));this.reportDisconnectToOwner(i)});e.once("error",e=>{this.trace("connection closed with error "+e.message)});if(c.isTracerEnabled(m)){e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))});e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})}if(this.keepaliveWithoutCalls){this.maybeStartKeepalivePingTimer()}}getChannelzInfo(){var e,t,n;const r=this.session.socket;const i=r.remoteAddress?(0,l.stringToSubchannelAddress)(r.remoteAddress,r.remotePort):null;const s=r.localAddress?(0,l.stringToSubchannelAddress)(r.localAddress,r.localPort):null;let o;if(this.session.encrypted){const t=r;const n=t.getCipher();const i=t.getCertificate();const s=t.getPeerCertificate();o={cipherSuiteStandardName:(e=n.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:n.standardName?null:n.name,localCertificate:i&&"raw"in i?i.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else{o=null}const a={remoteAddress:i,localAddress:s,security:o,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(n=this.session.state.remoteWindowSize)!==null&&n!==void 0?n:null};return a}trace(e){c.trace(o.LogVerbosity.DEBUG,m,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){c.trace(o.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){c.trace(o.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){c.trace(o.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){if(this.disconnectHandled){return}this.disconnectHandled=true;this.disconnectListeners.forEach(t=>t(e))}handleDisconnect(){this.reportDisconnectToOwner(false);setImmediate(()=>{for(const e of this.activeCalls){e.onDisconnect()}})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){if(!this.keepaliveTimerId){return}clearTimeout(this.keepaliveTimerId);this.keepaliveTimerId=null}clearKeepaliveTimeout(){if(!this.keepaliveTimeoutId){return}clearTimeout(this.keepaliveTimeoutId);this.keepaliveTimeoutId=null}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;this.clearKeepaliveTimer();if(!this.canSendPing()){this.pendingSendKeepalivePing=true;return}if(this.channelzEnabled){this.keepalivesSent+=1}this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");if(!this.keepaliveTimeoutId){this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response");this.handleDisconnect()},this.keepaliveTimeoutMs);(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0?void 0:t.call(e)}try{this.session.ping((e,t,n)=>{if(e){this.keepaliveTrace("Ping failed with error "+e.message);this.handleDisconnect()}this.keepaliveTrace("Received ping response");this.clearKeepaliveTimeout();this.maybeStartKeepalivePingTimer()})}catch(e){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;if(!this.canSendPing()){return}if(this.pendingSendKeepalivePing){this.pendingSendKeepalivePing=false;this.maybeSendPing()}else if(!this.keepaliveTimerId&&!this.keepaliveTimeoutId){this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms");this.keepaliveTimerId=(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||t===void 0?void 0:t.call(e)}}stopKeepalivePings(){if(this.keepaliveTimerId){clearTimeout(this.keepaliveTimerId);this.keepaliveTimerId=null}this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e);if(this.activeCalls.size===0){this.session.unref()}}addActiveCall(e){this.activeCalls.add(e);if(this.activeCalls.size===1){this.session.ref();if(!this.keepaliveWithoutCalls){this.maybeStartKeepalivePingTimer()}}}createCall(e,t,n,r,i){const s=e.toHttp2Headers();s[v]=t;s[S]=this.userAgent;s[b]="application/grpc";s[_]="POST";s[E]=n;s[w]="trailers";let o;try{o=this.session.request(s)}catch(e){this.handleDisconnect();throw e}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize);this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let a;let c;if(this.channelzEnabled){this.streamTracker.addCallStarted();a={addMessageSent:()=>{var e;this.messagesSent+=1;this.lastMessageSentTimestamp=new Date;(e=i.addMessageSent)===null||e===void 0?void 0:e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1;this.lastMessageReceivedTimestamp=new Date;(e=i.addMessageReceived)===null||e===void 0?void 0:e.call(i)},onCallEnd:e=>{var t;(t=i.onCallEnd)===null||t===void 0?void 0:t.call(i,e);this.removeActiveCall(c)},onStreamEnd:e=>{var t;if(e){this.streamTracker.addCallSucceeded()}else{this.streamTracker.addCallFailed()}(t=i.onStreamEnd)===null||t===void 0?void 0:t.call(i,e)}}}else{a={addMessageSent:()=>{var e;(e=i.addMessageSent)===null||e===void 0?void 0:e.call(i)},addMessageReceived:()=>{var e;(e=i.addMessageReceived)===null||e===void 0?void 0:e.call(i)},onCallEnd:e=>{var t;(t=i.onCallEnd)===null||t===void 0?void 0:t.call(i,e);this.removeActiveCall(c)},onStreamEnd:e=>{var t;(t=i.onStreamEnd)===null||t===void 0?void 0:t.call(i,e)}}}c=new h.Http2SubchannelCall(o,a,r,this,(0,p.getNextCallNumber)());this.addActiveCall(c);return c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close();(0,s.unregisterChannelzRef)(this.channelzRef)}}class I{constructor(e){this.channelTarget=e;this.session=null;this.isShutdown=false}trace(e){c.trace(o.LogVerbosity.DEBUG,m,(0,d.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,n,s){if(this.isShutdown){return Promise.reject()}return new Promise((o,a)=>{var c,h,p;let m;if(s.realTarget){m=(0,d.uriToString)(s.realTarget);this.trace("creating HTTP/2 session through proxy to "+(0,d.uriToString)(s.realTarget))}else{m=null;this.trace("creating HTTP/2 session to "+(0,l.subchannelAddressToString)(e))}const g=(0,u.getDefaultAuthority)((c=s.realTarget)!==null&&c!==void 0?c:this.channelTarget);let y=t._getConnectionOptions()||{};y.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER;if("grpc-node.max_session_memory"in n){y.maxSessionMemory=n["grpc-node.max_session_memory"]}else{y.maxSessionMemory=Number.MAX_SAFE_INTEGER}let v="http://";if("secureContext"in y){v="https://";if(n["grpc.ssl_target_name_override"]){const e=n["grpc.ssl_target_name_override"];y.checkServerIdentity=(t,n)=>{return(0,i.checkServerIdentity)(e,n)};y.servername=e}else{const e=(p=(h=(0,d.splitHostPort)(g))===null||h===void 0?void 0:h.host)!==null&&p!==void 0?p:"localhost";y.servername=e}if(s.socket){y.createConnection=(e,t)=>{return s.socket}}}else{y.createConnection=(t,n)=>{if(s.socket){return s.socket}else{return f.connect(e)}}}y=Object.assign(Object.assign(Object.assign({},y),e),{enableTrace:n["grpc-node.tls_enable_trace"]===1});const b=r.connect(v+g,y);this.session=b;let _="Failed to connect";b.unref();b.once("connect",()=>{b.removeAllListeners();o(new R(b,e,n,m));this.session=null});b.once("close",()=>{this.session=null;setImmediate(()=>{a(`${_} (${new Date().toISOString()})`)})});b.once("error",e=>{_=e.message;this.trace("connection failed with error "+_)})})}connect(e,t,n){var r,s;if(this.isShutdown){return Promise.reject()}const o=t._getConnectionOptions()||{};if("secureContext"in o){o.ALPNProtocols=["h2"];if(n["grpc.ssl_target_name_override"]){const e=n["grpc.ssl_target_name_override"];o.checkServerIdentity=(t,n)=>{return(0,i.checkServerIdentity)(e,n)};o.servername=e}else{if("grpc.http_connect_target"in n){const e=(0,u.getDefaultAuthority)((r=(0,d.parseUri)(n["grpc.http_connect_target"]))!==null&&r!==void 0?r:{path:"localhost"});const t=(0,d.splitHostPort)(e);o.servername=(s=t===null||t===void 0?void 0:t.host)!==null&&s!==void 0?s:e}}if(n["grpc-node.tls_enable_trace"]){o.enableTrace=true}}return(0,a.getProxiedConnection)(e,n,o).then(r=>this.createSession(e,t,n,r))}shutdown(){var e;this.isShutdown=true;(e=this.session)===null||e===void 0?void 0:e.close();this.session=null}}t.Http2SubchannelConnector=I},96258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{getSocialImageMetadataBaseFallback:function(){return l},isStringOrURL:function(){return o},resolveAbsoluteUrlWithPathname:function(){return m},resolveRelativeUrl:function(){return f},resolveUrl:function(){return d}});const i=s(n(78671));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return typeof e==="string"||e instanceof URL}function a(){return new URL(`http://localhost:${process.env.PORT||3e3}`)}function c(){const e=process.env.VERCEL_BRANCH_URL||process.env.VERCEL_URL;return e?new URL(`https://${e}`):undefined}function u(){const e=process.env.VERCEL_PROJECT_PRODUCTION_URL;return e?new URL(`https://${e}`):undefined}function l(e){const t=a();const n=c();const r=u();let i;if(false){}else{i=true&&n&&process.env.VERCEL_ENV==="preview"?n:e||r||t}return i}function d(e,t){if(e instanceof URL)return e;if(!e)return null;try{const t=new URL(e);return t}catch{}if(!t){t=a()}const n=t.pathname||"";const r=i.default.posix.join(n,e);return new URL(r,t)}function f(e,t){if(typeof e==="string"&&e.startsWith("./")){return i.default.posix.resolve(t,e)}return e}const h=/^(?:\/((?!\.well-known(?:\/.*)?)(?:[^/]+\/)*[^/]+\.\w+))(\/?|$)/i;function p(e){return h.test(e)}function m(e,t,{trailingSlash:n,pathname:r}){e=f(e,r);let i="";const s=t?d(e,t):e;if(typeof s==="string"){i=s}else{i=s.pathname==="/"?s.origin:s.href}if(n&&!i.endsWith("/")){let e=i.startsWith("/");let n=i.includes("?");let r=false;let s=false;if(!e){try{const e=new URL(i);r=t!=null&&e.origin!==t.origin;s=p(e.pathname)}catch{r=true}if(!s&&!r&&!n)return`${i}/`}}return i}},96844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{taintObjectReference:function(){return c},taintUniqueValue:function(){return u}});const i=o(n(61120));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=s(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set)){Object.defineProperty(r,o,a)}else{r[o]=e[o]}}}r.default=e;if(n){n.set(e,r)}return r}function a(){throw Object.defineProperty(new Error("Taint can only be used with the taint flag."),"__NEXT_ERROR_CODE",{value:"E354",enumerable:false,configurable:true})}const c=false?0:a;const u=false?0:a},97173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return a}});const r=n(40740);const i=n(60687);const s=r._(n(43210));const o=n(22142);function a(){const e=(0,s.useContext)(o.TemplateContext);return(0,i.jsx)(i.Fragment,{children:e})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},97181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{resolveIcon:function(){return a},resolveIcons:function(){return c}});const i=n(77341);const s=n(96258);const o=n(4871);function a(e){if((0,s.isStringOrURL)(e))return{url:e};else if(Array.isArray(e))return e;return e}const c=e=>{if(!e){return null}const t={icon:[],apple:[]};if(Array.isArray(e)){t.icon=e.map(a).filter(Boolean)}else if((0,s.isStringOrURL)(e)){t.icon=[a(e)]}else{for(const n of o.IconKeys){const r=(0,i.resolveAsArrayOrUndefined)(e[n]);if(r)t[n]=r.map(a)}}return t}},97587:(e,t,n)=>{"use strict";var r;r={value:true};r=r=t.rS=t.Yi=r=t.Ib=r=r=void 0;const i=n(47099);const s=n(68474);const o=n(61614);const a=n(27603);const c=n(56061);r=c;function u(e){return"@type"in e&&typeof e["@type"]==="string"}r=u;var l;(function(e){e["IDEMPOTENCY_UNKNOWN"]="IDEMPOTENCY_UNKNOWN";e["NO_SIDE_EFFECTS"]="NO_SIDE_EFFECTS";e["IDEMPOTENT"]="IDEMPOTENT"})(l=t.Ib||(t.Ib={}));const d={longs:String,enums:String,bytes:String,defaults:true,oneofs:true,json:true};function f(e,t){if(e===""){return t}else{return e+"."+t}}function h(e){return e instanceof s.Service||e instanceof s.Type||e instanceof s.Enum}function p(e){return e instanceof s.Namespace||e instanceof s.Root}function m(e,t){const n=f(t,e.name);if(h(e)){return[[n,e]]}else{if(p(e)&&typeof e.nested!=="undefined"){return Object.keys(e.nested).map(t=>{return m(e.nested[t],n)}).reduce((e,t)=>e.concat(t),[])}}return[]}function g(e,t){return function n(n){return e.toObject(e.decode(n),t)}}function y(e){return function t(t){if(Array.isArray(t)){throw new Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`)}const n=e.fromObject(t);return e.encode(n).finish()}}function v(e){return(e||[]).reduce((e,t)=>{for(const[n,r]of Object.entries(t)){switch(n){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[n]=r}}return e},{deprecated:false,idempotency_level:l.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function b(e,t,n,r){const s=e.resolvedRequestType;const o=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:y(s),requestDeserialize:g(s,n),responseSerialize:y(o),responseDeserialize:g(o,n),originalName:i(e.name),requestType:E(s,r),responseType:E(o,r),options:v(e.parsedOptions)}}function _(e,t,n,r){const i={};for(const s of e.methodsArray){i[s.name]=b(s,t,n,r)}return i}function E(e,t){const n=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:n.$type.toObject(n,d),fileDescriptorProtos:t}}function w(e,t){const n=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:n.$type.toObject(n,d),fileDescriptorProtos:t}}function S(e,t,n,r){if(e instanceof s.Service){return _(e,t,n,r)}else if(e instanceof s.Type){return E(e,r)}else if(e instanceof s.Enum){return w(e,r)}else{throw new Error("Type mismatch in reflection object handling")}}function T(e,t){const n={};e.resolveAll();const r=e.toDescriptor("proto3").file;const i=r.map(e=>Buffer.from(o.FileDescriptorProto.encode(e).finish()));for(const[r,s]of m(e,"")){n[r]=S(s,r,t,i)}return n}function C(e,t){t=t||{};const n=s.Root.fromDescriptor(e);n.resolveAll();return T(n,t)}function R(e,t){return(0,a.loadProtosWithOptions)(e,t).then(e=>{return T(e,t)})}r=R;function I(e,t){const n=(0,a.loadProtosWithOptionsSync)(e,t);return T(n,t)}t.Yi=I;function O(e,t){t=t||{};const n=s.Root.fromJSON(e);n.resolveAll();return T(n,t)}t.rS=O;function A(e,t){const n=o.FileDescriptorSet.decode(e);return C(n,t)}r=A;function P(e,t){const n=o.FileDescriptorSet.fromObject(e);return C(n,t)}r=P;(0,a.addCommonProtos)()},97659:(e,t,n)=>{"use strict";var r=t;var i=n(32110),s=n(93107);function o(e,t,n,r){var s=false;if(t.resolvedType){if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var o=t.resolvedType.values,a=Object.keys(o),c=0;c<a.length;++c){if(o[a[c]]===t.typeDefault&&!s){e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r);if(!t.repeated)e("break");s=true}e("case%j:",a[c])("case %i:",o[a[c]])("m%s=%j",r,o[a[c]])("break")}e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r)}else{var u=false;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":u=true;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,u)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r);break}}return e}r.fromObject=function e(e){var t=e.fieldsArray;var n=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var a=t[r].resolve(),c=s.safeProp(a.name);if(a.map){n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c);o(n,a,r,c+"[ks[i]]")("}")("}")}else if(a.repeated){n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c);o(n,a,r,c+"[i]")("}")("}")}else{if(!(a.resolvedType instanceof i))n("if(d%s!=null){",c);o(n,a,r,c);if(!(a.resolvedType instanceof i))n("}")}}return n("return m")};function a(e,t,n,r){if(t.resolvedType){if(t.resolvedType instanceof i)e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,n,r,r,n,r,r);else e("d%s=types[%i].toObject(m%s,o)",r,n,r)}else{var s=false;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":s=true;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,s?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r);break}}return e}r.toObject=function e(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");var n=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}");var r=[],o=[],c=[],u=0;for(;u<t.length;++u)if(!t[u].partOf)(t[u].resolve().repeated?r:t[u].map?o:c).push(t[u]);if(r.length){n("if(o.arrays||o.defaults){");for(u=0;u<r.length;++u)n("d%s=[]",s.safeProp(r[u].name));n("}")}if(o.length){n("if(o.objects||o.defaults){");for(u=0;u<o.length;++u)n("d%s={}",s.safeProp(o[u].name));n("}")}if(c.length){n("if(o.defaults){");for(u=0;u<c.length;++u){var l=c[u],d=s.safeProp(l.name);if(l.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",d,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var f="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",d,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else n("d%s=%j",d,l.typeDefault)}n("}")}var h=false;for(u=0;u<t.length;++u){var l=t[u],p=e._fieldsArray.indexOf(l),d=s.safeProp(l.name);if(l.map){if(!h){h=true;n("var ks2")}n("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){");a(n,l,p,d+"[ks2[j]]")("}")}else if(l.repeated){n("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d);a(n,l,p,d+"[j]")("}")}else{n("if(m%s!=null&&m.hasOwnProperty(%j)){",d,l.name);a(n,l,p,d);if(l.partOf)n("if(o.oneofs)")("d%s=%j",s.safeProp(l.partOf.name),l.name)}n("}")}return n("return d")}},97860:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{REDIRECT_ERROR_CODE:function(){return s},RedirectType:function(){return o},isRedirectError:function(){return a}});const i=n(17974);const s="NEXT_REDIRECT";var o=function(e){e["push"]="push";e["replace"]="replace";return e}({});function a(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}const t=e.digest.split(";");const[n,r]=t;const o=t.slice(2,-2).join(";");const a=t.at(-2);const c=Number(a);return n===s&&(r==="replace"||r==="push")&&typeof o==="string"&&!isNaN(c)&&c in i.RedirectStatusCode}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},97875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Http2SubchannelCall=void 0;const r=n(73496);const i=n(21820);const s=n(93122);const o=n(99978);const a=n(25678);const c=n(63038);const u=n(93122);const l="subchannel_call";function d(e){for(const[t,n]of Object.entries(i.constants.errno)){if(n===e){return t}}return"Unknown system error "+e}class f{constructor(e,t,n,i,c){var u;this.http2Stream=e;this.callEventTracker=t;this.listener=n;this.transport=i;this.callId=c;this.isReadFilterPending=false;this.isPushPending=false;this.canPush=false;this.readsClosed=false;this.statusOutput=false;this.unpushedReadMessages=[];this.mappedStatusCode=s.Status.UNKNOWN;this.finalStatus=null;this.internalError=null;const l=(u=i.getOptions()["grpc.max_receive_message_length"])!==null&&u!==void 0?u:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new a.StreamDecoder(l);e.on("response",(e,t)=>{let n="";for(const t of Object.keys(e)){n+="		"+t+": "+e[t]+"\n"}this.trace("Received server headers:\n"+n);switch(e[":status"]){case 400:this.mappedStatusCode=s.Status.INTERNAL;break;case 401:this.mappedStatusCode=s.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=s.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=s.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=s.Status.UNAVAILABLE;break;default:this.mappedStatusCode=s.Status.UNKNOWN}if(t&r.constants.NGHTTP2_FLAG_END_STREAM){this.handleTrailers(e)}else{let t;try{t=o.Metadata.fromHttp2Headers(e)}catch(e){this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new o.Metadata});return}this.listener.onReceiveMetadata(t)}});e.on("trailers",e=>{this.handleTrailers(e)});e.on("data",e=>{if(this.statusOutput){return}this.trace("receive HTTP/2 data frame of length "+e.length);let t;try{t=this.decoder.write(e)}catch(e){this.cancelWithStatus(s.Status.RESOURCE_EXHAUSTED,e.message);return}for(const e of t){this.trace("parsed message of length "+e.length);this.callEventTracker.addMessageReceived();this.tryPush(e)}});e.on("end",()=>{this.readsClosed=true;this.maybeOutputStatus()});e.on("close",()=>{process.nextTick(()=>{var t;this.trace("HTTP/2 stream closed with code "+e.rstCode);if(((t=this.finalStatus)===null||t===void 0?void 0:t.code)===s.Status.OK){return}let n;let i="";switch(e.rstCode){case r.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null){return}n=s.Status.INTERNAL;i=`Received RST_STREAM with code ${e.rstCode}`;break;case r.constants.NGHTTP2_REFUSED_STREAM:n=s.Status.UNAVAILABLE;i="Stream refused by server";break;case r.constants.NGHTTP2_CANCEL:n=s.Status.CANCELLED;i="Call cancelled";break;case r.constants.NGHTTP2_ENHANCE_YOUR_CALM:n=s.Status.RESOURCE_EXHAUSTED;i="Bandwidth exhausted or memory limit exceeded";break;case r.constants.NGHTTP2_INADEQUATE_SECURITY:n=s.Status.PERMISSION_DENIED;i="Protocol not secure enough";break;case r.constants.NGHTTP2_INTERNAL_ERROR:n=s.Status.INTERNAL;if(this.internalError===null){i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`}else{if(this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"){n=s.Status.UNAVAILABLE;i=this.internalError.message}else{i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`}}break;default:n=s.Status.INTERNAL;i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:n,details:i,metadata:new o.Metadata,rstCode:e.rstCode})})});e.on("error",e=>{if(e.code!=="ERR_HTTP2_STREAM_ERROR"){this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+d(e.errno)+" syscall="+e.syscall);this.internalError=e}this.callEventTracker.onStreamEnd(false)})}onDisconnect(){this.endCall({code:s.Status.UNAVAILABLE,details:"Connection dropped",metadata:new o.Metadata})}outputStatus(){if(!this.statusOutput){this.statusOutput=true;this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"');this.callEventTracker.onCallEnd(this.finalStatus);process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)});this.http2Stream.resume()}}trace(e){c.trace(u.LogVerbosity.DEBUG,l,"["+this.callId+"] "+e)}endCall(e){if(this.finalStatus===null||this.finalStatus.code===s.Status.OK){this.finalStatus=e;this.maybeOutputStatus()}this.destroyHttp2Stream()}maybeOutputStatus(){if(this.finalStatus!==null){if(this.finalStatus.code!==s.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending){this.outputStatus()}}}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null));this.canPush=false;this.isPushPending=true;process.nextTick(()=>{this.isPushPending=false;if(this.statusOutput){return}this.listener.onReceiveMessage(e);this.maybeOutputStatus()})}tryPush(e){if(this.canPush){this.http2Stream.pause();this.push(e)}else{this.trace("unpushedReadMessages.push message of length "+e.length);this.unpushedReadMessages.push(e)}}handleTrailers(e){this.callEventTracker.onStreamEnd(true);let t="";for(const n of Object.keys(e)){t+="		"+n+": "+e[n]+"\n"}this.trace("Received server trailers:\n"+t);let n;try{n=o.Metadata.fromHttp2Headers(e)}catch(e){n=new o.Metadata}const r=n.getMap();let i=this.mappedStatusCode;if(i===s.Status.UNKNOWN&&typeof r["grpc-status"]==="string"){const e=Number(r["grpc-status"]);if(e in s.Status){i=e;this.trace("received status code "+e+" from server")}n.remove("grpc-status")}let a="";if(typeof r["grpc-message"]==="string"){try{a=decodeURI(r["grpc-message"])}catch(e){a=r["grpc-message"]}n.remove("grpc-message");this.trace('received status details string "'+a+'" from server')}const c={code:i,details:a,metadata:n};this.endCall(c)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;if(((e=this.finalStatus)===null||e===void 0?void 0:e.code)===s.Status.OK){t=r.constants.NGHTTP2_NO_ERROR}else{t=r.constants.NGHTTP2_CANCEL}this.trace("close http2 stream with code "+t);this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"');this.endCall({code:e,details:t,metadata:new o.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==s.Status.OK){this.readsClosed=true;this.maybeOutputStatus();return}this.canPush=true;if(this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);const n=t=>{process.nextTick(()=>{var n;let r=s.Status.UNAVAILABLE;if((t===null||t===void 0?void 0:t.code)==="ERR_STREAM_WRITE_AFTER_END"){r=s.Status.INTERNAL}if(t){this.cancelWithStatus(r,`Write error: ${t.message}`)}(n=e.callback)===null||n===void 0?void 0:n.call(e)})};this.trace("sending data chunk of length "+t.length);this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,n)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new o.Metadata})}}halfClose(){this.trace("end() called");this.trace("calling end() on HTTP/2 stream");this.http2Stream.end()}}t.Http2SubchannelCall=f},98344:e=>{"use strict";e.exports=t;function t(e,n){if(typeof e==="string"){n=e;e=undefined}var r=[];function i(e){if(typeof e!=="string"){var n=s();if(t.verbose)console.log("codegen: "+n);n="return "+n;if(e){var o=Object.keys(e),a=new Array(o.length+1),c=new Array(o.length),u=0;while(u<o.length){a[u]=o[u];c[u]=e[o[u++]]}a[u]=n;return Function.apply(null,a).apply(null,c)}return Function(n)()}var l=new Array(arguments.length-1),d=0;while(d<l.length)l[d]=arguments[++d];d=0;e=e.replace(/%([%dfijs])/g,function e(e,t){var n=l[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"});if(d!==l.length)throw Error("parameter count mismatch");r.push(e);return i}function s(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}i.toString=s;return i}t.verbose=false},98387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;const r=n(91645);function i(e){return"port"in e}t.isTcpSubchannelAddress=i;function s(e,t){if(!e&&!t){return true}if(!e||!t){return false}if(i(e)){return i(t)&&e.host===t.host&&e.port===t.port}else{return!i(t)&&e.path===t.path}}t.subchannelAddressEqual=s;function o(e){if(i(e)){return e.host+":"+e.port}else{return e.path}}t.subchannelAddressToString=o;const a=443;function c(e,t){if((0,r.isIP)(e)){return{host:e,port:t!==null&&t!==void 0?t:a}}else{return{path:e}}}t.stringToSubchannelAddress=c},98479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{DynamicServerError:function(){return i},isDynamicServerError:function(){return s}});const r="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function s(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}return e.digest===r}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},98599:(e,t,n)=>{"use strict";n.d(t,{s:()=>o,t:()=>s});var r=n(43210);function i(e,t){if(typeof e==="function"){return e(t)}else if(e!==null&&e!==void 0){e.current=t}}function s(...e){return t=>{let n=false;const r=e.map(e=>{const r=i(e,t);if(!n&&typeof r=="function"){n=true}return r});if(n){return()=>{for(let t=0;t<r.length;t++){const n=r[t];if(typeof n=="function"){n()}else{i(e[t],null)}}}}}}function o(...e){return r.useCallback(s(...e),e)}},98605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;const r=n(57213);const i={};let s=null;function o(e,t){i[e]=t}t.registerResolver=o;function a(e){s=e}t.registerDefaultScheme=a;function c(e,t,n){if(e.scheme!==undefined&&e.scheme in i){return new i[e.scheme](e,t,n)}else{throw new Error(`No resolver could be created for target ${(0,r.uriToString)(e)}`)}}t.createResolver=c;function u(e){if(e.scheme!==undefined&&e.scheme in i){return i[e.scheme].getDefaultAuthority(e)}else{throw new Error(`Invalid target ${(0,r.uriToString)(e)}`)}}t.getDefaultAuthority=u;function l(e){if(e.scheme===undefined||!(e.scheme in i)){if(s!==null){return{scheme:s,authority:undefined,path:(0,r.uriToString)(e)}}else{return null}}return e}t.mapUriDefaultScheme=l},99978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Metadata=void 0;const r=n(63038);const i=n(93122);const s=n(82281);const o=/^[0-9a-z_.-]+$/;const a=/^[ -~]*$/;function c(e){return o.test(e)}function u(e){return a.test(e)}function l(e){return e.endsWith("-bin")}function d(e){return!e.startsWith("grpc-")}function f(e){return e.toLowerCase()}function h(e,t){if(!c(e)){throw new Error('Metadata key "'+e+'" contains illegal characters')}if(t!==null&&t!==undefined){if(l(e)){if(!Buffer.isBuffer(t)){throw new Error("keys that end with '-bin' must have Buffer values")}}else{if(Buffer.isBuffer(t)){throw new Error("keys that don't end with '-bin' must have String values")}if(!u(t)){throw new Error('Metadata string value "'+t+'" contains illegal characters')}}}}class p{constructor(e={}){this.internalRepr=new Map;this.options=e}set(e,t){e=f(e);h(e,t);this.internalRepr.set(e,[t])}add(e,t){e=f(e);h(e,t);const n=this.internalRepr.get(e);if(n===undefined){this.internalRepr.set(e,[t])}else{n.push(t)}}remove(e){e=f(e);this.internalRepr.delete(e)}get(e){e=f(e);return this.internalRepr.get(e)||[]}getMap(){const e={};for(const[t,n]of this.internalRepr){if(n.length>0){const r=n[0];e[t]=Buffer.isBuffer(r)?Buffer.from(r):r}}return e}clone(){const e=new p(this.options);const t=e.internalRepr;for(const[e,n]of this.internalRepr){const r=n.map(e=>{if(Buffer.isBuffer(e)){return Buffer.from(e)}else{return e}});t.set(e,r)}return e}merge(e){for(const[t,n]of e.internalRepr){const e=(this.internalRepr.get(t)||[]).concat(n);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};for(const[t,n]of this.internalRepr){e[t]=n.map(m)}return e}toJSON(){const e={};for(const[t,n]of this.internalRepr){e[t]=n}return e}static fromHttp2Headers(e){const t=new p;for(const n of Object.keys(e)){if(n.charAt(0)===":"){continue}const o=e[n];try{if(l(n)){if(Array.isArray(o)){o.forEach(e=>{t.add(n,Buffer.from(e,"base64"))})}else if(o!==undefined){if(d(n)){o.split(",").forEach(e=>{t.add(n,Buffer.from(e.trim(),"base64"))})}else{t.add(n,Buffer.from(o,"base64"))}}}else{if(Array.isArray(o)){o.forEach(e=>{t.add(n,e)})}else if(o!==undefined){t.add(n,o)}}}catch(t){const e=`Failed to add metadata entry ${n}: ${o}. ${(0,s.getErrorMessage)(t)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,r.log)(i.LogVerbosity.ERROR,e)}}return t}}t.Metadata=p;const m=e=>{return Buffer.isBuffer(e)?e.toString("base64"):e}}};